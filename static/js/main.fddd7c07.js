/*! For license information please see main.fddd7c07.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var a,o,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in a=Object(arguments[u]))n.call(a,c)&&(s[c]=a[c]);if(t){o=t(a);for(var l=0;l<o.length;l++)r.call(a,o[l])&&(s[o[l]]=a[o[l]])}}return s}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,I=60106,S=60107,E=60108,_=60114,T=60109,A=60110,C=60112,N=60113,P=60120,O=60115,D=60116,R=60121,L=60128,j=60129,M=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),I=U("react.portal"),S=U("react.fragment"),E=U("react.strict_mode"),_=U("react.profiler"),T=U("react.provider"),A=U("react.context"),C=U("react.forward_ref"),N=U("react.suspense"),P=U("react.suspense_list"),O=U("react.memo"),D=U("react.lazy"),R=U("react.block"),U("react.scope"),L=U("react.opaque.id"),j=U("react.debug_trace_mode"),M=U("react.offscreen"),F=U("react.legacy_hidden")}var V,B="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var K=!1;function W(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function H(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case I:return"Portal";case _:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return G(e.type);case R:return G(e._render);case D:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function de(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,ve,me=(ve=function(e,t){if(e.namespaceURI!==fe.svg||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ge={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ke=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ge.hasOwnProperty(e)&&ge[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ge).forEach((function(e){ke.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ge[t]=ge[e]}))}));var xe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Te=null,Ae=null;function Ce(e){if(e=ni(e)){if("function"!==typeof _e)throw Error(o(280));var t=e.stateNode;t&&(t=ii(t),_e(e.stateNode,e.type,t))}}function Ne(e){Te?Ae?Ae.push(e):Ae=[e]:Te=e}function Pe(){if(Te){var e=Te,t=Ae;if(Ae=Te=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Oe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Re(){}var Le=Oe,je=!1,Me=!1;function Fe(){null===Te&&null===Ae||(Re(),Pe())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ve=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(ve){Ve=!1}function ze(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var qe=!1,Ke=null,We=!1,He=null,Ge={onError:function(e){qe=!0,Ke=e}};function Qe(e,t,n,r,i,a,o,s,u){qe=!1,Ke=null,ze.apply(Ge,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if($e(e)!==e)throw Error(o(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xe(i),e;if(a===r)return Xe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,at=[],ot=null,st=null,ut=null,ct=new Map,lt=new Map,ft=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":ot=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(t.pointerId)}}function vt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=dt(t,n,r,i,a),null!==t&&(null!==(t=ni(t))&&tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ti(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function gt(e,t,n){yt(e)&&n.delete(t)}function kt(){for(it=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==ot&&yt(ot)&&(ot=null),null!==st&&yt(st)&&(st=null),null!==ut&&yt(ut)&&(ut=null),ct.forEach(gt),lt.forEach(gt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,kt)))}function wt(e){function t(t){return bt(t,e)}if(0<at.length){bt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ot&&bt(ot,e),null!==st&&bt(st,e),null!==ut&&bt(ut,e),ct.forEach(t),lt.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)mt(n),null===n.blockedOn&&ft.shift()}function xt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var It={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionend:xt("Transition","TransitionEnd")},St={},Et={};function _t(e){if(St[e])return St[e];if(!It[e])return e;var t,n=It[e];for(t in n)if(n.hasOwnProperty(t)&&t in Et)return St[e]=n[t];return e}f&&(Et=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);var Tt=_t("animationend"),At=_t("animationiteration"),Ct=_t("animationstart"),Nt=_t("transitionend"),Pt=new Map,Ot=new Map,Dt=["abort","abort",Tt,"animationEnd",At,"animationIteration",Ct,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Nt,"transitionEnd","waiting","waiting"];function Rt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Lt=8;function jt(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Mt(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Lt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=jt(u),i=Lt):0!==(s&=a)&&(r=jt(s),i=Lt)}else 0!==(a=n&~o)?(r=jt(a),i=Lt):0!==s&&(r=jt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-qt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(jt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-qt(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Vt(24&~t))?Ut(10,t):e;case 10:return 0===(e=Vt(192&~t))?Ut(8,t):e;case 8:return 0===(e=Vt(3584&~t))&&(0===(e=Vt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Vt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Vt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-qt(t)]=n}var qt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Wt|0)|0},Kt=Math.log,Wt=Math.LN2;var Ht=a.unstable_UserBlockingPriority,Gt=a.unstable_runWithPriority,Qt=!0;function $t(e,t,n,r){je||Re();var i=Xt,a=je;je=!0;try{De(i,e,t,n,r)}finally{(je=a)||Fe()}}function Yt(e,t,n,r){Gt(Ht,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Qt)if((i=0===(4&t))&&0<at.length&&-1<ht.indexOf(e))e=dt(null,e,t,n,r),at.push(e);else{var a=Jt(e,t,n,r);if(null===a)i&&pt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=dt(a,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ot=vt(ot,e,t,n,r,i),!0;case"dragenter":return st=vt(st,e,t,n,r,i),!0;case"mouseover":return ut=vt(ut,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ct.set(a,vt(ct.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,lt.set(a,vt(lt.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;pt(e,r)}Rr(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=Ee(r);if(null!==(i=ti(i))){var a=$e(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Ye(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Rr(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function on(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:on,this.isPropagationStopped=on,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var un,cn,ln,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=sn(fn),dn=i({},fn,{view:0,detail:0}),pn=sn(dn),vn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(un=e.screenX-ln.screenX,cn=e.screenY-ln.screenY):cn=un=0,ln=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),mn=sn(vn),yn=sn(i({},vn,{dataTransfer:0})),gn=sn(i({},dn,{relatedTarget:0})),kn=sn(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(bn),xn=sn(i({},fn,{data:0})),In={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Tn(){return _n}var An=i({},dn,{key:function(e){if(e.key){var t=In[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(An),Nn=sn(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),On=sn(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(Dn),Ln=[9,13,27,32],jn=f&&"CompositionEvent"in window,Mn=null;f&&"documentMode"in document&&(Mn=document.documentMode);var Fn=f&&"TextEvent"in window&&!Mn,Un=f&&(!jn||Mn&&8<Mn&&11>=Mn),Vn=String.fromCharCode(32),Bn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Kn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ne(r),0<(t=jr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,$n=null;function Yn(e){Ar(e,0)}function Xn(e){if(X(ri(e)))return e}function Jn(e,t){if("change"===e)return t}var Zn=!1;if(f){var er;if(f){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"===typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Qn&&(Qn.detachEvent("onpropertychange",ir),$n=Qn=null)}function ir(e){if("value"===e.propertyName&&Xn($n)){var t=[];if(Gn(t,$n,e,Ee(e)),e=Yn,je)e(t);else{je=!0;try{Oe(e,t)}finally{je=!1,Fe()}}}}function ar(e,t,n){"focusin"===e?(rr(),$n=n,(Qn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn($n)}function sr(e,t){if("click"===e)return Xn(t)}function ur(e,t){if("input"===e||"change"===e)return Xn(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},lr=Object.prototype.hasOwnProperty;function fr(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!lr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=f&&"documentMode"in document&&11>=document.documentMode,gr=null,kr=null,br=null,wr=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==J(r)||("selectionStart"in(r=gr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&fr(br,r)||(br=r,0<(r=jr(kr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}Rt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Rt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Rt(Dt,2);for(var Ir="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<Ir.length;Sr++)Ot.set(Ir[Sr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_r=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function Tr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Qe.apply(this,arguments),qe){if(!qe)throw Error(o(198));var l=Ke;qe=!1,Ke=null,We||(We=!0,He=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Tr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Tr(i,s,c),a=u}}}if(We)throw e=He,We=!1,He=null,e}function Cr(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Nr="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Nr]||(e[Nr]=!0,s.forEach((function(t){_r.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&_r.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=ai(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Dr(a,e,i,t),o.add(s))}function Dr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Yt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Ve||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Rr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ti(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Me)return e(t,n);Me=!0;try{return Le(e,t,n)}finally{Me=!1,Fe()}}((function(){var r=a,i=Ee(n),o=[];e:{var s=Pt.get(e);if(void 0!==s){var u=hn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":c="focus",u=gn;break;case"focusout":c="blur",u=gn;break;case"beforeblur":case"afterblur":u=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Pn;break;case Tt:case At:case Ct:u=kn;break;case Nt:u=On;break;case"scroll":u=pn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Nn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ue(p,h))&&l.push(Lr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ti(c)&&!c[Zr])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ti(c):null)&&(c!==(f=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=mn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Nn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ri(u),d=null==c?s:ri(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ti(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Mr(d))p++;for(d=0,v=h;v;v=Mr(v))d++;for(;0<p-d;)l=Mr(l),p--;for(;0<d-p;)h=Mr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Mr(l),h=Mr(h)}l=null}else l=null;null!==u&&Fr(o,s,u,l,!1),null!==c&&null!==f&&Fr(o,f,c,l,!0)}if("select"===(u=(s=r?ri(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Jn;else if(Hn(s))if(Zn)m=ur;else{m=or;var y=ar}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=sr);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?ri(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gr=y,kr=r,br=null);break;case"focusout":br=kr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,xr(o,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":xr(o,n,i)}var g;if(jn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Kn?zn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Un&&"ko"!==n.locale&&(Kn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Kn&&(g=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,Kn=!0)),0<(y=jr(r,k)).length&&(k=new xn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=qn(n))&&(k.data=g))),(g=Fn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Vn);case"textInput":return(e=t.data)===Vn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Kn)return"compositionend"===e||!jn&&zn(e,t)?(e=nn(),tn=en=Zt=null,Kn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=jr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ar(o,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ue(e,n))&&r.unshift(Lr(e,a,i)),null!=(a=Ue(e,t))&&r.push(Lr(e,a,i))),e=e.return}return r}function Mr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ue(n,a))&&o.unshift(Lr(n,u,s)):i||null!=(u=Ue(n,a))&&o.push(Lr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Ur(){}var Vr=null,Br=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function qr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Kr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Hr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Gr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var $r=0;var Yr=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Yr,Jr="__reactProps$"+Yr,Zr="__reactContainer$"+Yr,ei="__reactEvents$"+Yr;function ti(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zr]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[Xr])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[Xr]||e[Zr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ii(e){return e[Jr]||null}function ai(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var oi=[],si=-1;function ui(e){return{current:e}}function ci(e){0>si||(e.current=oi[si],oi[si]=null,si--)}function li(e,t){si++,oi[si]=e.current,e.current=t}var fi={},hi=ui(fi),di=ui(!1),pi=fi;function vi(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){ci(di),ci(hi)}function gi(e,t,n){if(hi.current!==fi)throw Error(o(168));li(hi,t),li(di,n)}function ki(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,pi=hi.current,li(hi,e),li(di,di.current),!0}function wi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=ki(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,ci(di),ci(hi),li(hi,e)):ci(di),li(di,n)}var xi=null,Ii=null,Si=a.unstable_runWithPriority,Ei=a.unstable_scheduleCallback,_i=a.unstable_cancelCallback,Ti=a.unstable_shouldYield,Ai=a.unstable_requestPaint,Ci=a.unstable_now,Ni=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Oi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Ri=a.unstable_LowPriority,Li=a.unstable_IdlePriority,ji={},Mi=void 0!==Ai?Ai:function(){},Fi=null,Ui=null,Vi=!1,Bi=Ci(),zi=1e4>Bi?Ci:function(){return Ci()-Bi};function qi(){switch(Ni()){case Pi:return 99;case Oi:return 98;case Di:return 97;case Ri:return 96;case Li:return 95;default:throw Error(o(332))}}function Ki(e){switch(e){case 99:return Pi;case 98:return Oi;case 97:return Di;case 96:return Ri;case 95:return Li;default:throw Error(o(332))}}function Wi(e,t){return e=Ki(e),Si(e,t)}function Hi(e,t,n){return e=Ki(e),Ei(e,t,n)}function Gi(){if(null!==Ui){var e=Ui;Ui=null,_i(e)}Qi()}function Qi(){if(!Vi&&null!==Fi){Vi=!0;var e=0;try{var t=Fi;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(n){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ei(Pi,Gi),n}finally{Vi=!1}}}var $i=w.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=ui(null),Ji=null,Zi=null,ea=null;function ta(){ea=Zi=Ji=null}function na(e){var t=Xi.current;ci(Xi),e.type._context._currentValue=t}function ra(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ia(e,t){Ji=e,ea=Zi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(jo=!0),e.firstContext=null)}function aa(e,t){if(ea!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ea=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zi){if(null===Ji)throw Error(o(308));Zi=t,Ji.dependencies={lanes:0,firstContext:t,responders:null}}else Zi=Zi.next=t;return e._currentValue}var oa=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ua(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ca(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function la(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ha(e,t,n,r){var a=e.updateQueue;oa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:oa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Bs|=s,e.lanes=s,e.memoizedState=h}}function da(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var pa=(new r.Component).refs;function va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=ca(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),la(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=ca(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),la(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=ca(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),la(e,i),pu(e,r,n)}};function ya(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,a))}function ga(e,t,n){var r=!1,i=fi,a=t.contextType;return"object"===typeof a&&null!==a?a=aa(a):(i=mi(t)?pi:hi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?vi(e,i):fi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=pa,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=aa(a):(a=mi(t)?pi:hi.current,i.context=vi(e,a)),ha(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ma.enqueueReplaceState(i,i.state,null),ha(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var wa=Array.isArray;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===pa&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ia(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Sa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Yu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xa(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=xa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Yu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case I:return(t=Xu(t,e.mode,n)).return=e,t}if(wa(t)||z(t))return(t=Qu(t,e.mode,n,null)).return=e,t;Ia(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===S?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case I:return n.key===i?l(e,t,n,r):null}if(wa(n)||z(n))return null!==i?null:f(e,t,n,r,null);Ia(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===S?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case I:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(wa(r)||z(r))return f(t,e=e.get(n)||null,r,i,null);Ia(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=z(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===S&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===S){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=xa(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===S?((r=Qu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=xa(e,r,a),u.return=e,e=u)}return s(e);case I:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xu(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Yu(a,e.mode,u)).return=e,e=r),s(e);if(wa(a))return v(e,r,a,u);if(z(a))return m(e,r,a,u);if(l&&Ia(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ea=Sa(!0),_a=Sa(!1),Ta={},Aa=ui(Ta),Ca=ui(Ta),Na=ui(Ta);function Pa(e){if(e===Ta)throw Error(o(174));return e}function Oa(e,t){switch(li(Na,t),li(Ca,e),li(Aa,Ta),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:de(null,"");break;default:t=de(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(Aa),li(Aa,t)}function Da(){ci(Aa),ci(Ca),ci(Na)}function Ra(e){Pa(Na.current);var t=Pa(Aa.current),n=de(t,e.type);t!==n&&(li(Ca,e),li(Aa,n))}function La(e){Ca.current===e&&(ci(Aa),ci(Ca))}var ja=ui(0);function Ma(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fa=null,Ua=null,Va=!1;function Ba(e,t){var n=Ku(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function za(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function qa(e){if(Va){var t=Ua;if(t){var n=t;if(!za(e,t)){if(!(t=Gr(n.nextSibling))||!za(e,t))return e.flags=-1025&e.flags|2,Va=!1,void(Fa=e);Ba(Fa,n)}Fa=e,Ua=Gr(t.firstChild)}else e.flags=-1025&e.flags|2,Va=!1,Fa=e}}function Ka(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Fa=e}function Wa(e){if(e!==Fa)return!1;if(!Va)return Ka(e),Va=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!qr(t,e.memoizedProps))for(t=Ua;t;)Ba(e,t),t=Gr(t.nextSibling);if(Ka(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ua=Gr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ua=null}}else Ua=Fa?Gr(e.stateNode.nextSibling):null;return!0}function Ha(){Ua=Fa=null,Va=!1}var Ga=[];function Qa(){for(var e=0;e<Ga.length;e++)Ga[e]._workInProgressVersionPrimary=null;Ga.length=0}var $a=w.ReactCurrentDispatcher,Ya=w.ReactCurrentBatchConfig,Xa=0,Ja=null,Za=null,eo=null,to=!1,no=!1;function ro(){throw Error(o(321))}function io(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function ao(e,t,n,r,i,a){if(Xa=a,Ja=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$a.current=null===e||null===e.memoizedState?Oo:Do,e=n(r,i),no){a=0;do{if(no=!1,!(25>a))throw Error(o(301));a+=1,eo=Za=null,t.updateQueue=null,$a.current=Ro,e=n(r,i)}while(no)}if($a.current=Po,t=null!==Za&&null!==Za.next,Xa=0,eo=Za=Ja=null,to=!1,t)throw Error(o(300));return e}function oo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===eo?Ja.memoizedState=eo=e:eo=eo.next=e,eo}function so(){if(null===Za){var e=Ja.alternate;e=null!==e?e.memoizedState:null}else e=Za.next;var t=null===eo?Ja.memoizedState:eo.next;if(null!==t)eo=t,Za=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Za=e).memoizedState,baseState:Za.baseState,baseQueue:Za.baseQueue,queue:Za.queue,next:null},null===eo?Ja.memoizedState=eo=e:eo=eo.next=e}return eo}function uo(e,t){return"function"===typeof t?t(e):t}function co(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Za,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Xa&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,Ja.lanes|=l,Bs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,cr(r,t.memoizedState)||(jo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);cr(a,t.memoizedState)||(jo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function fo(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xa&e)===e)&&(t._workInProgressVersionPrimary=r,Ga.push(t))),e)return n(t._source);throw Ga.push(t),Error(o(350))}function ho(e,t,n,r){var i=Ds;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=$a.current,c=u.useState((function(){return fo(i,t,n)})),l=c[1],f=c[0];c=eo;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Ja;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!cr(s,e)){e=n(t._source),cr(f,e)||(l(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-qt(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),cr(p,n)&&cr(v,t)&&cr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:uo,lastRenderedState:f}).dispatch=l=No.bind(null,Ja,e),c.queue=e,c.baseQueue=null,f=fo(i,t,n),c.memoizedState=c.baseState=f),f}function po(e,t,n){return ho(so(),e,t,n)}function vo(e){var t=oo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:uo,lastRenderedState:e}).dispatch=No.bind(null,Ja,e),[t.memoizedState,e]}function mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ja.updateQueue)?(t={lastEffect:null},Ja.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function yo(e){return e={current:e},oo().memoizedState=e}function go(){return so().memoizedState}function ko(e,t,n,r){var i=oo();Ja.flags|=e,i.memoizedState=mo(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==Za){var o=Za.memoizedState;if(a=o.destroy,null!==r&&io(r,o.deps))return void mo(t,n,a,r)}Ja.flags|=e,i.memoizedState=mo(1|t,n,a,r)}function wo(e,t){return ko(516,4,e,t)}function xo(e,t){return bo(516,4,e,t)}function Io(e,t){return bo(4,2,e,t)}function So(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Eo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,So.bind(null,t,e),n)}function _o(){}function To(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ao(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Co(e,t){var n=qi();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=Ya.transition;Ya.transition=1;try{e(!1),t()}finally{Ya.transition=n}}))}function No(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Ja||null!==o&&o===Ja)no=to=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,cr(u,s))return}catch(c){}pu(e,i,r)}}var Po={readContext:aa,useCallback:ro,useContext:ro,useEffect:ro,useImperativeHandle:ro,useLayoutEffect:ro,useMemo:ro,useReducer:ro,useRef:ro,useState:ro,useDebugValue:ro,useDeferredValue:ro,useTransition:ro,useMutableSource:ro,useOpaqueIdentifier:ro,unstable_isNewReconciler:!1},Oo={readContext:aa,useCallback:function(e,t){return oo().memoizedState=[e,void 0===t?null:t],e},useContext:aa,useEffect:wo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ko(4,2,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ko(4,2,e,t)},useMemo:function(e,t){var n=oo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=oo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=No.bind(null,Ja,e),[r.memoizedState,e]},useRef:yo,useState:vo,useDebugValue:_o,useDeferredValue:function(e){var t=vo(e),n=t[0],r=t[1];return wo((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=vo(!1),t=e[0];return yo(e=Co.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=oo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ho(r,e,t,n)},useOpaqueIdentifier:function(){if(Va){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+($r++).toString(36))),Error(o(355))})),n=vo(t)[1];return 0===(2&Ja.mode)&&(Ja.flags|=516,mo(5,(function(){n("r:"+($r++).toString(36))}),void 0,null)),t}return vo(t="r:"+($r++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:aa,useCallback:To,useContext:aa,useEffect:xo,useImperativeHandle:Eo,useLayoutEffect:Io,useMemo:Ao,useReducer:co,useRef:go,useState:function(){return co(uo)},useDebugValue:_o,useDeferredValue:function(e){var t=co(uo),n=t[0],r=t[1];return xo((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=co(uo)[0];return[go().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return co(uo)[0]},unstable_isNewReconciler:!1},Ro={readContext:aa,useCallback:To,useContext:aa,useEffect:xo,useImperativeHandle:Eo,useLayoutEffect:Io,useMemo:Ao,useReducer:lo,useRef:go,useState:function(){return lo(uo)},useDebugValue:_o,useDeferredValue:function(e){var t=lo(uo),n=t[0],r=t[1];return xo((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=lo(uo)[0];return[go().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return lo(uo)[0]},unstable_isNewReconciler:!1},Lo=w.ReactCurrentOwner,jo=!1;function Mo(e,t,n,r){t.child=null===e?_a(t,null,n,r):Ea(t,e.child,n,r)}function Fo(e,t,n,r,i){n=n.render;var a=t.ref;return ia(t,i),r=ao(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Mo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Uo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Wu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Vo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Hu(o,r)).ref=t.ref,e.return=t,t.child=e)}function Vo(e,t,n,r,i,a){if(null!==e&&fr(e.memoizedProps,r)&&e.ref===t.ref){if(jo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(jo=!0)}return qo(e,t,n,r,a)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xu(t,e),null;t.memoizedState={baseLanes:0},xu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xu(t,r);return Mo(e,t,i,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function qo(e,t,n,r,i){var a=mi(n)?pi:hi.current;return a=vi(t,a),ia(t,i),n=ao(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Mo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Ko(e,t,n,r,i){if(mi(n)){var a=!0;bi(t)}else a=!1;if(ia(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ga(t,n,r),ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=aa(c):c=vi(t,c=mi(n)?pi:hi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&ka(t,o,r,c),oa=!1;var h=t.memoizedState;o.state=h,ha(t,r,o,i),u=t.memoizedState,s!==r||h!==u||di.current||oa?("function"===typeof l&&(va(t,n,l,r),u=t.memoizedState),(s=oa||ya(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ua(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Yi(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=aa(u):u=vi(t,u=mi(n)?pi:hi.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&ka(t,o,r,u),oa=!1,h=t.memoizedState,o.state=h,ha(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||di.current||oa?("function"===typeof d&&(va(t,n,d,r),p=t.memoizedState),(c=oa||ya(t,n,c,r,h,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Wo(e,t,n,r,a,i)}function Wo(e,t,n,r,i,a){zo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&wi(t,n,!1),as(e,t,a);r=t.stateNode,Lo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ea(t,e.child,null,a),t.child=Ea(t,null,s,a)):Mo(e,t,s,a),t.memoizedState=r.state,i&&wi(t,n,!0),t.child}function Ho(e){var t=e.stateNode;t.pendingContext?gi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gi(0,t.context,!1),Oa(e,t.containerInfo)}var Go,Qo,$o,Yo,Xo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=ja.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),li(ja,1&a),null===e?(void 0!==i.fallback&&qa(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,t.lanes=33554432,e):((n=$u({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Xo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=$u(t,i,0,null),n=Qu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Hu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hu(o,s),null!==e?r=Hu(e,r):(r=Qu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ra(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Mo(e,t,r.children,n),0!==(2&(r=ja.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(li(ja,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ma(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ma(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Hu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!Va)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&yi(),null;case 3:return Da(),ci(di),ci(hi),Qa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Wa(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Qo(t),null;case 5:La(t);var a=Pa(Na.current);if(n=t.type,null!==e&&null!=t.stateNode)$o(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Aa.current),Wa(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Xr]=t,r[Jr]=s,n){case"dialog":Cr("cancel",r),Cr("close",r);break;case"iframe":case"object":case"embed":Cr("load",r);break;case"video":case"audio":for(e=0;e<Er.length;e++)Cr(Er[e],r);break;case"source":Cr("error",r);break;case"img":case"image":case"link":Cr("error",r),Cr("load",r);break;case"details":Cr("toggle",r);break;case"input":ee(r,s),Cr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Cr("invalid",r);break;case"textarea":ue(r,s),Cr("invalid",r)}for(var c in Ie(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Cr("scroll",r));switch(n){case"input":Y(r),re(r,s,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe.html&&(e=he(n)),e===fe.html?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Xr]=t,e[Jr]=r,Go(e,t,!1,!1),t.stateNode=e,c=Se(n,r),n){case"dialog":Cr("cancel",e),Cr("close",e),a=r;break;case"iframe":case"object":case"embed":Cr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Er.length;a++)Cr(Er[a],e);a=r;break;case"source":Cr("error",e),a=r;break;case"img":case"image":case"link":Cr("error",e),Cr("load",e),a=r;break;case"details":Cr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Cr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Cr("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Cr("invalid",e);break;default:a=r}Ie(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?we(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ye(e,f):"number"===typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Cr("scroll",e):null!=f&&b(e,s,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Ur)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Na.current),Pa(Aa.current),Wa(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return ci(ja),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Wa(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&ja.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===Ds||0===(134217727&Bs)&&0===(134217727&zs)||gu(Ds,Ls))),(r||n)&&(t.flags|=4),null);case 4:return Da(),Qo(t),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return na(t),null;case 19:if(ci(ja),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ma(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return li(ja,1&ja.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Hs&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Ma(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Va)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Hs&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=ja.current,li(ja,s?1&t|2:1&t),n):null;case 23:case 24:return Iu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:mi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),ci(di),ci(hi),Qa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return La(e),null;case 13:return ci(ja),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(ja),null;case 4:return Da(),null;case 10:return na(e),null;case 23:case 24:return Iu(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Go=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qo=function(){},$o=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Aa.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Ur)}for(f in Ie(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Cr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=ca(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ys||(Ys=!0,Xs=r),ls(0,t)},n}function ds(e,t,n){(n=ca(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hr(t.stateNode.containerInfo))}throw Error(o(163))}function ys(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Mu(n,e),ju(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&da(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}da(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))))}throw Error(o(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(Ii&&"function"===typeof Ii.onCommitFiberUnmount)try{Ii.onCommitFiberUnmount(xi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Mu(t,n);else{r=t;try{i()}catch(a){Vu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vu(t,a)}break;case 5:vs(t);break;case 4:Es(e,t)}}function bs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function xs(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Is(e,n,t):Ss(e,n,t)}function Is(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(Is(e,t,n),e=e.sibling;null!==e;)Is(e,t,n),e=e.sibling}function Ss(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ss(e,t,n),e=e.sibling;null!==e;)Ss(e,t,n),e=e.sibling}function Es(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ks(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function _s(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?we(n,u):"dangerouslySetInnerHTML"===s?me(n,u):"children"===s?ye(n,u):b(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ws=zi(),gs(t.child,!0)),void Ts(t);case 19:return void Ts(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(o(163))}function Ts(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=zu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function As(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Cs=Math.ceil,Ns=w.ReactCurrentDispatcher,Ps=w.ReactCurrentOwner,Os=0,Ds=null,Rs=null,Ls=0,js=0,Ms=ui(0),Fs=0,Us=null,Vs=0,Bs=0,zs=0,qs=0,Ks=null,Ws=0,Hs=1/0;function Gs(){Hs=zi()+500}var Qs,$s=null,Ys=!1,Xs=null,Js=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Os)?zi():-1!==su?su:su=zi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===qi()?1:2;if(0===uu&&(uu=Vs),0!==$i.transition){0!==cu&&(cu=null!==Ks?Ks.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=qi(),0!==(4&Os)&&98===e?e=Ut(12,uu):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;zt(e,t,n),e===Ds&&(zs|=t,4===Fs&&gu(e,Ls));var r=qi();1===t?0!==(8&Os)&&0===(48&Os)?ku(e):(mu(e,n),0===Os&&(Gs(),Gi())):(0===(4&Os)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),Ks=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-qt(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,jt(c);var f=Lt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Mt(e,e===Ds?Ls:0),t=Lt,0===r)null!==n&&(n!==ji&&_i(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==ji&&_i(n)}15===t?(n=ku.bind(null,e),null===Fi?(Fi=[n],Ui=Ei(Pi,Qi)):Fi.push(n),n=ji):14===t?n=Hi(99,ku.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Hi(n,yu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yu(e){if(su=-1,cu=uu=0,0!==(48&Os))throw Error(o(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=Mt(e,e===Ds?Ls:0);if(0===n)return null;var r=n,i=Os;Os|=16;var a=_u();for(Ds===e&&Ls===r||(Gs(),Su(e,r));;)try{Cu();break}catch(u){Eu(e,u)}if(ta(),Ns.current=a,Os=i,null!==Rs?r=0:(Ds=null,Ls=0,r=Fs),0!==(Vs&zs))Su(e,0);else if(0!==r){if(2===r&&(Os|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(n=Ft(e))&&(r=Tu(e,n))),1===r)throw t=Us,Su(e,0),gu(e,n),mu(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ou(e);break;case 3:if(gu(e,n),(62914560&n)===n&&10<(r=Ws+500-zi())){if(0!==Mt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Kr(Ou.bind(null,e),r);break}Ou(e);break;case 4:if(gu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-qt(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cs(n/1960))-n)){e.timeoutHandle=Kr(Ou.bind(null,e),n);break}Ou(e);break;default:throw Error(o(329))}}return mu(e,zi()),e.callbackNode===t?yu.bind(null,e):null}function gu(e,t){for(t&=~qs,t&=~zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qt(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(0!==(48&Os))throw Error(o(327));if(Lu(),e===Ds&&0!==(e.expiredLanes&Ls)){var t=Ls,n=Tu(e,t);0!==(Vs&zs)&&(n=Tu(e,t=Mt(e,t)))}else n=Tu(e,t=Mt(e,0));if(0!==e.tag&&2===n&&(Os|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(t=Ft(e))&&(n=Tu(e,t))),1===n)throw n=Us,Su(e,0),gu(e,t),mu(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ou(e),mu(e,zi()),null}function bu(e,t){var n=Os;Os|=1;try{return e(t)}finally{0===(Os=n)&&(Gs(),Gi())}}function wu(e,t){var n=Os;Os&=-2,Os|=8;try{return e(t)}finally{0===(Os=n)&&(Gs(),Gi())}}function xu(e,t){li(Ms,js),js|=t,Vs|=t}function Iu(){js=Ms.current,ci(Ms)}function Su(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Da(),ci(di),ci(hi),Qa();break;case 5:La(r);break;case 4:Da();break;case 13:case 19:ci(ja);break;case 10:na(r);break;case 23:case 24:Iu()}n=n.return}Ds=e,Rs=Hu(e.current,null),Ls=js=Vs=t,Fs=0,Us=null,qs=zs=Bs=0}function Eu(e,t){for(;;){var n=Rs;try{if(ta(),$a.current=Po,to){for(var r=Ja.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}to=!1}if(Xa=0,eo=Za=Ja=null,no=!1,Ps.current=null,null===n||null===n.return){Fs=1,Us=t,Rs=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&ja.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=ca(-1,1);g.tag=2,la(s,g)}s.lanes|=1;break e}u=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fs,u=new Set,k.set(c,u)):void 0===(u=k.get(c))&&(u=new Set,k.set(c,u)),!u.has(s)){u.add(s);var b=Bu.bind(null,a,c,s);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),u=cs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,fa(h,hs(0,a,t));break e;case 1:a=u;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Js||!Js.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,fa(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Pu(n)}catch(I){t=I,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function _u(){var e=Ns.current;return Ns.current=Po,null===e?Po:e}function Tu(e,t){var n=Os;Os|=16;var r=_u();for(Ds===e&&Ls===t||Su(e,t);;)try{Au();break}catch(i){Eu(e,i)}if(ta(),Os=n,Ns.current=r,null!==Rs)throw Error(o(261));return Ds=null,Ls=0,Fs}function Au(){for(;null!==Rs;)Nu(Rs)}function Cu(){for(;null!==Rs&&!Ti();)Nu(Rs)}function Nu(e){var t=Qs(e.alternate,e,js);e.memoizedProps=e.pendingProps,null===t?Pu(e):Rs=t,Ps.current=null}function Pu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,js)))return void(Rs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&js)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Rs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Fs&&(Fs=5)}function Ou(e){var t=qi();return Wi(99,Du.bind(null,e,t)),null}function Du(e,t){do{Lu()}while(null!==eu);if(0!==(48&Os))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-qt(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Ds&&(Rs=Ds=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Os,Os|=32,Ps.current=null,Vr=Qt,mr(s=vr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(_){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=s,y=null;t:for(;;){for(var g;m!==u||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===s)break t;if(y===u&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Br={focusedElem:s,selectionRange:u},Qt=!1,lu=null,fu=!1,$s=r;do{try{Ru()}catch(_){if(null===$s)throw Error(o(330));Vu($s,_),$s=$s.nextEffect}}while(null!==$s);lu=null,$s=r;do{try{for(s=e;null!==$s;){var k=$s.flags;if(16&k&&ye($s.stateNode,""),128&k){var b=$s.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xs($s),$s.flags&=-3;break;case 6:xs($s),$s.flags&=-3,_s($s.alternate,$s);break;case 1024:$s.flags&=-1025;break;case 1028:$s.flags&=-1025,_s($s.alternate,$s);break;case 4:_s($s.alternate,$s);break;case 8:Es(s,u=$s);var x=u.alternate;bs(u),null!==x&&bs(x)}$s=$s.nextEffect}}catch(_){if(null===$s)throw Error(o(330));Vu($s,_),$s=$s.nextEffect}}while(null!==$s);if(w=Br,b=vr(),k=w.focusedElem,s=w.selectionRange,b!==k&&k&&k.ownerDocument&&pr(k.ownerDocument.documentElement,k)){null!==s&&mr(k)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),u=k.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!w.extend&&x>s&&(u=s,s=x,x=u),u=dr(k,x),a=dr(k,s),u&&a&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),x>s?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Qt=!!Vr,Br=Vr=null,e.current=n,$s=r;do{try{for(k=e;null!==$s;){var I=$s.flags;if(36&I&&ys(k,$s.alternate,$s),128&I){b=void 0;var S=$s.ref;if(null!==S){var E=$s.stateNode;$s.tag,b=E,"function"===typeof S?S(b):S.current=b}}$s=$s.nextEffect}}catch(_){if(null===$s)throw Error(o(330));Vu($s,_),$s=$s.nextEffect}}while(null!==$s);$s=null,Mi(),Os=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for($s=r;null!==$s;)t=$s.nextEffect,$s.nextEffect=null,8&$s.flags&&((I=$s).sibling=null,I.stateNode=null),$s=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,Ii&&"function"===typeof Ii.onCommitFiberRoot)try{Ii.onCommitFiberRoot(xi,n,void 0,64===(64&n.current.flags))}catch(_){}if(mu(e,zi()),Ys)throw Ys=!1,e=Xs,Xs=null,e;return 0!==(8&Os)||Gi(),null}function Ru(){for(;null!==$s;){var e=$s.alternate;fu||null===lu||(0!==(8&$s.flags)?Ze($s,lu)&&(fu=!0):13===$s.tag&&As(e,$s)&&Ze($s,lu)&&(fu=!0));var t=$s.flags;0!==(256&t)&&ms(e,$s),0===(512&t)||Zs||(Zs=!0,Hi(97,(function(){return Lu(),null}))),$s=$s.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Wi(e,Fu)}return!1}function ju(e,t){nu.push(t,e),Zs||(Zs=!0,Hi(97,(function(){return Lu(),null})))}function Mu(e,t){ru.push(t,e),Zs||(Zs=!0,Hi(97,(function(){return Lu(),null})))}function Fu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Os))throw Error(o(331));var t=Os;Os|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Os=t,Gi(),!0}function Uu(e,t,n){la(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(zt(e,1,t),mu(e,t))}function Vu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var i=ds(n,e=cs(t,e),1);if(la(n,i),i=hu(),null!==(n=vu(n,1)))zt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Bu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Ds===e&&(Ls&n)===n&&(4===Fs||3===Fs&&(62914560&Ls)===Ls&&500>zi()-Ws?Su(e,0):qs|=n),mu(e,t)}function zu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===qi()?1:2:(0===uu&&(uu=Vs),0===(t=Vt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(zt(e,t,n),mu(e,n))}function qu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ku(e,t,n,r){return new qu(e,t,n,r)}function Wu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hu(e,t){var n=e.alternate;return null===n?((n=Ku(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Wu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Qu(n.children,i,a,t);case j:s=8,i|=16;break;case E:s=8,i|=1;break;case _:return(e=Ku(12,n,t,8|i)).elementType=_,e.type=_,e.lanes=a,e;case N:return(e=Ku(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case P:return(e=Ku(19,n,t,i)).elementType=P,e.lanes=a,e;case M:return $u(n,i,a,t);case F:return(e=Ku(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case A:s=9;break e;case C:s=11;break e;case O:s=14;break e;case D:s=16,r=null;break e;case R:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ku(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qu(e,t,n,r){return(e=Ku(7,e,r,t)).lanes=n,e}function $u(e,t,n,r){return(e=Ku(23,e,r,t)).elementType=M,e.lanes=n,e}function Yu(e,t,n){return(e=Ku(6,e,null,t)).lanes=n,e}function Xu(e,t,n){return(t=Ku(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(mi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=ki(n,c,u);break e}}n=u}else n=fi;return null===t.context?t.context=n:t.pendingContext=n,(t=ca(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),la(i,t),pu(i,s,a),s}function ec(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nc(e,t){tc(e,t),(e=e.alternate)&&tc(e,t)}function rc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=Ku(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[Zr]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ic(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=ec(o);s.call(e)}}Zu(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rc(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=ec(o);u.call(e)}}wu((function(){Zu(t,o,e,i)}))}return ec(o)}function oc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ic(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:I,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||di.current)jo=!0;else{if(0===(n&r)){switch(jo=!1,t.tag){case 3:Ho(t),Ha();break;case 5:Ra(t);break;case 1:mi(t.type)&&bi(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;li(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(li(ja,1&ja.current),null!==(t=as(e,t,n))?t.sibling:null);li(ja,1&ja.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),li(ja,ja.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return as(e,t,n)}jo=0!==(16384&e.flags)}else jo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=vi(t,hi.current),ia(t,n),i=ao(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&va(t,r,s,e),i.updater=ma,t.stateNode=i,i._reactInternals=t,ba(t,r,e,n),t=Wo(null,t,r,!0,a,n)}else t.tag=0,Mo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Wu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(i),e=Yi(i,e),a){case 0:t=qo(null,t,i,e,n);break e;case 1:t=Ko(null,t,i,e,n);break e;case 11:t=Fo(null,t,i,e,n);break e;case 14:t=Uo(null,t,i,Yi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,qo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Ho(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ua(e,t),ha(t,r,null,n),(r=t.memoizedState.element)===i)Ha(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Ua=Gr(t.stateNode.containerInfo.firstChild),Fa=t,a=Va=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ga.push(a);for(n=_a(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Mo(e,t,r,n),Ha();t=t.child}return t;case 5:return Ra(t),null===e&&qa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,qr(r,i)?s=null:null!==a&&qr(r,a)&&(t.flags|=16),zo(e,t),Mo(e,t,s,n),t.child;case 6:return null===e&&qa(t),null;case 13:return Jo(e,t,n);case 4:return Oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ea(t,null,r,n):Mo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Mo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Mo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(li(Xi,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=cr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!di.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=ca(-1,n&-n)).tag=2,la(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ra(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Mo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,ia(t,n),r=r(i=aa(i,a.unstable_observedBits)),t.flags|=1,Mo(e,t,r,n),t.child;case 14:return a=Yi(i=t.type,t.pendingProps),Uo(e,t,i,a=Yi(i.type,a),r,n);case 15:return Vo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,bi(t)):e=!1,ia(t,n),ga(t,r,i),ba(t,r,i,n),Wo(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},rc.prototype.render=function(e){Zu(e,this._internalRoot,null,null)},rc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Zu(null,e,null,(function(){t[Zr]=null}))},et=function(e){13===e.tag&&(pu(e,4,hu()),nc(e,4))},tt=function(e){13===e.tag&&(pu(e,67108864,hu()),nc(e,67108864))},nt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),nc(e,n)}},rt=function(e,t){return t()},_e=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Oe=bu,De=function(e,t,n,r,i){var a=Os;Os|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Os=a)&&(Gs(),Gi())}},Re=function(){0===(49&Os)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,zi())}))}Gi()}(),Lu())},Le=function(e,t){var n=Os;Os|=2;try{return e(t)}finally{0===(Os=n)&&(Gs(),Gi())}};var sc={Events:[ni,ri,ii,Ne,Pe,Lu,{current:!1}]},uc={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cc={bundleType:uc.bundleType,version:uc.version,rendererPackageName:uc.rendererPackageName,rendererConfig:uc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:uc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{xi=lc.inject(cc),Ii=lc}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=oc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Os;if(0!==(48&n))return e(t);Os|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Os=n,Gi()}},t.hydrate=function(e,t,n){if(!ic(t))throw Error(o(200));return ac(null,e,t,!0,n)},t.render=function(e,t,n){if(!ic(t))throw Error(o(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ic(e))throw Error(o(40));return!!e._reactRootContainer&&(wu((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[Zr]=null}))})),!0)},t.unstable_batchedUpdates=bu,t.unstable_createPortal=function(e,t){return oc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ic(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ac(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===s||e===o||e===h||e===d||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===p||e.$$typeof===u||e.$$typeof===c||e.$$typeof===f||e.$$typeof===n||void 0!==e.getModuleId)},t.typeOf=y},441:function(e,t,n){"use strict";e.exports=n(372)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:b.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var E=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+_(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+_(s=e[c],c);u+=T(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=T(s=s.value,t,n,l=r+_(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function C(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function P(){var e=N.current;if(null===e)throw Error(d(321));return e}var O={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return P().useCallback(e,t)},t.useContext=function(e,t){return P().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return P().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return P().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return P().useLayoutEffect(e,t)},t.useMemo=function(e,t){return P().useMemo(e,t)},t.useReducer=function(e,t,n){return P().useReducer(e,t,n)},t.useRef=function(e){return P().useRef(e)},t.useState=function(e){return P().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<E(i,t)))break e;e[r]=t,e[n]=i,n=r}}function I(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>E(o,n))void 0!==u&&0>E(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>E(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var _=[],T=[],A=1,C=null,N=3,P=!1,O=!1,D=!1;function R(e){for(var t=I(T);null!==t;){if(null===t.callback)S(T);else{if(!(t.startTime<=e))break;S(T),t.sortIndex=t.expirationTime,x(_,t)}t=I(T)}}function L(e){if(D=!1,R(e),!O)if(null!==I(_))O=!0,n(j);else{var t=I(T);null!==t&&r(L,t.startTime-e)}}function j(e,n){O=!1,D&&(D=!1,i()),P=!0;var a=N;try{for(R(n),C=I(_);null!==C&&(!(C.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=C.callback;if("function"===typeof o){C.callback=null,N=C.priorityLevel;var s=o(C.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?C.callback=s:C===I(_)&&S(_),R(n)}else S(_);C=I(_)}if(null!==C)var u=!0;else{var c=I(T);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{C=null,N=a,P=!1}}var M=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||P||(O=!0,n(j))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return I(_)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=M,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:A++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,x(T,e),null===I(_)&&e===I(T)&&(D?i():D=!0,r(L,o-s))):(e.sortIndex=u,x(_,e),O||P||(O=!0,n(j))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<a.length;u++){var c=a[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},391:function(e){"use strict";var t=function(){};e.exports=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".4ef7427d.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="react-typescript-starter:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/testrelodfix/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkreact_typescript_starter=self.webpackChunkreact_typescript_starter||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),n.nc=void 0,function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Mi},SDK_VERSION:function(){return Qa},_DEFAULT_ENTRY_NAME:function(){return La},_addComponent:function(){return Ua},_addOrOverwriteComponent:function(){return Va},_apps:function(){return Ma},_clearComponents:function(){return Ka},_components:function(){return Fa},_getProvider:function(){return za},_registerComponent:function(){return Ba},_removeServiceInstance:function(){return qa},deleteApp:function(){return Ja},getApp:function(){return Ya},getApps:function(){return Xa},initializeApp:function(){return $a},onLog:function(){return to},registerVersion:function(){return eo},setLogLevel:function(){return no}});var t,r=n(791),i=n(164);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||s(e,t)||u()}function l(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function f(e){return function(e){if(Array.isArray(e))return o(e)}(e)||l(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function m(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){var t=b();return function(){var n,r=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}(this,n)}}function I(e,t,n){return I=b()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&y(i,n.prototype),i},I.apply(null,arguments)}function S(e){var t="function"===typeof Map?new Map:void 0;return S=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return I(e,arguments,k(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),y(n,e)},S(e)}function E(e){return a(e)||l(e)||s(e)||u()}function _(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var A,C="popstate";function N(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function P(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function O(e,t){return{usr:e.state,key:e.key,idx:t}}function D(e,t,n,r){return void 0===n&&(n=null),T({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?L(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function R(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function L(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function j(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,u=a.v5Compat,c=void 0!==u&&u,l=s.history,f=t.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){f=t.Pop;var e=p(),n=null==e?null:e-d;d=e,h&&h({action:f,location:y.location,delta:n})}function m(e){var t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:R(e);return N(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(T({},l.state,{idx:d}),""));var y={get action(){return f},get location(){return e(s,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(C,v),h=e,function(){s.removeEventListener(C,v),h=null}},createHref:function(e){return n(s,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;var i=D(y.location,e,n);r&&r(i,e);var a=O(i,d=p()+1),o=y.createHref(i);try{l.pushState(a,"",o)}catch(u){s.location.assign(o)}c&&h&&h({action:f,location:y.location,delta:1})},replace:function(e,n){f=t.Replace;var i=D(y.location,e,n);r&&r(i,e);var a=O(i,d=p()),o=y.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:y.location,delta:0})},go:function(e){return l.go(e)}};return y}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(A||(A={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function M(e,t,n){void 0===n&&(n="/");var r=X(("string"===typeof t?L(t):t).pathname||"/",n);if(null==r)return null;var i=F(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Q(i[o],Y(r));return a}function F(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(N(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=te([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(N(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),F(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:G(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=_(U(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function U(e){var t=e.split("/");if(0===t.length)return[];var n=E(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=U(i.join("/")),u=[];return u.push.apply(u,f(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&u.push.apply(u,f(s)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var V=/^:\w+$/,B=3,z=2,q=1,K=10,W=-2,H=function(e){return"*"===e};function G(e,t){var n=e.split("/"),r=n.length;return n.some(H)&&(r+=W),t&&(r+=z),n.filter((function(e){return!H(e)})).reduce((function(e,t){return e+(V.test(t)?B:""===t?q:K)}),r)}function Q(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=$({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:te([i,l.pathname]),pathnameBase:ne(te([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=te([i,l.pathnameBase]))}return a}function $(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);P("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return P(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l[n]||"",t),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function Y(e){try{return decodeURI(e)}catch(t){return P(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function X(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function J(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Z(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function ee(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=L(e):(N(!(i=T({},e)).pathname||!i.pathname.includes("?"),J("?","pathname","search",i)),N(!i.pathname||!i.pathname.includes("#"),J("#","pathname","hash",i)),N(!i.search||!i.search.includes("#"),J("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?L(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:re(a),hash:ie(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var te=function(e){return e.join("/").replace(/\/\/+/g,"/")},ne=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},re=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ie=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ae=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n)}(S(Error));function oe(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var se=["post","put","patch","delete"],ue=(new Set(se),["get"].concat(se));new Set(ue),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");var ce="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},le=r.useState,fe=r.useEffect,he=r.useLayoutEffect,de=r.useDebugValue;function pe(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!ce(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement;var ve=r.createContext(null);var me=r.createContext(null);var ye=r.createContext(null);var ge=r.createContext(null);var ke=r.createContext(null);var be=r.createContext({outlet:null,matches:[]});var we=r.createContext(null);function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xe.apply(this,arguments)}function Ie(){return null!=r.useContext(ke)}function Se(){return Ie()||N(!1),r.useContext(ke).location}function Ee(){Ie()||N(!1);var e=r.useContext(ge),t=e.basename,n=e.navigator,i=r.useContext(be).matches,a=Se().pathname,o=JSON.stringify(Z(i).map((function(e){return e.pathnameBase}))),s=r.useRef(!1);r.useEffect((function(){s.current=!0}));var u=r.useCallback((function(e,r){if(void 0===r&&(r={}),s.current)if("number"!==typeof e){var i=ee(e,JSON.parse(o),a,"path"===r.relative);"/"!==t&&(i.pathname="/"===i.pathname?t:te([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state,r)}else n.go(e)}),[t,n,o,a]);return u}function _e(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(be).matches,a=Se().pathname,o=JSON.stringify(Z(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return ee(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function Te(){var e=function(){var e,t=r.useContext(we),n=De(Ce.UseRouteError),i=Re(Ce.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=oe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}var Ae,Ce,Ne=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).state={location:e.location,error:e.error},r}return m(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(be.Provider,{value:this.props.routeContext},r.createElement(we.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(r.Component);function Pe(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(ve);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(be.Provider,{value:t},i)}function Oe(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var i=e,a=null==n?void 0:n.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||N(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,s){var u=o.route.id?null==a?void 0:a[o.route.id]:null,c=null;n&&(c=o.route.ErrorBoundary?r.createElement(o.route.ErrorBoundary,null):o.route.errorElement?o.route.errorElement:r.createElement(Te,null));var l=t.concat(i.slice(0,s+1)),f=function(){var t=e;return u?t=c:o.route.Component?t=r.createElement(o.route.Component,null):o.route.element&&(t=o.route.element),r.createElement(Pe,{match:o,routeContext:{outlet:e,matches:l},children:t})};return n&&(o.route.ErrorBoundary||o.route.errorElement||0===s)?r.createElement(Ne,{location:n.location,component:c,error:u,children:f(),routeContext:{outlet:null,matches:l}}):f()}),null)}function De(e){var t=r.useContext(me);return t||N(!1),t}function Re(e){var t=function(e){var t=r.useContext(be);return t||N(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||N(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(Ae||(Ae={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Ce||(Ce={}));var Le;function je(e){N(!1)}function Me(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,s=e.location,u=e.navigationType,c=void 0===u?t.Pop:u,l=e.navigator,f=e.static,h=void 0!==f&&f;Ie()&&N(!1);var d=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof s&&(s=L(s));var v=s,m=v.pathname,y=void 0===m?"/":m,g=v.search,k=void 0===g?"":g,b=v.hash,w=void 0===b?"":b,x=v.state,I=void 0===x?null:x,S=v.key,E=void 0===S?"default":S,_=r.useMemo((function(){var e=X(y,d);return null==e?null:{location:{pathname:e,search:k,hash:w,state:I,key:E},navigationType:c}}),[d,y,k,w,I,E,c]);return null==_?null:r.createElement(ge.Provider,{value:p},r.createElement(ke.Provider,{children:o,value:_}))}function Fe(e){var n=e.children,i=e.location,a=r.useContext(ve);return function(e,n){Ie()||N(!1);var i,a=r.useContext(ge).navigator,o=r.useContext(me),s=r.useContext(be).matches,u=s[s.length-1],c=u?u.params:{},l=(u&&u.pathname,u?u.pathnameBase:"/"),f=(u&&u.route,Se());if(n){var h,d="string"===typeof n?L(n):n;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||N(!1),i=d}else i=f;var p=i.pathname||"/",v=M(e,{pathname:"/"===l?p:p.slice(l.length)||"/"}),m=Oe(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:te([l,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:te([l,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,o||void 0);return n&&m?r.createElement(ke.Provider,{value:{location:xe({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:t.Pop}},m):m}(a&&!n?a.router.routes:Ve(n),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Le||(Le={}));var Ue=new Promise((function(){}));r.Component;function Ve(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e)){var a=[].concat(f(t),[i]);if(e.type!==r.Fragment){e.type!==je&&N(!1),e.props.index&&e.props.children&&N(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Ve(e.props.children,a)),n.push(o)}else n.push.apply(n,Ve(e.props.children,a))}})),n}function Be(){return Be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Be.apply(this,arguments)}function ze(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var qe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],Ke=["aria-current","caseSensitive","className","end","style","to","children"];function We(e){var t=e.basename,n=e.children,i=e.window,a=r.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),j((function(e,t){var n=e.location;return D("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:R(t)}),null,e)}({window:i,v5Compat:!0}));var o=a.current,s=c(r.useState({action:o.action,location:o.location}),2),u=s[0],l=s[1];return r.useLayoutEffect((function(){return o.listen(l)}),[o]),r.createElement(Me,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:o})}var He="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ge=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qe=r.forwardRef((function(e,t){var n,i=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,u=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=ze(e,qe),d=r.useContext(ge).basename,p=!1;if("string"===typeof l&&Ge.test(l)&&(n=l,He)){var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),y=X(m.pathname,d);m.origin===v.origin&&null!=y?l=y+m.search+m.hash:p=!0}var g=function(e,t){var n=(void 0===t?{}:t).relative;Ie()||N(!1);var i=r.useContext(ge),a=i.basename,o=i.navigator,s=_e(e,{relative:n}),u=s.hash,c=s.pathname,l=s.search,f=c;return"/"!==a&&(f="/"===c?a:te([a,c])),o.createHref({pathname:f,search:l,hash:u})}(l,{relative:a}),k=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,s=n.preventScrollReset,u=n.relative,c=Ee(),l=Se(),f=_e(e,{relative:u});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:R(l)===R(f);c(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[l,c,f,a,o,i,e,s,u])}(l,{replace:s,state:u,target:c,preventScrollReset:f,relative:a});return r.createElement("a",Be({},h,{href:n||g,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||k(e)},ref:t,target:c}))}));var $e=r.forwardRef((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,a=e.caseSensitive,o=void 0!==a&&a,s=e.className,u=void 0===s?"":s,c=e.end,l=void 0!==c&&c,f=e.style,h=e.to,d=e.children,p=ze(e,Ke),v=_e(h,{relative:p.relative}),m=Se(),y=r.useContext(me),g=r.useContext(ge).navigator,k=g.encodeLocation?g.encodeLocation(v).pathname:v.pathname,b=m.pathname,w=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;o||(b=b.toLowerCase(),w=w?w.toLowerCase():null,k=k.toLowerCase());var x,I=b===k||!l&&b.startsWith(k)&&"/"===b.charAt(k.length),S=null!=w&&(w===k||!l&&w.startsWith(k)&&"/"===w.charAt(k.length)),E=I?i:void 0;x="function"===typeof u?u({isActive:I,isPending:S}):[u,I?"active":null,S?"pending":null].filter(Boolean).join(" ");var _="function"===typeof f?f({isActive:I,isPending:S}):f;return r.createElement(Qe,Be({},p,{"aria-current":E,className:x,ref:t,style:_,to:h}),"function"===typeof d?d({isActive:I,isPending:S}):d)}));var Ye,Xe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Ye||(Ye={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Xe||(Xe={}));function Je(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){Je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tt(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function nt(e,t){if(null==e)return{};var n,r,i=tt(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var rt=n(694),it=n.n(rt),at=n(7),ot=n.n(at),st=n(184),ut=["as","className","type","tooltip"],ct={type:ot().string,tooltip:ot().bool,as:ot().elementType},lt=r.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,a=e.type,o=void 0===a?"valid":a,s=e.tooltip,u=void 0!==s&&s,c=nt(e,ut);return(0,st.jsx)(r,et(et({},c),{},{ref:t,className:it()(i,"".concat(o,"-").concat(u?"tooltip":"feedback"))}))}));lt.displayName="Feedback",lt.propTypes=ct;var ft=lt,ht=r.createContext({}),dt=["xxl","xl","lg","md","sm","xs"],pt="xs",vt=r.createContext({prefixes:{},breakpoints:dt,minBreakpoint:pt});vt.Consumer,vt.Provider;function mt(e,t){var n=(0,r.useContext)(vt).prefixes;return e||n[t]||t}function yt(){return(0,r.useContext)(vt).breakpoints}function gt(){return(0,r.useContext)(vt).minBreakpoint}var kt=["id","bsPrefix","className","type","isValid","isInvalid","as"],bt=r.forwardRef((function(e,t){var n=e.id,i=e.bsPrefix,a=e.className,o=e.type,s=void 0===o?"checkbox":o,u=e.isValid,c=void 0!==u&&u,l=e.isInvalid,f=void 0!==l&&l,h=e.as,d=void 0===h?"input":h,p=nt(e,kt),v=(0,r.useContext)(ht).controlId;return i=mt(i,"form-check-input"),(0,st.jsx)(d,et(et({},p),{},{ref:t,type:s,id:n||v,className:it()(a,i,c&&"is-valid",f&&"is-invalid")}))}));bt.displayName="FormCheckInput";var wt=bt,xt=["bsPrefix","className","htmlFor"],It=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.htmlFor,o=nt(e,xt),s=(0,r.useContext)(ht).controlId;return n=mt(n,"form-check-label"),(0,st.jsx)("label",et(et({},o),{},{ref:t,htmlFor:a||s,className:it()(i,n)}))}));It.displayName="FormCheckLabel";var St=It;function Et(e,t){var n=0;return r.Children.map(e,(function(e){return r.isValidElement(e)?t(e,n++):e}))}var _t=["id","bsPrefix","bsSwitchPrefix","inline","reverse","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],Tt=r.forwardRef((function(e,t){var n=e.id,i=e.bsPrefix,a=e.bsSwitchPrefix,o=e.inline,s=void 0!==o&&o,u=e.reverse,c=void 0!==u&&u,l=e.disabled,f=void 0!==l&&l,h=e.isValid,d=void 0!==h&&h,p=e.isInvalid,v=void 0!==p&&p,m=e.feedbackTooltip,y=void 0!==m&&m,g=e.feedback,k=e.feedbackType,b=e.className,w=e.style,x=e.title,I=void 0===x?"":x,S=e.type,E=void 0===S?"checkbox":S,_=e.label,T=e.children,A=e.as,C=void 0===A?"input":A,N=nt(e,_t);i=mt(i,"form-check"),a=mt(a,"form-switch");var P=(0,r.useContext)(ht).controlId,O=(0,r.useMemo)((function(){return{controlId:n||P}}),[P,n]),D=!T&&null!=_&&!1!==_||function(e,t){return r.Children.toArray(e).some((function(e){return r.isValidElement(e)&&e.type===t}))}(T,St),R=(0,st.jsx)(wt,et(et({},N),{},{type:"switch"===E?"checkbox":E,ref:t,isValid:d,isInvalid:v,disabled:f,as:C}));return(0,st.jsx)(ht.Provider,{value:O,children:(0,st.jsx)("div",{style:w,className:it()(b,D&&i,s&&"".concat(i,"-inline"),c&&"".concat(i,"-reverse"),"switch"===E&&a),children:T||(0,st.jsxs)(st.Fragment,{children:[R,D&&(0,st.jsx)(St,{title:I,children:_}),g&&(0,st.jsx)(ft,{type:k,tooltip:y,children:g})]})})})}));Tt.displayName="FormCheck";var At=Object.assign(Tt,{Input:wt,Label:St}),Ct=(n(391),["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"]),Nt=r.forwardRef((function(e,t){var n,i,a=e.bsPrefix,o=e.type,s=e.size,u=e.htmlSize,c=e.id,l=e.className,f=e.isValid,h=void 0!==f&&f,d=e.isInvalid,p=void 0!==d&&d,v=e.plaintext,m=e.readOnly,y=e.as,g=void 0===y?"input":y,k=nt(e,Ct),b=(0,r.useContext)(ht).controlId;(a=mt(a,"form-control"),v)?n=Je({},"".concat(a,"-plaintext"),!0):(Je(i={},a,!0),Je(i,"".concat(a,"-").concat(s),s),n=i);return(0,st.jsx)(g,et(et({},k),{},{type:o,size:u,ref:t,readOnly:m,id:c||b,className:it()(l,n,h&&"is-valid",p&&"is-invalid","color"===o&&"".concat(a,"-color"))}))}));Nt.displayName="FormControl";var Pt=Object.assign(Nt,{Feedback:ft}),Ot=/-(.)/g;var Dt=["className","bsPrefix","as"],Rt=function(e){return e[0].toUpperCase()+(t=e,t.replace(Ot,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function Lt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.displayName,i=void 0===n?Rt(e):n,a=t.Component,o=t.defaultProps,s=r.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,s=t.as,u=void 0===s?a||"div":s,c=nt(t,Dt),l=et(et({},o),c),f=mt(i,e);return(0,st.jsx)(u,et({ref:n,className:it()(r,f)},l))}));return s.displayName=i,s}var jt=Lt("form-floating"),Mt=["controlId","as"],Ft=r.forwardRef((function(e,t){var n=e.controlId,i=e.as,a=void 0===i?"div":i,o=nt(e,Mt),s=(0,r.useMemo)((function(){return{controlId:n}}),[n]);return(0,st.jsx)(ht.Provider,{value:s,children:(0,st.jsx)(a,et(et({},o),{},{ref:t}))})}));Ft.displayName="FormGroup";var Ut=Ft,Vt=["as","bsPrefix","className"],Bt=["className"];var zt=r.forwardRef((function(e,t){var n=function(e){var t=e.as,n=e.bsPrefix,r=e.className,i=nt(e,Vt);n=mt(n,"col");var a=yt(),o=gt(),s=[],u=[];return a.forEach((function(e){var t,r,a,c=i[e];delete i[e],"object"===typeof c&&null!=c?(t=c.span,r=c.offset,a=c.order):t=c;var l=e!==o?"-".concat(e):"";t&&s.push(!0===t?"".concat(n).concat(l):"".concat(n).concat(l,"-").concat(t)),null!=a&&u.push("order".concat(l,"-").concat(a)),null!=r&&u.push("offset".concat(l,"-").concat(r))})),[et(et({},i),{},{className:it().apply(void 0,[r].concat(s,u))}),{as:t,bsPrefix:n,spans:s}]}(e),r=c(n,2),i=r[0],a=i.className,o=nt(i,Bt),s=r[1],u=s.as,l=void 0===u?"div":u,f=s.bsPrefix,h=s.spans;return(0,st.jsx)(l,et(et({},o),{},{ref:t,className:it()(a,!h.length&&f)}))}));zt.displayName="Col";var qt=zt,Kt=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],Wt=r.forwardRef((function(e,t){var n=e.as,i=void 0===n?"label":n,a=e.bsPrefix,o=e.column,s=void 0!==o&&o,u=e.visuallyHidden,c=void 0!==u&&u,l=e.className,f=e.htmlFor,h=nt(e,Kt),d=(0,r.useContext)(ht).controlId;a=mt(a,"form-label");var p="col-form-label";"string"===typeof s&&(p="".concat(p," ").concat(p,"-").concat(s));var v=it()(l,a,c&&"visually-hidden",s&&p);return f=f||d,s?(0,st.jsx)(qt,et({ref:t,as:"label",className:v,htmlFor:f},h)):(0,st.jsx)(i,et({ref:t,className:v,htmlFor:f},h))}));Wt.displayName="FormLabel";var Ht=Wt,Gt=["bsPrefix","className","id"],Qt=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.id,o=nt(e,Gt),s=(0,r.useContext)(ht).controlId;return n=mt(n,"form-range"),(0,st.jsx)("input",et(et({},o),{},{type:"range",ref:t,className:it()(i,n),id:a||s}))}));Qt.displayName="FormRange";var $t=Qt,Yt=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],Xt=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.size,a=e.htmlSize,o=e.className,s=e.isValid,u=void 0!==s&&s,c=e.isInvalid,l=void 0!==c&&c,f=e.id,h=nt(e,Yt),d=(0,r.useContext)(ht).controlId;return n=mt(n,"form-select"),(0,st.jsx)("select",et(et({},h),{},{size:a,ref:t,className:it()(o,n,i&&"".concat(n,"-").concat(i),u&&"is-valid",l&&"is-invalid"),id:f||d}))}));Xt.displayName="FormSelect";var Jt=Xt,Zt=["bsPrefix","className","as","muted"],en=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"small":i,o=e.muted,s=nt(e,Zt);return n=mt(n,"form-text"),(0,st.jsx)(a,et(et({},s),{},{ref:t,className:it()(r,n,o&&"text-muted")}))}));en.displayName="FormText";var tn=en,nn=r.forwardRef((function(e,t){return(0,st.jsx)(At,et(et({},e),{},{ref:t,type:"switch"}))}));nn.displayName="Switch";var rn=Object.assign(nn,{Input:At.Input,Label:At.Label}),an=["bsPrefix","className","children","controlId","label"],on=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,a=e.controlId,o=e.label,s=nt(e,an);return n=mt(n,"form-floating"),(0,st.jsxs)(Ut,et(et({ref:t,className:it()(r,n),controlId:a},s),{},{children:[i,(0,st.jsx)("label",{htmlFor:a,children:o})]}))}));on.displayName="FloatingLabel";var sn=on,un=["className","validated","as"],cn={_ref:ot().any,validated:ot().bool,as:ot().elementType},ln=r.forwardRef((function(e,t){var n=e.className,r=e.validated,i=e.as,a=void 0===i?"form":i,o=nt(e,un);return(0,st.jsx)(a,et(et({},o),{},{ref:t,className:it()(n,r&&"was-validated")}))}));ln.displayName="Form",ln.propTypes=cn;var fn=Object.assign(ln,{Group:Ut,Control:Pt,Floating:jt,Check:At,Switch:rn,Label:Ht,Text:tn,Range:$t,Select:Jt,FloatingLabel:sn}),hn=["as","disabled"];function dn(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.role,s=e.onClick,u=e.tabIndex,c=void 0===u?0:u,l=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var f={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},f];var h=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==s||s(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:h,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),h(e))}},f]}var pn=r.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,hn),a=c(dn(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],s=a[1].tagName;return(0,st.jsx)(s,Object.assign({},i,o,{ref:t}))}));pn.displayName="Button";var vn=["as","bsPrefix","variant","size","active","disabled","className"],mn=r.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=void 0===i?"primary":i,o=e.size,s=e.active,u=void 0!==s&&s,l=e.disabled,f=void 0!==l&&l,h=e.className,d=nt(e,vn),p=mt(r,"btn"),v=c(dn(et({tagName:n,disabled:f},d)),2),m=v[0],y=v[1].tagName;return(0,st.jsx)(y,et(et(et({},m),d),{},{ref:t,disabled:f,className:it()(h,p,u&&"active",a&&"".concat(p,"-").concat(a),o&&"".concat(p,"-").concat(o),d.href&&f&&"disabled")}))}));mn.displayName="Button";var yn=mn,gn=[{Product:"Nike mercury",Description:"nike mercury 12 limited edition",Price:"200",Stock:"94",Brand:"nike",Photo:"../src/components/landingpage/lp_images/1.jpg"}],kn="MY-PAGE-INVE-1",bn=localStorage.getItem(kn);null!==bn&&(gn=JSON.parse(bn));var wn=function(){var e=c((0,r.useState)(gn),2),t=e[0],n=e[1],i=c((0,r.useState)(!1),2),a=i[0],o=i[1],s=c((0,r.useState)("product name"),2),u=s[0],l=s[1],h=c((0,r.useState)("Your Name"),2),d=h[0],p=h[1],v=c((0,r.useState)("0"),2),m=v[0],y=v[1],g=c((0,r.useState)("0"),2),k=g[0],b=g[1],w=c((0,r.useState)("Photo URL"),2),x=w[0],I=w[1],S=c((0,r.useState)("Photo URL"),2),E=S[0],_=S[1];function T(){localStorage.setItem(kn,JSON.stringify(t))}function A(e){l(e.target.value)}function C(e){p(e.target.value)}function N(e){b(e.target.value)}function P(e){y(e.target.value)}function O(e){I(e.target.value)}function D(e){_(e.target.value)}function R(){n([].concat(f(t),[{Product:u,Description:E,Price:m,Stock:k,Brand:d,Photo:x}])),console.log(t)}return(0,st.jsxs)("div",{children:[(0,st.jsxs)("table",{className:"table",children:[(0,st.jsx)("thead",{children:(0,st.jsxs)("tr",{children:[(0,st.jsx)("th",{scope:"col",children:"Product"}),(0,st.jsx)("th",{scope:"col",children:"Brand"}),(0,st.jsx)("th",{scope:"col",children:"Desc"}),(0,st.jsx)("th",{scope:"col",children:"Price"}),(0,st.jsx)("th",{scope:"col",children:"Stock"}),(0,st.jsx)("th",{scope:"col",children:"Image"}),(0,st.jsx)("th",{scope:"col",children:"Remove"})]})}),(0,st.jsx)("tbody",{children:t.map((function(e){return(0,st.jsxs)("tr",{children:[(0,st.jsx)("th",{scope:"row",children:e.Product}),(0,st.jsx)("td",{children:e.Brand}),(0,st.jsx)("td",{children:e.Price}),(0,st.jsx)("td",{children:e.Stock}),(0,st.jsx)("td",{children:e.Description}),(0,st.jsx)("td",{children:(0,st.jsx)("img",{width:"20%",src:e.Photo})})]},e.Product)}))})]}),(0,st.jsx)(yn,{onClick:function(){return o(!a)},children:"Add to Inventory"}),1==a?(0,st.jsxs)("h2",{children:[(0,st.jsxs)(fn.Group,{controlId:"formBasicEmail",children:[(0,st.jsx)(fn.Control,{className:"forms",type:"product",placeholder:"Product Name",onChange:A}),(0,st.jsx)(fn.Control,{className:"forms",type:"company",placeholder:"Brand",onChange:C}),(0,st.jsx)(fn.Control,{className:"forms",type:"Price",placeholder:"price",onChange:P}),(0,st.jsx)(fn.Control,{className:"forms",type:"Price",placeholder:"price",onChange:N}),(0,st.jsx)(fn.Control,{className:"forms",type:"",placeholder:"Image URL",onChange:O}),(0,st.jsx)(fn.Control,{className:"forms",type:"",placeholder:"Description",onChange:D})]}),";",(0,st.jsx)(yn,{onClick:R,children:"Submit"}),(0,st.jsx)(yn,{onClick:T,children:"Save new inventory"})]}):null]})};var xn=function(){return(0,st.jsx)("div",{children:(0,st.jsxs)("table",{className:"table",children:[(0,st.jsx)("thead",{children:(0,st.jsxs)("tr",{children:[(0,st.jsx)("th",{scope:"col",children:"Product Image"}),(0,st.jsx)("th",{scope:"col",children:"Product"}),(0,st.jsx)("th",{scope:"col",children:"Price"}),(0,st.jsx)("th",{scope:"col",children:"Quantity"}),(0,st.jsx)("th",{scope:"col",children:"Total"})]})}),(0,st.jsxs)("tbody",{children:[(0,st.jsxs)("tr",{children:[(0,st.jsx)("td",{children:(0,st.jsx)("img",{src:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxAQDxUSEBIQEBAOEA8SEBARFhUSEBYSFREWFhUVFRUYHSggGBolHRUXIzEiJSkrLi4uFx8zODMtNygtLisBCgoKDQ0OFRAPFSsZFRotLS0tKysuKysrKysrLSstLS0tKy0tLSsrKys3KystKystKysrKysrKysrKysrKysrK//AABEIAOEA4QMBIgACEQEDEQH/xAAcAAEAAQUBAQAAAAAAAAAAAAAAAQIDBAYHBQj/xAA9EAACAQICBwYDBgUDBQAAAAAAAQIDEQQhBQYSMUFRYQcUInGBkRMyoVKCscHR8CNCYnKiQ+HxFTNjstL/xAAXAQEBAQEAAAAAAAAAAAAAAAAAAQID/8QAHBEBAQACAwEBAAAAAAAAAAAAAAECESExQRJh/9oADAMBAAIRAxEAPwDuIAAAAAAAIZBLIAAAAAAAAAHNu07XCVF92w03GazrVIO0o8oJrc+fsbdrhp6OBwkqrttvw0o8XNrL23s+c8fi6lScpzltSm3KTe9t7zeGPtZtbTojtJx+GdpT7zTW+FbOVuk9/vc6Tqz2lYHF2hOXdqzstiq0oN8oz3e9j58nV9ChyNXGU2+u0wfOWqPaJi8BaDbr4df6M3nFcoSfy+W47lqvrVhNI09rDzTlFLbpSyqwfWPLqsjnZpdvbJRBKIqQAAAAAAAAAAAAAAAAABDIJZAAAAAAADBqnaTrB3LAvZdq2IbpUuaum5S9F9WhORzDtN1j73i3GDvRw94Q5OV/HL1a+ho1WZeqyMOpI79cMKJ5lltrqvqVuRbkzKo27mRo/SNXD1Y1aFSVKpB3jOLs/J810ZhyRG1zA+g+z7tOpY7Zw+K2aOLeUXupVf7Xwl/T7HRkz45i2ndNpppprJprc0+DO/dj+udXHU5YfEJyq4aEZKtwlC9rS/qX1MWLt0oAGVAAAAAAAAAAAAAAAAQyCWQAAAAAADgXanpzvWPlGLvTwt6UOW1/O/fL0Oy63aWWDwNavxhBqC51JeGC92j5mq1W223dttt8W3m2zeE9ZpKuo74qXnf8jIqYOnOKtJRnJNpXey7crnl1JFMcU45ZNJ3SlnZ9ORb+LGRPR9RJt7OV3a+djElTTaUb7k3d33q++yJqYiTltuWb4J8/wL+EpxqScGnfZyd8k0lwJujBIZdr4eUH4k114e5biiwXcNRlOSjFOUpNRilvbbskuZ9Ndneq0dG4NQaXx6tp15f1Wyj5Lcc97FtUPiT7/Wj4KTaw6e5z4z8lw6nbEZypEgAyoAAAAAAAAAAAAAAACGQSyAAAAAADlnbnpXZpUcMn88nVmukU1D6tnF6kzce1PSneNJ1bO8aNqUfu7/q2aTUkdJxGVE5FthspbKqGXqGIcW39rfbJ+jLIMj0HpC8VFxco8dp3drcz0NUNXp6QxcKFO6Unec7fJTT8Un1tu6nhRR9IdlWqawGDU6kbYnEpTqX3xjbww6deovA2/R2Cp4ejCjSjs06UVGEei/MyUQSjCpAAAAAAAAAAAAAAAAAAEMglkAAAAMTS+Mjh8PVrS3UaVSb+7FsyzSO2HSPwdGSgnaWJnCn91Pal/wCqXqIjgGOxDnOU5O8pylKT6t3f4mDNl2rIx5M6pFNylksgyoipFKPR0Joypiq8KNJbU6slGK/Fvoln6Fg3nsd1S73ie8VY3oYWSaTWU6u+K6pb/Y+gTzNWtC08DhKeHpLKlHxS4ym85SfVv8j0zFu1CUQSiCQAAAAAAAAAAAAAAAAABDIJZAAAADjPbrpG9ejQT/7UHOS6ydl9EdmPmftG0l3jSWImneMajpx8qfh/FP3NY9pWqVGWZMuVGWmbqRDAJSMqqhE7r2Jaq/CovHVY+OunGgms1SvnL7zWXTzOZ9nurEtIYyNNp/Ch460uUE91+u4+nKNKMIqMUoxglGKW5JZJIZXwisAGFCUQSgJAAAAAAAAAAAAAAAAAAEMglkAAABgafx6w2ErV3/o0ak15qLsvex8pYqbcm27tttvq953/ALZtJfC0b8NO0sTUjD7sXtS/BHz3WZvHpmrMy2yqRSWhYu0YXZQkb/2R6td8xynNXo4W1SfJyv4I+6v6DodY7LtWO4YFOatiMTapV5pW8EPRfVs3IA5tAAAEoglASAAAAAAAAAAAAAAAAAAIZBLIAAFjH4uFClOrUdoUoSnJ9Iq7A4n236W+JjIUE8sNT8X988/wt7nL6h6Wm9JTxOIqV6nzVpym1yu8l6Ky9Dy5s6zhlbZCAQF2jC7sfTfZrq93DR8IyS+NW/i1nx2pLKPorL35nFuyrQHfNIwUlelh/wCNV5Wi/CvV2PpMxlfFgADKgAAEoglASAAAAAAAAAAAAAAAAAAIZBLIAHL+2zWP4VCODpvx4i06tuFNPJer/A6TjsXCjTlUm7Rgr+fRHGNZKsMXVlOtGE3J3V1ey4JPehLqpXLKjLMmbpU0Nh75U/O8p/8A0Y9TRGG4Q/yn+pv7iaagVQRtP/RqH2P8pfqejo3QlBzUVSg3JxSveW924k+4rpXYnoT4GAdeS/iYyW1f/wAUbqC9fE/U6IY+j8LGjRhTilGNOEYpLJKy5GQZqgAAAAASiCUBIAAAAAAAAAAAAAAAAAAhlFSaim5NJJXbe5IrZoGuusG03RpPwQfjadtqXK/JE2PP1u1jeInswv8ACg8lzf2n+hp+InnusuhXiKyvz8t30MOVT389xAcl7Z3LNWpcqlOy6+ZZ2r77/QIqilfdY2XU2h8TGUVw20/bNms0kbj2dJd/p8cqno9hgdfABpQAAAAAJRBKAkAAAAAAAAAAAAAAAAAAeNrZpHu+FnJfNK0I+b/2OPV8VKT45X5fU6n2h4aU8E3BXdOcZtdM0/xOPyk+K9+BKFd/t7jEci7OV+N/Wxbk8v2yIstu++yKlK/L6FM45fpvJ2bcwLkF6r2No1Kxap4yk3ktvZf3lb8zV4L9tGfg5uM00s01Z+oH0CDB0LjVXw8KnGUVtf3LJr3M40oAAAAAEoglASAAAAAAAAAAAAAAAAAAKKsFJNSV00009zTOYa2aiTjJ1cMnOnm3TXzx8uaOosgD5zr0JRbumrZWeTLV3yO7ad1Xw2LT247FThUhlL1XE5drJqjXwkrtfEg3lUje3ryZEay1bjYK7KpU2iLeStwIK4ppfn+2X8NNLL6/8mM/ryzK6N1nkB1Ls20jlKhLj44ea+Ze1vY3s4lq9pB0q0KibvGSdum5o7Thq0akIzjmpJNepYq4ACgAABKIJQEgAAAAAAAAAAAAAAAAACGQSyABRWpRnFxklKMlZpq6ZWAOX656mfBTrUE5Uv5o73D9YmgVqbi/yPo6STVnmnk091upynXvVbu8vi0k/g1Hu+xLl5ERot7Pk9xXDJ3/ANiJNp7vNi+7IDPw00nly9DompesChFUqrtB/LL7L4ryOa0X+956WFxFrZ7mB3OMk1dZp7mScv0VrBWpK0Ju32XnH2e42LCa5cKtNecHb6P9RtW3A83Aadw9Z2jK0n/LLJ+nM9IoEoglASAAAAAAAAAAAAAAAAAAIZBLIAAAAY+kMHCvSlSmrxqRaf5NdU8zIAHAdM4KVCrOlJeKnJxb59fVHmp9Dp/aVq3UqNYmhBzkls1YRV5WW6SS3nLqsrO0rqSeaeVvNERcp1M8+tuRfp17ZreYLqZ3X6Il1rccwPWp4prc7t8XvL8dIW3vJcTxKbc8opyb+ym39D18Bq5javyYetnxlHYj/lYC/DSDfFp3vvt7HYdWcXKtg6VSecpRab52k1f6HPtE9nOJk0604UY8Untz/RHTMBhIUaUaUMoU4qMeeXF9RFZBKIJRRIAAAAAAAAAAAAAAAAAAhkAAAAAAABbzQtft/oAEc8fzr0Pf0H83qAB0zQ/yryPWAAgABQlAASAAAAAAAAAAP//Z",alt:"sports socks"})}),(0,st.jsx)("th",{scope:"row",children:"Sports Socks"}),(0,st.jsx)("td",{children:"$12.99"}),(0,st.jsx)("td",{children:"1"}),(0,st.jsx)("td",{children:"$12.99"})]}),(0,st.jsxs)("tr",{children:[(0,st.jsx)("td",{children:(0,st.jsx)("img",{src:"https://m.media-amazon.com/images/I/91A3+NX-jkL._CR0,1171,943,943_UX256.jpg",alt:"t shirt"})}),(0,st.jsx)("th",{scope:"row",children:"Adidas T-Shirt"}),(0,st.jsx)("td",{children:"$24.99"}),(0,st.jsx)("td",{children:"2"}),(0,st.jsx)("td",{children:"$49.98"})]}),(0,st.jsxs)("tr",{children:[(0,st.jsx)("td",{children:(0,st.jsx)("img",{src:"https://cdn.shopify.com/s/files/1/0479/0596/4199/products/1507162_6350_1-summer-walk-shorts-m-phantom-8_256x.jpg?v=1681841030",alt:"Shorts"})}),(0,st.jsx)("th",{scope:"row",children:"Champion Shorts"}),(0,st.jsx)("td",{children:"$19.99"}),(0,st.jsx)("td",{children:"3"}),(0,st.jsx)("td",{children:"$59.97"})]}),(0,st.jsx)("div",{className:"checkoutCart",children:(0,st.jsx)("button",{type:"button",className:"btn btn-light btn-lg",children:"CHECKOUT \ud83d\uded2"})})]})]})})},In=function(e){return r.forwardRef((function(t,n){return(0,st.jsx)("div",et(et({},t),{},{ref:n,className:it()(t.className,e)}))}))},Sn=["bsPrefix","className","variant","as"],En=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.variant,a=e.as,o=void 0===a?"img":a,s=nt(e,Sn),u=mt(n,"card-img");return(0,st.jsx)(o,et({ref:t,className:it()(i?"".concat(u,"-").concat(i):u,r)},s))}));En.displayName="CardImg";var _n=En,Tn=r.createContext(null);Tn.displayName="CardHeaderContext";var An=Tn,Cn=["bsPrefix","className","as"],Nn=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.as,o=void 0===a?"div":a,s=nt(e,Cn),u=mt(n,"card-header"),c=(0,r.useMemo)((function(){return{cardHeaderBsPrefix:u}}),[u]);return(0,st.jsx)(An.Provider,{value:c,children:(0,st.jsx)(o,et(et({ref:t},s),{},{className:it()(i,u)}))})}));Nn.displayName="CardHeader";var Pn=Nn,On=["bsPrefix","className","bg","text","border","body","children","as"],Dn=In("h5"),Rn=In("h6"),Ln=Lt("card-body"),jn=Lt("card-title",{Component:Dn}),Mn=Lt("card-subtitle",{Component:Rn}),Fn=Lt("card-link",{Component:"a"}),Un=Lt("card-text",{Component:"p"}),Vn=Lt("card-footer"),Bn=Lt("card-img-overlay"),zn=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.bg,a=e.text,o=e.border,s=e.body,u=void 0!==s&&s,c=e.children,l=e.as,f=void 0===l?"div":l,h=nt(e,On),d=mt(n,"card");return(0,st.jsx)(f,et(et({ref:t},h),{},{className:it()(r,d,i&&"bg-".concat(i),a&&"text-".concat(a),o&&"border-".concat(o)),children:u?(0,st.jsx)(Ln,{children:c}):c}))}));zn.displayName="Card";var qn=Object.assign(zn,{Img:_n,Title:jn,Subtitle:Mn,Body:Ln,Link:Fn,Text:Un,Header:Pn,Footer:Vn,ImgOverlay:Bn});function Kn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dt,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pt,r=[];return Object.entries(e).forEach((function(e){var i=c(e,2),a=i[0],o=i[1];null!=o&&("object"===typeof o?t.forEach((function(e){var t=o[e];if(null!=t){var i=e!==n?"-".concat(e):"";r.push("".concat(a).concat(i,"-").concat(t))}})):r.push("".concat(a,"-").concat(o)))})),r}var Wn=["as","bsPrefix","className","direction","gap"],Hn=r.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.bsPrefix,a=e.className,o=e.direction,s=e.gap,u=nt(e,Wn);i=mt(i,"horizontal"===o?"hstack":"vstack");var c=yt(),l=gt();return(0,st.jsx)(r,et(et({},u),{},{ref:t,className:it().apply(void 0,[a,i].concat(f(Kn({gap:s},c,l))))}))}));Hn.displayName="Stack";var Gn=Hn;var Qn=function(e){var t=(0,r.useRef)(e);return(0,r.useEffect)((function(){t.current=e}),[e]),t};function $n(e){var t=Qn(e);return(0,r.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}var Yn=function(e,t){var n=(0,r.useRef)(!0);(0,r.useEffect)((function(){if(!n.current)return e();n.current=!1}),t)};function Xn(e){var t=function(e){var t=(0,r.useRef)(e);return t.current=e,t}(e);(0,r.useEffect)((function(){return function(){return t.current()}}),[])}var Jn=Math.pow(2,31)-1;function Zn(e,t,n){var r=n-Date.now();e.current=r<=Jn?setTimeout(t,r):setTimeout((function(){return Zn(e,t,n)}),Jn)}function er(){var e=function(){var e=(0,r.useRef)(!0),t=(0,r.useRef)((function(){return e.current}));return(0,r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),t.current}(),t=(0,r.useRef)();return Xn((function(){return clearTimeout(t.current)})),(0,r.useMemo)((function(){var n=function(){return clearTimeout(t.current)};return{set:function(r,i){void 0===i&&(i=0),e()&&(n(),i<=Jn?t.current=setTimeout(r,i):Zn(t,r,Date.now()+i))},clear:n}}),[])}var tr="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product;"undefined"!==typeof document||tr?r.useLayoutEffect:r.useEffect,new WeakMap;var nr=["onKeyDown"];var rr=r.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,nr),a=c(dn(Object.assign({tagName:"a"},i)),1)[0],o=$n((function(e){a.onKeyDown(e),null==r||r(e)}));return(n=i.href)&&"#"!==n.trim()&&"button"!==i.role?(0,st.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,st.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));rr.displayName="Anchor";var ir=rr;function ar(){return ar=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ar.apply(this,arguments)}n(176);function or(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function sr(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function ur(e,t){return Object.keys(t).reduce((function(n,i){var a,o=n,s=o[or(i)],u=o[i],c=tt(o,[or(i),i].map(sr)),l=t[i],f=function(e,t,n){var i=(0,r.useRef)(void 0!==e),a=(0,r.useState)(t),o=a[0],s=a[1],u=void 0!==e,c=i.current;return i.current=u,!u&&c&&o!==t&&s(t),[u?e:o,(0,r.useCallback)((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n&&n.apply(void 0,[e].concat(r)),s(e)}),[n])]}(u,s,e[l]),h=f[0],d=f[1];return ar({},c,((a={})[i]=h,a[l]=d,a))}),e)}function cr(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function lr(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function fr(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}cr.__suppressDeprecationWarning=!0,lr.__suppressDeprecationWarning=!0,fr.__suppressDeprecationWarning=!0;var hr=Lt("carousel-caption"),dr=["as","bsPrefix","className"],pr=r.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.bsPrefix,a=e.className,o=nt(e,dr),s=it()(a,mt(i,"carousel-item"));return(0,st.jsx)(r,et(et({ref:t},o),{},{className:s}))}));pr.displayName="CarouselItem";var vr=pr;function mr(e){var t=function(e){return e&&e.ownerDocument||document}(e);return t&&t.defaultView||window}var yr=/([A-Z])/g;var gr=/^ms-/;function kr(e){return function(e){return e.replace(yr,"-$1").toLowerCase()}(e).replace(gr,"-ms-")}var br=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var wr=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(kr(t))||function(e,t){return mr(e).getComputedStyle(e,t)}(e).getPropertyValue(kr(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!br.test(e))}(i)?n+=kr(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(kr(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},xr=!("undefined"===typeof window||!window.document||!window.document.createElement),Ir=!1,Sr=!1;try{var Er={get passive(){return Ir=!0},get once(){return Sr=Ir=!0}};xr&&(window.addEventListener("test",Er,Er),window.removeEventListener("test",Er,!0))}catch(MF){}var _r=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Sr){var i=r.once,a=r.capture,o=n;!Sr&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,Ir?r:a)}e.addEventListener(t,n,r)};var Tr=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var Ar=function(e,t,n,r){return _r(e,t,n,r),function(){Tr(e,t,n,r)}};function Cr(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=Ar(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function Nr(e,t,n,r){null==n&&(n=function(e){var t=wr(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=Cr(e,n,r),a=Ar(e,"transitionend",t);return function(){i(),a()}}function Pr(e,t){var n=wr(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function Or(e,t){var n=Pr(e,"transitionDuration"),r=Pr(e,"transitionDelay"),i=Nr(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var Dr=!1,Rr=r.createContext(null),Lr="unmounted",jr="exited",Mr="entering",Fr="entered",Ur="exiting",Vr=function(e){var t,n;function a(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=jr,r.appearStatus=Mr):i=Fr:i=t.unmountOnExit||t.mountOnEnter?Lr:jr,r.state={status:i},r.nextCallback=null,r}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,y(t,n),a.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Lr?{status:jr}:null};var o=a.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Mr&&n!==Fr&&(t=Mr):n!==Mr&&n!==Fr||(t=Ur)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},o.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Mr){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===jr&&this.setState({status:Lr})},o.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,a=this.props.nodeRef?[r]:[i.findDOMNode(this),r],o=a[0],s=a[1],u=this.getTimeouts(),c=r?u.appear:u.enter;!e&&!n||Dr?this.safeSetState({status:Fr},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:Mr},(function(){t.props.onEntering(o,s),t.onTransitionEnd(c,(function(){t.safeSetState({status:Fr},(function(){t.props.onEntered(o,s)}))}))})))},o.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:i.findDOMNode(this);t&&!Dr?(this.props.onExit(r),this.safeSetState({status:Ur},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:jr},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:jr},(function(){e.props.onExited(r)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=a[0],s=a[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===Lr)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,tt(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(Rr.Provider,{value:null},"function"===typeof n?n(e,i):r.cloneElement(r.Children.only(n),i))},a}(r.Component);function Br(){}Vr.contextType=Rr,Vr.propTypes={},Vr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Br,onEntering:Br,onEntered:Br,onExit:Br,onExiting:Br,onExited:Br},Vr.UNMOUNTED=Lr,Vr.EXITED=jr,Vr.ENTERING=Mr,Vr.ENTERED=Fr,Vr.EXITING=Ur;var zr=Vr,qr=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var Kr=function(e,t){return(0,r.useMemo)((function(){return function(e,t){var n=qr(e),r=qr(t);return function(e){n&&n(e),r&&r(e)}}(e,t)}),[e,t])};var Wr=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],Hr=r.forwardRef((function(e,t){var n=e.onEnter,a=e.onEntering,o=e.onEntered,s=e.onExit,u=e.onExiting,c=e.onExited,l=e.addEndListener,f=e.children,h=e.childRef,d=nt(e,Wr),p=(0,r.useRef)(null),v=Kr(p,h),m=function(e){var t;v((t=e)&&"setState"in t?i.findDOMNode(t):null!=t?t:null)},y=function(e){return function(t){e&&p.current&&e(p.current,t)}},g=(0,r.useCallback)(y(n),[n]),k=(0,r.useCallback)(y(a),[a]),b=(0,r.useCallback)(y(o),[o]),w=(0,r.useCallback)(y(s),[s]),x=(0,r.useCallback)(y(u),[u]),I=(0,r.useCallback)(y(c),[c]),S=(0,r.useCallback)(y(l),[l]);return(0,st.jsx)(zr,et(et({ref:t},d),{},{onEnter:g,onEntered:b,onEntering:k,onExit:w,onExited:I,onExiting:x,addEndListener:S,nodeRef:p,children:"function"===typeof f?function(e,t){return f(e,et(et({},t),{},{ref:m}))}:r.cloneElement(f,{ref:m})}))})),Gr=Hr,Qr=["defaultActiveIndex"],$r=["as","bsPrefix","slide","fade","controls","indicators","indicatorLabels","activeIndex","onSelect","onSlide","onSlid","interval","keyboard","onKeyDown","pause","onMouseOver","onMouseOut","wrap","touch","onTouchStart","onTouchMove","onTouchEnd","prevIcon","prevLabel","nextIcon","nextLabel","variant","className","children"];var Yr=r.forwardRef((function(e,t){var n=e.defaultActiveIndex,i=ur(et({defaultActiveIndex:void 0===n?0:n},nt(e,Qr)),{activeIndex:"onSelect"}),a=i.as,o=void 0===a?"div":a,s=i.bsPrefix,u=i.slide,l=void 0===u||u,f=i.fade,h=void 0!==f&&f,d=i.controls,p=void 0===d||d,v=i.indicators,m=void 0===v||v,y=i.indicatorLabels,g=void 0===y?[]:y,k=i.activeIndex,b=i.onSelect,w=i.onSlide,x=i.onSlid,I=i.interval,S=void 0===I?5e3:I,E=i.keyboard,_=void 0===E||E,T=i.onKeyDown,A=i.pause,C=void 0===A?"hover":A,N=i.onMouseOver,P=i.onMouseOut,O=i.wrap,D=void 0===O||O,R=i.touch,L=void 0===R||R,j=i.onTouchStart,M=i.onTouchMove,F=i.onTouchEnd,U=i.prevIcon,V=void 0===U?(0,st.jsx)("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}):U,B=i.prevLabel,z=void 0===B?"Previous":B,q=i.nextIcon,K=void 0===q?(0,st.jsx)("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}):q,W=i.nextLabel,H=void 0===W?"Next":W,G=i.variant,Q=i.className,$=i.children,Y=nt(i,$r),X=mt(s,"carousel"),J="rtl"===(0,r.useContext)(vt).dir,Z=(0,r.useRef)(null),ee=c((0,r.useState)("next"),2),te=ee[0],ne=ee[1],re=c((0,r.useState)(!1),2),ie=re[0],ae=re[1],oe=c((0,r.useState)(!1),2),se=oe[0],ue=oe[1],ce=c((0,r.useState)(k||0),2),le=ce[0],fe=ce[1];(0,r.useEffect)((function(){se||k===le||(Z.current?ne(Z.current):ne((k||0)>le?"next":"prev"),l&&ue(!0),fe(k||0))}),[k,se,le,l]),(0,r.useEffect)((function(){Z.current&&(Z.current=null)}));var he,de=0;!function(e,t){var n=0;r.Children.forEach(e,(function(e){r.isValidElement(e)&&t(e,n++)}))}($,(function(e,t){++de,t===k&&(he=e.props.interval)}));var pe=Qn(he),ve=(0,r.useCallback)((function(e){if(!se){var t=le-1;if(t<0){if(!D)return;t=de-1}Z.current="prev",null==b||b(t,e)}}),[se,le,b,D,de]),me=$n((function(e){if(!se){var t=le+1;if(t>=de){if(!D)return;t=0}Z.current="next",null==b||b(t,e)}})),ye=(0,r.useRef)();(0,r.useImperativeHandle)(t,(function(){return{element:ye.current,prev:ve,next:me}}));var ge=$n((function(){!document.hidden&&function(e){if(!e||!e.style||!e.parentNode||!e.parentNode.style)return!1;var t=getComputedStyle(e);return"none"!==t.display&&"hidden"!==t.visibility&&"none"!==getComputedStyle(e.parentNode).display}(ye.current)&&(J?ve():me())})),ke="next"===te?"start":"end";Yn((function(){l||(null==w||w(le,ke),null==x||x(le,ke))}),[le]);var be="".concat(X,"-item-").concat(te),we="".concat(X,"-item-").concat(ke),xe=(0,r.useCallback)((function(e){!function(e){e.offsetHeight}(e),null==w||w(le,ke)}),[w,le,ke]),Ie=(0,r.useCallback)((function(){ue(!1),null==x||x(le,ke)}),[x,le,ke]),Se=(0,r.useCallback)((function(e){if(_&&!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":return e.preventDefault(),void(J?me(e):ve(e));case"ArrowRight":return e.preventDefault(),void(J?ve(e):me(e))}null==T||T(e)}),[_,T,ve,me,J]),Ee=(0,r.useCallback)((function(e){"hover"===C&&ae(!0),null==N||N(e)}),[C,N]),_e=(0,r.useCallback)((function(e){ae(!1),null==P||P(e)}),[P]),Te=(0,r.useRef)(0),Ae=(0,r.useRef)(0),Ce=er(),Ne=(0,r.useCallback)((function(e){Te.current=e.touches[0].clientX,Ae.current=0,"hover"===C&&ae(!0),null==j||j(e)}),[C,j]),Pe=(0,r.useCallback)((function(e){e.touches&&e.touches.length>1?Ae.current=0:Ae.current=e.touches[0].clientX-Te.current,null==M||M(e)}),[M]),Oe=(0,r.useCallback)((function(e){if(L){var t=Ae.current;Math.abs(t)>40&&(t>0?ve(e):me(e))}"hover"===C&&Ce.set((function(){ae(!1)}),S||void 0),null==F||F(e)}),[L,C,ve,me,Ce,S,F]),De=null!=S&&!ie&&!se,Re=(0,r.useRef)();(0,r.useEffect)((function(){var e,t;if(De){var n=J?ve:me;return Re.current=window.setInterval(document.visibilityState?ge:n,null!=(e=null!=(t=pe.current)?t:S)?e:void 0),function(){null!==Re.current&&clearInterval(Re.current)}}}),[De,ve,me,pe,S,ge,J]);var Le=(0,r.useMemo)((function(){return m&&Array.from({length:de},(function(e,t){return function(e){null==b||b(t,e)}}))}),[m,de,b]);return(0,st.jsxs)(o,et(et({ref:ye},Y),{},{onKeyDown:Se,onMouseOver:Ee,onMouseOut:_e,onTouchStart:Ne,onTouchMove:Pe,onTouchEnd:Oe,className:it()(Q,X,l&&"slide",h&&"".concat(X,"-fade"),G&&"".concat(X,"-").concat(G)),children:[m&&(0,st.jsx)("div",{className:"".concat(X,"-indicators"),children:Et($,(function(e,t){return(0,st.jsx)("button",{type:"button","data-bs-target":"","aria-label":null!=g&&g.length?g[t]:"Slide ".concat(t+1),className:t===le?"active":void 0,onClick:Le?Le[t]:void 0,"aria-current":t===le},t)}))}),(0,st.jsx)("div",{className:"".concat(X,"-inner"),children:Et($,(function(e,t){var n=t===le;return l?(0,st.jsx)(Gr,{in:n,onEnter:n?xe:void 0,onEntered:n?Ie:void 0,addEndListener:Or,children:function(t,i){return r.cloneElement(e,et(et({},i),{},{className:it()(e.props.className,n&&"entered"!==t&&be,("entered"===t||"exiting"===t)&&"active",("entering"===t||"exiting"===t)&&we)}))}}):r.cloneElement(e,{className:it()(e.props.className,n&&"active")})}))}),p&&(0,st.jsxs)(st.Fragment,{children:[(D||0!==k)&&(0,st.jsxs)(ir,{className:"".concat(X,"-control-prev"),onClick:ve,children:[V,z&&(0,st.jsx)("span",{className:"visually-hidden",children:z})]}),(D||k!==de-1)&&(0,st.jsxs)(ir,{className:"".concat(X,"-control-next"),onClick:me,children:[K,H&&(0,st.jsx)("span",{className:"visually-hidden",children:H})]})]})]}))}));Yr.displayName="Carousel";var Xr=Object.assign(Yr,{Caption:hr,Item:vr}),Jr=n.p+"static/media/1.66cd563db11a7a4a381a.jpg",Zr=n.p+"static/media/2.4d1ee163523795fe9b14.jpg",ei=n.p+"static/media/3.23ca51ec2739f10d081e.jpg",ti=n.p+"static/media/4.b8d92ea2428c26a242fa.jpg",ni=n.p+"static/media/5.c836ac669f447c167c01.jpg",ri=n.p+"static/media/6.d8c0361bb1408e3715e6.jpg",ii=n.p+"static/media/7.1b3640a4910982cd12a4.jpg",ai=n.p+"static/media/8.b172dec58f3a881e8c43.jpg",oi=n.p+"static/media/9.08a8fe748e7538634322.jpg",si=n.p+"static/media/10.d5ec339534b5beca4503.jpg",ui=n.p+"static/media/11.4b3e9afe6bbf09734e90.jpg",ci=n.p+"static/media/12.88e7f184ede4c8f08a27.jpg",li=n.p+"static/media/13.fdd8d14eaa378c19fd9a.jpg",fi=n.p+"static/media/14.10a8608786e01de02504.jpg",hi=n.p+"static/media/15.2e82f1720d88adc10291.jpg",di=n.p+"static/media/16.be29d98a58a6428c961e.jpg",pi=n.p+"static/media/17.98178ea394ba415947a4.jpg",vi=n.p+"static/media/18.4dd8446299cc83f635b8.jpg";var mi=function(e){var t=Ee();return(0,st.jsxs)("div",{className:"Productview",children:[(0,st.jsx)("div",{className:"leftColumn",children:(0,st.jsx)("img",{src:e.imge,className:"imageDimension"})}),(0,st.jsxs)("div",{className:"rightColumn",children:[(0,st.jsxs)("div",{className:"productNameArea",children:[(0,st.jsx)("h1",{className:"productName",children:e.name}),(0,st.jsx)("div",{className:"productPriceArea",children:(0,st.jsx)("h5",{className:"productPrice",children:e.price})}),(0,st.jsx)("div",{className:"sizeWord",children:(0,st.jsx)("h3",{children:"SIZES"})}),(0,st.jsxs)("div",{className:"genderChoiceArea",children:[(0,st.jsx)("button",{className:"btn btn-outline-primary me-3","aria-pressed":"true",children:"male"}),(0,st.jsx)("button",{className:"btn btn-outline-primary","aria-pressed":"true",children:"Female"})]}),(0,st.jsx)("div",{className:"sizeOptions",children:(0,st.jsxs)("table",{className:"table",children:[(0,st.jsx)("thead",{children:(0,st.jsx)("tr",{children:(0,st.jsx)("th",{scope:"col",children:"Men shoes Size"})})}),(0,st.jsxs)("tbody",{children:[(0,st.jsxs)("tr",{children:[(0,st.jsx)("th",{scope:"row",children:"USA"}),(0,st.jsx)("td",{children:"7"}),(0,st.jsx)("td",{children:"7.5"}),(0,st.jsx)("td",{children:"8"}),(0,st.jsx)("td",{children:"8.5"}),(0,st.jsx)("td",{children:"9"}),(0,st.jsx)("td",{children:"10"}),(0,st.jsx)("td",{children:"10.5"})]}),(0,st.jsxs)("tr",{children:[(0,st.jsx)("th",{scope:"row",children:"UK"}),(0,st.jsx)("td",{children:"6"}),(0,st.jsx)("td",{children:"6.5"}),(0,st.jsx)("td",{children:"7"}),(0,st.jsx)("td",{children:"7.5"}),(0,st.jsx)("td",{children:"8"}),(0,st.jsx)("td",{children:"9"}),(0,st.jsx)("td",{children:"9.5"})]}),(0,st.jsxs)("tr",{children:[(0,st.jsx)("th",{scope:"row",children:"EUR"}),(0,st.jsx)("td",{children:"40"}),(0,st.jsx)("td",{children:"40.5"}),(0,st.jsx)("td",{children:"41"}),(0,st.jsx)("td",{children:"41.5"}),(0,st.jsx)("td",{children:"42.5"}),(0,st.jsx)("td",{children:"44"}),(0,st.jsx)("td",{children:"44.5"})]})]})]})})]}),(0,st.jsx)("div",{className:"userSelectedSize"}),(0,st.jsx)("div",{className:"addcart",children:(0,st.jsx)("button",{type:"button",className:"btn btn-dark btn-lg",onClick:function(){return t("/checkout")},children:"ADD TO CART \ud83d\uded2"})})]})]})},yi=[],gi=localStorage.getItem("MY-PAGE-DATA");null!==gi&&(yi=JSON.parse(gi));var ki=function(){var e=c((0,r.useState)(!1),2),t=e[0],n=e[1];return(0,st.jsxs)("div",{children:[(0,st.jsx)("h1",{className:"landing-title",children:"Shop All"}),(0,st.jsxs)(Xr,{className:"carousel-wrapper",children:[(0,st.jsx)(Xr.Item,{className:"carousel-items",children:(0,st.jsxs)(Gn,{className:"h-100 justify-content-center align-items-center",direction:"horizontal",gap:3,children:[(0,st.jsxs)(qn,{className:"card",children:[(0,st.jsxs)("div",{className:"card-img-wrapper",children:[(0,st.jsx)(qn.Img,{className:"card-img",src:ii}),(0,st.jsx)("div",{className:"overlay",children:(0,st.jsx)(yn,{className:"buy-btn",variant:"light",onClick:function(){return n(!t)},children:"PRODUCT VIEW TEST BUTTON"})})]}),(0,st.jsxs)(qn.Body,{className:"card-details",children:[(0,st.jsx)(qn.Text,{className:"product-type",children:(0,st.jsx)("a",{children:"Los Angeles Lakers LeBron James Gold Jersey"})}),(0,st.jsx)(qn.Text,{className:"product-price",children:"$110"})]})]}),(0,st.jsxs)(qn,{className:"card",children:[(0,st.jsxs)("div",{className:"card-img-wrapper",children:[(0,st.jsx)(qn.Img,{className:"card-img",src:ai}),(0,st.jsx)("div",{className:"overlay",children:(0,st.jsx)(yn,{className:"buy-btn",variant:"light",children:"Buy Now!"})})]}),(0,st.jsxs)(qn.Body,{className:"card-details",children:[(0,st.jsx)(qn.Text,{className:"product-type",children:(0,st.jsx)("a",{children:"Stephen Curry Nike Swingman Jersey"})}),(0,st.jsx)(qn.Text,{className:"product-price",children:"$150"})]})]}),(0,st.jsxs)(qn,{className:"card",children:[(0,st.jsxs)("div",{className:"card-img-wrapper",children:[(0,st.jsx)(qn.Img,{className:"card-img",src:oi}),(0,st.jsx)("div",{className:"overlay",children:(0,st.jsx)(yn,{className:"buy-btn",variant:"light",children:"Buy Now!"})})]}),(0,st.jsxs)(qn.Body,{className:"card-details",children:[(0,st.jsx)(qn.Text,{className:"product-type",children:(0,st.jsx)("a",{children:"Giannis Antetokounmpo Hunter Green Jersey"})}),(0,st.jsx)(qn.Text,{className:"product-price",children:"$120"})]})]})]})}),(0,st.jsx)(Xr.Item,{className:"carousel-items",children:(0,st.jsxs)(Gn,{className:"h-100 justify-content-center align-items-center",direction:"horizontal",gap:3,children:[(0,st.jsxs)(qn,{className:"card",children:[(0,st.jsxs)("div",{className:"card-img-wrapper",children:[(0,st.jsx)(qn.Img,{className:"card-img",src:si}),(0,st.jsx)("div",{className:"overlay",children:(0,st.jsx)(yn,{className:"buy-btn",variant:"light",children:"Buy Now!"})})]}),(0,st.jsxs)(qn.Body,{className:"card-details",children:[(0,st.jsx)(qn.Text,{className:"product-type",children:(0,st.jsx)("a",{children:"Mbapp\xe9 Paris Saint-Germain Soccer Jersey"})}),(0,st.jsx)(qn.Text,{className:"product-price",children:"$145"})]})]}),(0,st.jsxs)(qn,{className:"card",children:[(0,st.jsxs)("div",{className:"card-img-wrapper",children:[(0,st.jsx)(qn.Img,{className:"card-img",src:ui}),(0,st.jsx)("div",{className:"overlay",children:(0,st.jsx)(yn,{className:"buy-btn",variant:"light",children:"Buy Now!"})})]}),(0,st.jsxs)(qn.Body,{className:"card-details",children:[(0,st.jsx)(qn.Text,{className:"product-type",children:(0,st.jsx)("a",{children:"Al Nassr Ronaldo Home Jersey"})}),(0,st.jsx)(qn.Text,{className:"product-price",children:"$7"})]})]}),(0,st.jsxs)(qn,{className:"card",children:[(0,st.jsxs)("div",{className:"card-img-wrapper",children:[(0,st.jsx)(qn.Img,{className:"card-img",src:ci}),(0,st.jsx)("div",{className:"overlay",children:(0,st.jsx)(yn,{className:"buy-btn",variant:"light",children:"Buy Now!"})})]}),(0,st.jsxs)(qn.Body,{className:"card-details",children:[(0,st.jsx)(qn.Text,{className:"product-type",children:(0,st.jsx)("a",{children:"adidas Argentina Lionel Messi Jersey"})}),(0,st.jsx)(qn.Text,{className:"product-price",children:"$150"})]})]})]})})]}),(0,st.jsxs)(Xr,{className:"carousel-wrapper",children:[(0,st.jsx)(Xr.Item,{className:"carousel-items",children:(0,st.jsxs)(Gn,{className:"h-100 justify-content-center align-items-center",direction:"horizontal",gap:3,children:[(0,st.jsxs)(qn,{className:"card",children:[(0,st.jsxs)("div",{className:"card-img-wrapper",children:[(0,st.jsx)(qn.Img,{className:"card-img",src:Jr}),(0,st.jsx)("div",{className:"overlay",children:(0,st.jsx)(yn,{className:"buy-btn",variant:"light",children:"Buy Now!"})})]}),(0,st.jsxs)(qn.Body,{className:"card-details",children:[(0,st.jsx)(qn.Text,{className:"product-type",children:(0,st.jsx)("a",{children:"Luka 1"})}),(0,st.jsx)(qn.Text,{className:"product-price",children:"$110"})]})]}),(0,st.jsxs)(qn,{className:"card",children:[(0,st.jsxs)("div",{className:"card-img-wrapper",children:[(0,st.jsx)(qn.Img,{className:"card-img",src:Zr}),(0,st.jsx)("div",{className:"overlay",children:(0,st.jsx)(yn,{className:"buy-btn",variant:"light",children:"Buy Now!"})})]}),(0,st.jsxs)(qn.Body,{className:"card-details",children:[(0,st.jsx)(qn.Text,{className:"product-type",children:(0,st.jsx)("a",{children:"Zoom Freak 4"})}),(0,st.jsx)(qn.Text,{className:"product-price",children:"$130"})]})]}),(0,st.jsxs)(qn,{className:"card",children:[(0,st.jsxs)("div",{className:"card-img-wrapper",children:[(0,st.jsx)(qn.Img,{className:"card-img",src:ei}),(0,st.jsx)("div",{className:"overlay",children:(0,st.jsx)(yn,{className:"buy-btn",variant:"light",children:"Buy Now!"})})]}),(0,st.jsxs)(qn.Body,{className:"card-details",children:[(0,st.jsx)(qn.Text,{className:"product-type",children:(0,st.jsx)("a",{children:"Giannis Immortality 2"})}),(0,st.jsx)(qn.Text,{className:"product-price",children:"$85"})]})]})]})}),(0,st.jsx)(Xr.Item,{className:"carousel-items",children:(0,st.jsxs)(Gn,{className:"h-100 justify-content-center align-items-center",direction:"horizontal",gap:3,children:[(0,st.jsxs)(qn,{className:"card",children:[(0,st.jsxs)("div",{className:"card-img-wrapper",children:[(0,st.jsx)(qn.Img,{className:"card-img",src:ti}),(0,st.jsx)("div",{className:"overlay",children:(0,st.jsx)(yn,{className:"buy-btn",variant:"light",children:"Buy Now!"})})]}),(0,st.jsxs)(qn.Body,{className:"card-details",children:[(0,st.jsx)(qn.Text,{className:"product-type",children:(0,st.jsx)("a",{children:"Lebron Witness 6"})}),(0,st.jsx)(qn.Text,{className:"product-price",children:"$90"})]})]}),(0,st.jsxs)(qn,{className:"card",children:[(0,st.jsxs)("div",{className:"card-img-wrapper",children:[(0,st.jsx)(qn.Img,{className:"card-img",src:ni}),(0,st.jsx)("div",{className:"overlay",children:(0,st.jsx)(yn,{className:"buy-btn",variant:"light",children:"Buy Now!"})})]}),(0,st.jsxs)(qn.Body,{className:"card-details",children:[(0,st.jsx)(qn.Text,{className:"product-type",children:(0,st.jsx)("a",{children:"Air Jordan XXXVII SP"})}),(0,st.jsx)(qn.Text,{className:"product-price",children:"$140"})]})]}),(0,st.jsxs)(qn,{className:"card",children:[(0,st.jsxs)("div",{className:"card-img-wrapper",children:[(0,st.jsx)(qn.Img,{className:"card-img",src:ri}),(0,st.jsx)("div",{className:"overlay",children:(0,st.jsx)(yn,{className:"buy-btn",variant:"light",children:"Buy Now!"})})]}),(0,st.jsxs)(qn.Body,{className:"card-details",children:[(0,st.jsx)(qn.Text,{className:"product-type",children:(0,st.jsx)("a",{children:"Nike Renew Elevate 3"})}),(0,st.jsx)(qn.Text,{className:"product-price",children:"$70"})]})]})]})})]}),(0,st.jsxs)(Xr,{className:"carousel-wrapper",children:[(0,st.jsx)(Xr.Item,{className:"carousel-items",children:(0,st.jsxs)(Gn,{className:"h-100 justify-content-center align-items-center",direction:"horizontal",gap:3,children:[(0,st.jsxs)(qn,{className:"card",children:[(0,st.jsxs)("div",{className:"card-img-wrapper",children:[(0,st.jsx)(qn.Img,{className:"card-img",src:li}),(0,st.jsx)("div",{className:"overlay",children:(0,st.jsx)(yn,{className:"buy-btn",variant:"light",children:"Buy Now!"})})]}),(0,st.jsxs)(qn.Body,{className:"card-details",children:[(0,st.jsx)(qn.Text,{className:"product-type",children:(0,st.jsx)("a",{children:"Mountain Bike"})}),(0,st.jsx)(qn.Text,{className:"product-price",children:"$299.99"})]})]}),(0,st.jsxs)(qn,{className:"card",children:[(0,st.jsxs)("div",{className:"card-img-wrapper",children:[(0,st.jsx)(qn.Img,{className:"card-img",src:fi}),(0,st.jsx)("div",{className:"overlay",children:(0,st.jsx)(yn,{className:"buy-btn",variant:"light",children:"Buy Now!"})})]}),(0,st.jsxs)(qn.Body,{className:"card-details",children:[(0,st.jsx)(qn.Text,{className:"product-type",children:(0,st.jsx)("a",{children:"Everlast Boxing Gloves"})}),(0,st.jsx)(qn.Text,{className:"product-price",children:"$69.99"})]})]}),(0,st.jsxs)(qn,{className:"card",children:[(0,st.jsxs)("div",{className:"card-img-wrapper",children:[(0,st.jsx)(qn.Img,{className:"card-img",src:hi}),(0,st.jsx)("div",{className:"overlay",children:(0,st.jsx)(yn,{className:"buy-btn",variant:"light",children:"Buy Now!"})})]}),(0,st.jsxs)(qn.Body,{className:"card-details",children:[(0,st.jsx)(qn.Text,{className:"product-type",children:(0,st.jsx)("a",{children:"Nike Vapor Football Gloves"})}),(0,st.jsx)(qn.Text,{className:"product-price",children:"$50.00"})]})]})]})}),(0,st.jsx)(Xr.Item,{className:"carousel-items",children:(0,st.jsxs)(Gn,{className:"h-100 justify-content-center align-items-center",direction:"horizontal",gap:3,children:[(0,st.jsxs)(qn,{className:"card",children:[(0,st.jsxs)("div",{className:"card-img-wrapper",children:[(0,st.jsx)(qn.Img,{className:"card-img",src:di}),(0,st.jsx)("div",{className:"overlay",children:(0,st.jsx)(yn,{className:"buy-btn",variant:"light",children:"Buy Now!"})})]}),(0,st.jsxs)(qn.Body,{className:"card-details",children:[(0,st.jsx)(qn.Text,{className:"product-type",children:(0,st.jsx)("a",{children:"Arm Sleeve"})}),(0,st.jsx)(qn.Text,{className:"product-price",children:"$30"})]})]}),(0,st.jsxs)(qn,{className:"card",children:[(0,st.jsxs)("div",{className:"card-img-wrapper",children:[(0,st.jsx)(qn.Img,{className:"card-img",src:pi}),(0,st.jsx)("div",{className:"overlay",children:(0,st.jsx)(yn,{className:"buy-btn",variant:"light",children:"Buy Now!"})})]}),(0,st.jsxs)(qn.Body,{className:"card-details",children:[(0,st.jsx)(qn.Text,{className:"product-type",children:(0,st.jsx)("a",{children:"adidas Knee Pads "})}),(0,st.jsx)(qn.Text,{className:"product-price",children:"$30.00"})]})]}),(0,st.jsxs)(qn,{className:"card",children:[(0,st.jsxs)("div",{className:"card-img-wrapper",children:[(0,st.jsx)(qn.Img,{className:"card-img",src:vi}),(0,st.jsx)("div",{className:"overlay",children:(0,st.jsx)(yn,{className:"buy-btn",variant:"light",children:"Buy Now!"})})]}),(0,st.jsxs)(qn.Body,{className:"card-details",children:[(0,st.jsx)(qn.Text,{className:"product-type",children:(0,st.jsx)("a",{children:"Tennis Racquet"})}),(0,st.jsx)(qn.Text,{className:"product-price",children:"$24.99"})]})]})]})})]}),(0,st.jsx)("ol",{children:yi.map((function(e){return(0,st.jsx)("li",{children:e},e)}))}),1==t?(0,st.jsx)(mi,{name:"bobs",price:44,imge:ii}):null]})},bi=n.p+"static/media/r7.499bf6e1f324a51ee496.jpg",wi=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},xi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(wi(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new Ii;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ii=function(e){g(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return m(n)}(S(Error)),Si=function(e){return function(e){var t=wi(e);return xi.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ei=function(e){try{return xi.decodeString(e,!0)}catch(MF){console.error("base64Decode failed: ",MF)}return null};function _i(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=_i(e[n],t[n]));return e}var Ti=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Ai=function(){try{return Ti()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/testrelodfix",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(MF){return}var t=e&&Ei(e[1]);return t&&JSON.parse(t)}}()}catch(MF){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(MF))}},Ci=function(){var e;return null===(e=Ai())||void 0===e?void 0:e.config},Ni=function(){function e(){var t=this;h(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return m(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Pi(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Oi(){var e,t=null===(e=Ai())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(MF){return!1}}function Di(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ri(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Li(){var e=Pi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ji(){try{return"object"===typeof indexedDB}catch(MF){return!1}}var Mi=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(w(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(w(a),Fi.prototype.create),a}return m(n)}(S(Error)),Fi=function(){function e(t,n,r){h(this,e),this.service=t,this.serviceName=n,this.errors=r}return m(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Ui,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Mi(n,a,t)}}]),e}();var Ui=/\{\$([^}]+)}/g;function Vi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Bi(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function zi(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(qi(s)&&qi(u)){if(!zi(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function qi(e){return null!==e&&"object"===typeof e}function Ki(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Wi(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Hi(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Gi(e,t){var n=new Qi(e,t);return n.subscribe.bind(n)}var Qi=function(){function e(t,n){var r=this;h(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return m(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=_(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=$i),void 0===r.error&&(r.error=$i),void 0===r.complete&&(r.complete=$i);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(MF){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(MF){"undefined"!==typeof console&&console.error&&console.error(MF)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function $i(){}function Yi(e){return e&&e._delegate?e._delegate:e}function Xi(){Xi=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(C){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),s=new _(i||[]);return r(o,"_invoke",{value:x(e,n,s)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=c;var f={};function h(){}function p(){}function v(){}var m={};u(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==t&&n.call(g,a)&&(m=g);var k=v.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,s){var u=l(e[r],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==d(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=I(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=v,r(k,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(w.prototype),u(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),u(k,s,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Ji(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Zi(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ji(a,r,i,o,s,"next",e)}function s(e){Ji(a,r,i,o,s,"throw",e)}o(void 0)}))}}var ea=function(){function e(t,n,r){h(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return m(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),ta="[DEFAULT]",na=function(){function e(t,n){h(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return m(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ni;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(MF){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(MF){if(r)return null;throw MF}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch(MF){}var t,n=_(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(MF){}}}catch(u){n.e(u)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Zi(Xi().mark((function e(){var t;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(f(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),f(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=_(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=c(i.value,2),u=s[0],l=s[1];r===this.normalizeInstanceIdentifier(u)&&l.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=_(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(ND){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===ta?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(ND){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta;return this.component?this.component.multipleInstances?e:ta:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var ra,ia,aa=function(){function e(t){h(this,e),this.name=t,this.providers=new Map}return m(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new na(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),oa=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ia||(ia={}));var sa={debug:ia.DEBUG,verbose:ia.VERBOSE,info:ia.INFO,warn:ia.WARN,error:ia.ERROR,silent:ia.SILENT},ua=ia.INFO,ca=(Je(ra={},ia.DEBUG,"log"),Je(ra,ia.VERBOSE,"log"),Je(ra,ia.INFO,"info"),Je(ra,ia.WARN,"warn"),Je(ra,ia.ERROR,"error"),ra),la=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ca[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},fa=function(){function e(t){h(this,e),this.name=t,this._logLevel=ua,this._logHandler=la,this._userLogHandler=null,oa.push(this)}return m(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ia))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?sa[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ia.DEBUG].concat(t)),this._logHandler.apply(this,[this,ia.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ia.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ia.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ia.INFO].concat(t)),this._logHandler.apply(this,[this,ia.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ia.WARN].concat(t)),this._logHandler.apply(this,[this,ia.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ia.ERROR].concat(t)),this._logHandler.apply(this,[this,ia.ERROR].concat(t))}}]),e}();var ha,da,pa=function(e,t){return t.some((function(t){return e instanceof t}))};var va=new WeakMap,ma=new WeakMap,ya=new WeakMap,ga=new WeakMap,ka=new WeakMap;var ba={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ma.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ya.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ia(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function wa(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(da||(da=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Sa(this),n),Ia(va.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ia(e.apply(Sa(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Sa(this),t].concat(r));return ya.set(a,t.sort?t.sort():[t]),Ia(a)}}function xa(e){return"function"===typeof e?wa(e):(e instanceof IDBTransaction&&function(e){if(!ma.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));ma.set(e,t)}}(e),pa(e,ha||(ha=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,ba):e)}function Ia(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Ia(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&va.set(t,e)})).catch((function(){})),ka.set(t,e),t}(e);if(ga.has(e))return ga.get(e);var t=xa(e);return t!==e&&(ga.set(e,t),ka.set(t,e)),t}var Sa=function(e){return ka.get(e)};var Ea,_a,Ta=["get","getKey","getAll","getAllKeys","count"],Aa=["put","add","delete","clear"],Ca=new Map;function Na(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Ca.get(t))return Ca.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Aa.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Ta.includes(n))){var a=function(){var e=Zi(Xi().mark((function e(t){var a,o,s,u,c,l,f=arguments;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Ca.set(t,a),a}}}ba=function(e){return et(et({},e),{},{get:function(t,n,r){return Na(t,n)||e.get(t,n,r)},has:function(t,n){return!!Na(t,n)||e.has(t,n)}})}(ba);var Pa=function(){function e(t){h(this,e),this.container=t}return m(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Oa="@firebase/app",Da="0.9.9",Ra=new fa("@firebase/app"),La="[DEFAULT]",ja=(Je(Ea={},Oa,"fire-core"),Je(Ea,"@firebase/app-compat","fire-core-compat"),Je(Ea,"@firebase/analytics","fire-analytics"),Je(Ea,"@firebase/analytics-compat","fire-analytics-compat"),Je(Ea,"@firebase/app-check","fire-app-check"),Je(Ea,"@firebase/app-check-compat","fire-app-check-compat"),Je(Ea,"@firebase/auth","fire-auth"),Je(Ea,"@firebase/auth-compat","fire-auth-compat"),Je(Ea,"@firebase/database","fire-rtdb"),Je(Ea,"@firebase/database-compat","fire-rtdb-compat"),Je(Ea,"@firebase/functions","fire-fn"),Je(Ea,"@firebase/functions-compat","fire-fn-compat"),Je(Ea,"@firebase/installations","fire-iid"),Je(Ea,"@firebase/installations-compat","fire-iid-compat"),Je(Ea,"@firebase/messaging","fire-fcm"),Je(Ea,"@firebase/messaging-compat","fire-fcm-compat"),Je(Ea,"@firebase/performance","fire-perf"),Je(Ea,"@firebase/performance-compat","fire-perf-compat"),Je(Ea,"@firebase/remote-config","fire-rc"),Je(Ea,"@firebase/remote-config-compat","fire-rc-compat"),Je(Ea,"@firebase/storage","fire-gcs"),Je(Ea,"@firebase/storage-compat","fire-gcs-compat"),Je(Ea,"@firebase/firestore","fire-fst"),Je(Ea,"@firebase/firestore-compat","fire-fst-compat"),Je(Ea,"fire-js","fire-js"),Je(Ea,"firebase","fire-js-all"),Ea),Ma=new Map,Fa=new Map;function Ua(e,t){try{e.container.addComponent(t)}catch(MF){Ra.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),MF)}}function Va(e,t){e.container.addOrOverwriteComponent(t)}function Ba(e){var t=e.name;if(Fa.has(t))return Ra.debug("There were multiple attempts to register component ".concat(t,".")),!1;Fa.set(t,e);var n,r=_(Ma.values());try{for(r.s();!(n=r.n()).done;){Ua(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function za(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function qa(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:La;za(e,t).clearInstance(n)}function Ka(){Fa.clear()}var Wa=(Je(_a={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Je(_a,"bad-app-name","Illegal App name: '{$appName}"),Je(_a,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Je(_a,"app-deleted","Firebase App named '{$appName}' already deleted"),Je(_a,"no-options","Need to provide options, when not being deployed to hosting via source."),Je(_a,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Je(_a,"invalid-log-argument","First argument to `onLog` must be null or a function."),Je(_a,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Je(_a,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Je(_a,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Je(_a,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),_a),Ha=new Fi("app","Firebase",Wa),Ga=function(){function e(t,n,r){var i=this;h(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ea("app",(function(){return i}),"PUBLIC"))}return m(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Ha.create("app-deleted",{appName:this._name})}}]),e}(),Qa="9.21.0";function $a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:La,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ha.create("bad-app-name",{appName:String(i)});if(n||(n=Ci()),!n)throw Ha.create("no-options");var a=Ma.get(i);if(a){if(zi(n,a.options)&&zi(r,a.config))return a;throw Ha.create("duplicate-app",{appName:i})}var o,s=new aa(i),u=_(Fa.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new Ga(n,r,s);return Ma.set(i,l),l}function Ya(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:La,t=Ma.get(e);if(!t&&e===La)return $a();if(!t)throw Ha.create("no-app",{appName:e});return t}function Xa(){return Array.from(Ma.values())}function Ja(e){return Za.apply(this,arguments)}function Za(){return(Za=Zi(Xi().mark((function e(t){var n;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Ma.has(n)){e.next=6;break}return Ma.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eo(e,t,n){var r,i=null!==(r=ja[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ra.warn(s.join(" "))}Ba(new ea("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function to(e,t){if(null!==e&&"function"!==typeof e)throw Ha.create("invalid-log-argument");!function(e,t){var n,r=_(oa);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=sa[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:ia[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function no(e){var t;t=e,oa.forEach((function(e){e.setLogLevel(t)}))}var ro="firebase-heartbeat-database",io=1,ao="firebase-heartbeat-store",oo=null;function so(){return oo||(oo=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Ia(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Ia(s.result),e.oldVersion,e.newVersion,Ia(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(ro,io,{upgrade:function(e,t){if(0===t)e.createObjectStore(ao)}}).catch((function(e){throw Ha.create("idb-open",{originalErrorMessage:e.message})}))),oo}function uo(e){return co.apply(this,arguments)}function co(){return co=Zi(Xi().mark((function e(t){var n,r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,so();case 3:return n=e.sent,e.abrupt("return",n.transaction(ao).objectStore(ao).get(ho(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Mi?Ra.warn(e.t0.message):(r=Ha.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Ra.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),co.apply(this,arguments)}function lo(e,t){return fo.apply(this,arguments)}function fo(){return fo=Zi(Xi().mark((function e(t,n){var r,i,a,o;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,so();case 3:return r=e.sent,i=r.transaction(ao,"readwrite"),a=i.objectStore(ao),e.next=8,a.put(n,ho(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Mi?Ra.warn(e.t0.message):(o=Ha.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Ra.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),fo.apply(this,arguments)}function ho(e){return"".concat(e.name,"!").concat(e.options.appId)}var po=function(){function e(t){var n=this;h(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new ko(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return m(e,[{key:"triggerHeartbeat",value:function(){var e=Zi(Xi().mark((function e(){var t,n,r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=vo(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Zi(Xi().mark((function e(){var t,n,r,i,a;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=vo(),n=mo(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Si(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function vo(){return(new Date).toISOString().substring(0,10)}function mo(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=_(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),bo(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),bo(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var yo,go,ko=function(){function e(t){h(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return m(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Zi(Xi().mark((function e(){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ji()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Zi(Xi().mark((function e(){var t;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,uo(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Zi(Xi().mark((function e(t){var n,r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",lo(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Zi(Xi().mark((function e(t){var n,r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",lo(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(f(r.heartbeats),f(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function bo(e){return Si(JSON.stringify({version:2,heartbeats:e})).length}yo="",Ba(new ea("platform-logger",(function(e){return new Pa(e)}),"PRIVATE")),Ba(new ea("heartbeat",(function(e){return new po(e)}),"PRIVATE")),eo(Oa,Da,yo),eo(Oa,Da,"esm2017"),eo("fire-js","");var wo=function(){function e(t,n){var r=this;h(this,e),this._delegate=t,this.firebase=n,Ua(t,new ea("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return m(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ja(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:La;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:La;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Ua(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Va(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),xo=(Je(go={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Je(go,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),go),Io=new Fi("app-compat","Firebase",xo);var So=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=$a(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Vi(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:eo,setLogLevel:no,onLog:to,apps:null,SDK_VERSION:Qa,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ba(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Io.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&_i(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Vi(n,e=e||La))throw Io.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(wo);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){_i(n,e)},createSubscribe:Gi,ErrorFactory:Fi,deepExtend:_i}),n}(),Eo=new fa("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Eo.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var _o=self.firebase.SDK_VERSION;_o&&_o.indexOf("LITE")>=0&&Eo.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var To=So;!function(e){eo("@firebase/app-compat","0.2.9",e)}();function Ao(){return Ao="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Ao.apply(this,arguments)}To.registerVersion("firebase","9.21.0","app-compat");function Co(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var No;Object.create;var Po={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Oo="EMAIL_SIGNIN",Do="PASSWORD_RESET",Ro="RECOVER_EMAIL",Lo="REVERT_SECOND_FACTOR_ADDITION",jo="VERIFY_AND_CHANGE_EMAIL",Mo="VERIFY_EMAIL";function Fo(){return Je({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Uo=function(){var e;return Je(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Je(e,"argument-error",""),Je(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Je(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Je(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Je(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Je(e,"cordova-not-ready","Cordova framework is not ready."),Je(e,"cors-unsupported","This browser is not supported."),Je(e,"credential-already-in-use","This credential is already associated with a different user account."),Je(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Je(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Je(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Je(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Je(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Je(e,"email-already-in-use","The email address is already in use by another account."),Je(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Je(e,"expired-action-code","The action code has expired."),Je(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Je(e,"internal-error","An internal AuthError has occurred."),Je(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Je(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Je(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Je(e,"invalid-auth-event","An internal AuthError has occurred."),Je(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Je(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Je(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Je(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Je(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Je(e,"invalid-email","The email address is badly formatted."),Je(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Je(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Je(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Je(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Je(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Je(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Je(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Je(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Je(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Je(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Je(e,"wrong-password","The password is invalid or the user does not have a password."),Je(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Je(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Je(e,"invalid-provider-id","The specified provider ID is invalid."),Je(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Je(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Je(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Je(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Je(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Je(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Je(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Je(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Je(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Je(e,"missing-continue-uri","A continue URL must be provided in the request."),Je(e,"missing-iframe-start","An internal AuthError has occurred."),Je(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Je(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Je(e,"missing-password","A non-empty password must be provided"),Je(e,"missing-multi-factor-info","No second factor identifier is provided."),Je(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Je(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Je(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Je(e,"app-deleted","This instance of FirebaseApp has been deleted."),Je(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Je(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Je(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Je(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Je(e,"no-auth-event","An internal AuthError has occurred."),Je(e,"no-such-provider","User was not linked to an account with the given provider."),Je(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Je(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Je(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Je(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Je(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Je(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Je(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Je(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Je(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Je(e,"rejected-credential","The request contains malformed or mismatching credentials."),Je(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Je(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Je(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Je(e,"timeout","The operation has timed out."),Je(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Je(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Je(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Je(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Je(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Je(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Je(e,"unverified-email","The operation requires a verified email."),Je(e,"user-cancelled","The user did not grant your application the permissions it requested."),Je(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Je(e,"user-disabled","The user account has been disabled by an administrator."),Je(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Je(e,"user-signed-out",""),Je(e,"weak-password","The password must be 6 characters long or more."),Je(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Je(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),Je(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),Je(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),Je(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),Je(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),Je(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),Je(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),Je(e,"invalid-req-type","Invalid request parameters."),Je(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),e},Vo=Fo,Bo=new Fi("auth","Firebase",Fo()),zo=new fa("@firebase/auth");function qo(e){if(zo.logLevel<=ia.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];zo.warn.apply(zo,["Auth (".concat(Qa,"): ").concat(e)].concat(n))}}function Ko(e){if(zo.logLevel<=ia.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];zo.error.apply(zo,["Auth (".concat(Qa,"): ").concat(e)].concat(n))}}function Wo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw $o.apply(void 0,[e].concat(n))}function Ho(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $o.apply(void 0,[e].concat(n))}function Go(e,t,n){var r=Object.assign(Object.assign({},Vo()),Je({},t,n));return new Fi("auth","Firebase",r).create(t,{appName:e.name})}function Qo(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Wo(e,"argument-error"),Go(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function $o(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=f(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(f(o)))}return Bo.create.apply(Bo,[e].concat(n))}function Yo(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw $o.apply(void 0,[t].concat(r))}}function Xo(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Ko(t),new Error(t)}function Jo(e,t){e||Xo(t)}function Zo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function es(){return"http:"===ts()||"https:"===ts()}function ts(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var ns=function(){function e(t,n){h(this,e),this.shortDelay=t,this.longDelay=n,Jo(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pi())||Ri()}return m(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(es()||Di()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function rs(e,t){Jo(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var is=function(){function e(){h(this,e)}return m(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Xo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Xo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Xo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),as=(Je(No={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Je(No,"MISSING_CUSTOM_TOKEN","internal-error"),Je(No,"INVALID_IDENTIFIER","invalid-email"),Je(No,"MISSING_CONTINUE_URI","internal-error"),Je(No,"INVALID_PASSWORD","wrong-password"),Je(No,"MISSING_PASSWORD","missing-password"),Je(No,"EMAIL_EXISTS","email-already-in-use"),Je(No,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Je(No,"INVALID_IDP_RESPONSE","invalid-credential"),Je(No,"INVALID_PENDING_TOKEN","invalid-credential"),Je(No,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Je(No,"MISSING_REQ_TYPE","internal-error"),Je(No,"EMAIL_NOT_FOUND","user-not-found"),Je(No,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Je(No,"EXPIRED_OOB_CODE","expired-action-code"),Je(No,"INVALID_OOB_CODE","invalid-action-code"),Je(No,"MISSING_OOB_CODE","internal-error"),Je(No,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Je(No,"INVALID_ID_TOKEN","invalid-user-token"),Je(No,"TOKEN_EXPIRED","user-token-expired"),Je(No,"USER_NOT_FOUND","user-token-expired"),Je(No,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Je(No,"INVALID_CODE","invalid-verification-code"),Je(No,"INVALID_SESSION_INFO","invalid-verification-id"),Je(No,"INVALID_TEMPORARY_PROOF","invalid-credential"),Je(No,"MISSING_SESSION_INFO","missing-verification-id"),Je(No,"SESSION_EXPIRED","code-expired"),Je(No,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Je(No,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Je(No,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Je(No,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Je(No,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Je(No,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Je(No,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Je(No,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Je(No,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Je(No,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Je(No,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Je(No,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),Je(No,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),Je(No,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),Je(No,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),Je(No,"MISSING_CLIENT_TYPE","missing-client-type"),Je(No,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),Je(No,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),Je(No,"INVALID_REQ_TYPE","invalid-req-type"),No),os=new ns(3e4,6e4);function ss(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function us(e,t,n,r){return cs.apply(this,arguments)}function cs(){return cs=Zi(Xi().mark((function e(t,n,r,i){var a,o=arguments;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",ls(t,a,Zi(Xi().mark((function e(){var a,o,s,u;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Ki(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",is.fetch()(ps(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),cs.apply(this,arguments)}function ls(e,t,n){return fs.apply(this,arguments)}function fs(){return fs=Zi(Xi().mark((function e(t,n,r){var i,a,o,s,u,l,f,h,d,p;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},as),n),e.prev=2,a=new vs(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw ms(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,l=u.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw ms(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw ms(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw ms(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Go(t,p,d);case 34:Wo(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Mi)){e.next=41;break}throw e.t0;case 41:Wo(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),fs.apply(this,arguments)}function hs(e,t,n,r){return ds.apply(this,arguments)}function ds(){return ds=Zi(Xi().mark((function e(t,n,r,i){var a,o,s=arguments;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,us(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Wo(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),ds.apply(this,arguments)}function ps(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?rs(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var vs=function(){function e(t){var n=this;h(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Ho(n.auth,"network-request-failed"))}),os.get())}))}return m(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function ms(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Ho(e,t,r);return i.customData._tokenResponse=n,i}function ys(e,t){return gs.apply(this,arguments)}function gs(){return(gs=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",us(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ks(e,t){return bs.apply(this,arguments)}function bs(){return(bs=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",us(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ws(e,t){return xs.apply(this,arguments)}function xs(){return(xs=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",us(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Is(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(MF){}}function Ss(){return Ss=Zi(Xi().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Yi(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Yo((a=_s(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Is(Es(a.auth_time)),issuedAtTime:Is(Es(a.iat)),expirationTime:Is(Es(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Ss.apply(this,arguments)}function Es(e){return 1e3*Number(e)}function _s(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Ko("JWT malformed, contained fewer than 3 sections"),null;try{var a=Ei(r);return a?JSON.parse(a):(Ko("Failed to decode base64 JWT payload"),null)}catch(MF){return Ko("Caught error parsing JWT payload as JSON",null===MF||void 0===MF?void 0:MF.toString()),null}}function Ts(e,t){return As.apply(this,arguments)}function As(){return As=Zi(Xi().mark((function e(t,n){var r=arguments;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Mi&&Cs(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),As.apply(this,arguments)}function Cs(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Ns=function(){function e(t){h(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return m(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Zi(Xi().mark((function t(){return Xi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Zi(Xi().mark((function e(){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ps=function(){function e(t,n){h(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return m(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Is(this.lastLoginAt),this.creationTime=Is(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Os(e){return Ds.apply(this,arguments)}function Ds(){return Ds=Zi(Xi().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Ts(t,ws(r,{idToken:i}));case 6:Yo(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=Co(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=Ls(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ps(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Ds.apply(this,arguments)}function Rs(){return(Rs=Zi(Xi().mark((function e(t){var n;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Yi(t),e.next=3,Os(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ls(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(f(n),f(t))}function js(e,t){return Ms.apply(this,arguments)}function Ms(){return(Ms=Zi(Xi().mark((function e(t,n){var r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ls(t,{},Zi(Xi().mark((function e(){var r,i,a,o,s,u;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ki({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=ps(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",is.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fs=function(){function e(){h(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return m(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Yo(e.idToken,"internal-error"),Yo("undefined"!==typeof e.idToken,"internal-error"),Yo("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=_s(e);return Yo(t,"internal-error"),Yo("undefined"!==typeof t.exp,"internal-error"),Yo("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Zi(Xi().mark((function e(t){var n,r=arguments;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Yo(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Zi(Xi().mark((function e(t,n){var r,i,a,o;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,js(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Xo("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Yo("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Yo("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Yo("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Us(e,t){Yo("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Vs=function(){function e(t){h(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Co(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ns(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?f(a.providerData):[],this.metadata=new Ps(a.createdAt||void 0,a.lastLoginAt||void 0)}return m(e,[{key:"getIdToken",value:function(){var e=Zi(Xi().mark((function e(t){var n;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ts(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Yo(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Ss.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Rs.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Yo(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Yo(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Zi(Xi().mark((function e(t){var n,r,i=arguments;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Os(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Zi(Xi().mark((function e(){var t;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Ts(this,ys(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,I=n.stsTokenManager;Yo(k&&I,t,"internal-error");var S=Fs.fromJSON(this.name,I);Yo("string"===typeof k,t,"internal-error"),Us(f,t.name),Us(h,t.name),Yo("boolean"===typeof b,t,"internal-error"),Yo("boolean"===typeof w,t,"internal-error"),Us(d,t.name),Us(p,t.name),Us(v,t.name),Us(m,t.name),Us(y,t.name),Us(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=Zi(Xi().mark((function t(n,r){var i,a,o,s=arguments;return Xi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Fs).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Os(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Bs=new Map;function zs(e){Jo(e instanceof Function,"Expected a class definition");var t=Bs.get(e);return t?(Jo(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Bs.set(e,t),t)}var qs=function(){function e(){h(this,e),this.type="NONE",this.storage={}}return m(e,[{key:"_isAvailable",value:function(){var e=Zi(Xi().mark((function e(){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Zi(Xi().mark((function e(t){var n;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Zi(Xi().mark((function e(t){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();qs.type="NONE";var Ks=qs;function Ws(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Hs=function(){function e(t,n,r){h(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Ws(this.userKey,a.apiKey,o),this.fullPersistenceKey=Ws("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return m(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Zi(Xi().mark((function e(){var t;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Vs._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Zi(Xi().mark((function e(t){var n;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Zi(Xi().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return Xi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(zs(Ks),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Zi(Xi().mark((function e(t){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||zs(Ks),s=Ws(i,n.config.apiKey,n.name),u=null,c=_(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=Vs._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Zi(Xi().mark((function e(t){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Gs(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Xs(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Qs(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Zs(t))return"Blackberry";if(eu(t))return"Webos";if($s(t))return"Safari";if((t.includes("chrome/")||Ys(t))&&!t.includes("edge/"))return"Chrome";if(Js(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Qs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi();return/firefox\//i.test(e)}function $s(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ys(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi();return/crios\//i.test(e)}function Xs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi();return/iemobile/i.test(e)}function Js(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi();return/android/i.test(e)}function Zs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi();return/blackberry/i.test(e)}function eu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi();return/webos/i.test(e)}function tu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function nu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi();return tu(e)||Js(e)||eu(e)||Zs(e)||/windows phone/i.test(e)||Xs(e)}function ru(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Gs(Pi());break;case"Worker":t="".concat(Gs(Pi()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Qa,"/").concat(r)}function iu(e){return au.apply(this,arguments)}function au(){return(au=Zi(Xi().mark((function e(t){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,us(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ou(e,t){return su.apply(this,arguments)}function su(){return(su=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",us(t,"GET","/v2/recaptchaConfig",ss(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uu(e){return void 0!==e&&void 0!==e.getResponse}function cu(e){return void 0!==e&&void 0!==e.enterprise}var lu=m((function e(t){if(h(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function fu(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Ho("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function hu(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var du=function(){function e(t){h(this,e),this.type="recaptcha-enterprise",this.auth=gu(t)}return m(e,[{key:"verify",value:function(){var e=Zi(Xi().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;cu(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=Zi(Xi().mark((function e(t){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=Zi(Xi().mark((function e(n,r){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ou(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new lu(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&cu(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));fu("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function pu(e,t,n){return vu.apply(this,arguments)}function vu(){return vu=Zi(Xi().mark((function e(t,n,r){var i,a,o,s,u=arguments;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new du(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),vu.apply(this,arguments)}var mu=function(){function e(t){h(this,e),this.auth=t,this.queue=[]}return m(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(MF){r(MF)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Zi(Xi().mark((function e(t){var n,r,i,a,o,s,u;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=_(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=_(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(fM){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),yu=function(){function e(t,n,r,i){h(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ku(this),this.idTokenSubscription=new ku(this),this.beforeStateQueue=new mu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bo,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return m(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=zs(t)),this._initializationPromise=this.queue(Zi(Xi().mark((function r(){var i,a;return Xi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Hs.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Zi(Xi().mark((function e(){var t;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Zi(Xi().mark((function e(t){var n,r,i,a,o,s,u;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Yo(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Zi(Xi().mark((function e(t){var n;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Zi(Xi().mark((function e(t){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Os(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Zi(Xi().mark((function e(){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Zi(Xi().mark((function e(t){var n;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Yi(t):null)&&Yo(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Zi(Xi().mark((function e(t){var n,r=this,i=arguments;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Yo(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Zi(Xi().mark((function e(){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Zi(Xi().mark((function e(){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Zi(Xi().mark((function n(){return Xi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(zs(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=Zi(Xi().mark((function e(){var t,n;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ou(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new lu(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new du(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Fi("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Zi(Xi().mark((function e(t,n){var r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Zi(Xi().mark((function e(t){var n;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Yo(n=t&&zs(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Hs.create(this,[zs(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Zi(Xi().mark((function e(t){var n,r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Zi(Xi().mark((function e(){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Zi(Xi().mark((function e(t){var n=this;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Zi(Xi().mark((function e(){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Yo(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Zi(Xi().mark((function e(t){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Yo(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ru(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Zi(Xi().mark((function e(){var t,n,r,i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Je({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Zi(Xi().mark((function e(){var t,n;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&qo("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function gu(e){return Yi(e)}var ku=function(){function e(t){var n=this;h(this,e),this.auth=t,this.observer=null,this.addObserver=Gi((function(e){return n.observer=e}))}return m(e,[{key:"next",get:function(){return Yo(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function bu(e,t,n){var r=gu(e);Yo(r._canInitEmulator,r,"emulator-config-failed"),Yo(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=wu(t),o=function(e){var t=wu(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:xu(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:xu(o[1])}}(t),s=o.host,u=o.port,l=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function wu(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function xu(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Iu=function(){function e(t,n){h(this,e),this.providerId=t,this.signInMethod=n}return m(e,[{key:"toJSON",value:function(){return Xo("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Xo("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Xo("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Xo("not implemented")}}]),e}();function Su(e,t){return Eu.apply(this,arguments)}function Eu(){return(Eu=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",us(t,"POST","/v1/accounts:resetPassword",ss(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _u(e,t){return Tu.apply(this,arguments)}function Tu(){return(Tu=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",us(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Au(e,t){return Cu.apply(this,arguments)}function Cu(){return(Cu=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",us(t,"POST","/v1/accounts:update",ss(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nu(e,t){return Pu.apply(this,arguments)}function Pu(){return(Pu=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hs(t,"POST","/v1/accounts:signInWithPassword",ss(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ou(e,t){return Du.apply(this,arguments)}function Du(){return(Du=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",us(t,"POST","/v1/accounts:sendOobCode",ss(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ru(e,t){return Lu.apply(this,arguments)}function Lu(){return(Lu=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ou(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ju(e,t){return Mu.apply(this,arguments)}function Mu(){return(Mu=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ou(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fu(e,t){return Uu.apply(this,arguments)}function Uu(){return(Uu=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ou(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vu(e,t){return Bu.apply(this,arguments)}function Bu(){return(Bu=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ou(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zu(e,t){return qu.apply(this,arguments)}function qu(){return(qu=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hs(t,"POST","/v1/accounts:signInWithEmailLink",ss(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ku(e,t){return Wu.apply(this,arguments)}function Wu(){return(Wu=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hs(t,"POST","/v1/accounts:signInWithEmailLink",ss(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Hu=function(e){g(n,e);var t=x(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return h(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return m(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Zi(Xi().mark((function e(t){var n,r,i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,pu(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",Nu(t,i));case 11:return e.abrupt("return",Nu(t,r).catch(function(){var e=Zi(Xi().mark((function e(n){var i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,pu(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",Nu(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",zu(t,{email:this._email,oobCode:this._password}));case 13:Wo(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",_u(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ku(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Wo(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Iu);function Gu(e,t){return Qu.apply(this,arguments)}function Qu(){return(Qu=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hs(t,"POST","/v1/accounts:signInWithIdp",ss(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $u=function(e){g(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return m(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Gu(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Gu(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Gu(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ki(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Wo("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Co(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Iu);function Yu(e,t){return Xu.apply(this,arguments)}function Xu(){return(Xu=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",us(t,"POST","/v1/accounts:sendVerificationCode",ss(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ju(){return(Ju=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hs(t,"POST","/v1/accounts:signInWithPhoneNumber",ss(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zu(){return(Zu=Zi(Xi().mark((function e(t,n){var r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hs(t,"POST","/v1/accounts:signInWithPhoneNumber",ss(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw ms(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ec=Je({},"USER_NOT_FOUND","user-not-found");function tc(){return(tc=Zi(Xi().mark((function e(t,n){var r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",hs(t,"POST","/v1/accounts:signInWithPhoneNumber",ss(t,r),ec));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nc=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone","phone")).params=e,r}return m(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Ju.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Zu.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return tc.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Iu);var rc=function(){function e(t){var n,r,i,a,o,s;h(this,e);var u=Wi(Hi(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Yo(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return m(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Wi(Hi(e)).link,n=t?Wi(Hi(t)).deep_link_id:null,r=Wi(Hi(e)).deep_link_id;return(r?Wi(Hi(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(ND){return null}}}]),e}();var ic=function(){function e(){h(this,e),this.providerId=e.PROVIDER_ID}return m(e,null,[{key:"credential",value:function(e,t){return Hu._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=rc.parseLink(t);return Yo(n,"argument-error"),Hu._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();ic.PROVIDER_ID="password",ic.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ic.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ac=function(){function e(t){h(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return m(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),oc=function(e){g(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).scopes=[],e}return m(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return f(this.scopes)}}]),n}(ac),sc=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Yo(e.idToken||e.accessToken,"argument-error"),$u._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Yo("providerId"in t&&"signInMethod"in t,"argument-error"),$u._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(MF){return null}}}]),n}(oc),uc=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.call(this,"facebook.com")}return m(n,null,[{key:"credential",value:function(e){return $u._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(ND){return null}}}]),n}(oc);uc.FACEBOOK_SIGN_IN_METHOD="facebook.com",uc.PROVIDER_ID="facebook.com";var cc=function(e){g(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return m(n,null,[{key:"credential",value:function(e,t){return $u._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(ND){return null}}}]),n}(oc);cc.GOOGLE_SIGN_IN_METHOD="google.com",cc.PROVIDER_ID="google.com";var lc=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.call(this,"github.com")}return m(n,null,[{key:"credential",value:function(e){return $u._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(ND){return null}}}]),n}(oc);lc.GITHUB_SIGN_IN_METHOD="github.com",lc.PROVIDER_ID="github.com";var fc=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return m(n,[{key:"_getIdTokenResponse",value:function(e){return Gu(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Gu(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Gu(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Iu),hc=function(e){g(n,e);var t=x(n);function n(e){return h(this,n),Yo(e.startsWith("saml."),"argument-error"),t.call(this,e)}return m(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=fc.fromJSON(e);return Yo(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return fc._create(r,n)}catch(MF){return null}}}]),n}(ac),dc=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.call(this,"twitter.com")}return m(n,null,[{key:"credential",value:function(e,t){return $u._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(ND){return null}}}]),n}(oc);function pc(e,t){return vc.apply(this,arguments)}function vc(){return(vc=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hs(t,"POST","/v1/accounts:signUp",ss(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}dc.TWITTER_SIGN_IN_METHOD="twitter.com",dc.PROVIDER_ID="twitter.com";var mc=function(){function e(t){h(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return m(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Zi(Xi().mark((function t(n,r,i){var a,o,s,u,c=arguments;return Xi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Vs._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=yc(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Zi(Xi().mark((function t(n,r,i){var a;return Xi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=yc(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function yc(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function gc(){return gc=Zi(Xi().mark((function e(t){var n,r,i,a;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gu(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new mc({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,pc(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,mc._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),gc.apply(this,arguments)}var kc=function(e){g(n,e);var t=x(n);function n(e,r,i,a){var o,s;return h(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(w(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return m(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Mi);function bc(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw kc._fromErrorAndOperation(e,n,t,r);throw n}))}function wc(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function xc(e,t){return Ic.apply(this,arguments)}function Ic(){return Ic=Zi(Xi().mark((function e(t,n){var r,i,a,o;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Yi(t),e.next=3,_c(!0,r,n);case 3:return e.t0=ks,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=wc(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Ic.apply(this,arguments)}function Sc(e,t){return Ec.apply(this,arguments)}function Ec(){return Ec=Zi(Xi().mark((function e(t,n){var r,i,a=arguments;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Ts,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",mc._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Ec.apply(this,arguments)}function _c(e,t,n){return Tc.apply(this,arguments)}function Tc(){return(Tc=Zi(Xi().mark((function e(t,n,r){var i,a;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Os(n);case 2:i=wc(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Yo(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ac(e,t){return Cc.apply(this,arguments)}function Cc(){return Cc=Zi(Xi().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Ts(t,bc(i,a,n,t),r);case 6:return Yo((o=e.sent).idToken,i,"internal-error"),Yo(s=_s(o.idToken),i,"internal-error"),u=s.sub,Yo(t.uid===u,i,"user-mismatch"),e.abrupt("return",mc._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Wo(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Cc.apply(this,arguments)}function Nc(e,t){return Pc.apply(this,arguments)}function Pc(){return Pc=Zi(Xi().mark((function e(t,n){var r,i,a,o,s=arguments;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,bc(t,i,n);case 4:return a=e.sent,e.next=7,mc._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Pc.apply(this,arguments)}function Oc(e,t){return Dc.apply(this,arguments)}function Dc(){return(Dc=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nc(gu(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rc(e,t){return Lc.apply(this,arguments)}function Lc(){return(Lc=Zi(Xi().mark((function e(t,n){var r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Yi(t),e.next=3,_c(!1,r,n.providerId);case 3:return e.abrupt("return",Sc(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jc(e,t){return Mc.apply(this,arguments)}function Mc(){return(Mc=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ac(Yi(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fc(e,t){return Uc.apply(this,arguments)}function Uc(){return(Uc=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hs(t,"POST","/v1/accounts:signInWithCustomToken",ss(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vc(){return(Vc=Zi(Xi().mark((function e(t,n){var r,i,a;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gu(t),e.next=3,Fc(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,mc._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Bc=function(){function e(t,n){h(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return m(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?zc._fromServerResponse(e,t):"totpInfo"in t?qc._fromServerResponse(e,t):Wo(e,"internal-error")}}]),e}(),zc=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return m(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Bc),qc=function(e){g(n,e);var t=x(n);function n(e){return h(this,n),t.call(this,"totp",e)}return m(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Bc);function Kc(e,t,n){var r;Yo((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Yo("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Yo(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Yo(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Wc(){return Wc=Zi(Xi().mark((function e(t,n,r){var i,a,o,s;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=gu(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,pu(a,o,"getOobCode",!0);case 5:return s=e.sent,r&&Kc(a,s,r),e.next=9,ju(a,s);case 9:e.next=14;break;case 11:return r&&Kc(a,o,r),e.next=14,ju(a,o).catch(function(){var e=Zi(Xi().mark((function e(t){var n;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,pu(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&Kc(a,n,r),e.next=8,ju(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),Wc.apply(this,arguments)}function Hc(){return(Hc=Zi(Xi().mark((function e(t,n,r){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Su(Yi(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gc(){return(Gc=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Au(Yi(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qc(e,t){return $c.apply(this,arguments)}function $c(){return($c=Zi(Xi().mark((function e(t,n){var r,i,a,o;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Yi(t),e.next=3,Su(r,{oobCode:n});case 3:i=e.sent,Yo(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Yo(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Yo(i.mfaInfo,r,"internal-error");case 13:Yo(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Bc._fromServerResponse(gu(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yc(){return(Yc=Zi(Xi().mark((function e(t,n){var r,i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qc(Yi(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xc(e,t,n){return Jc.apply(this,arguments)}function Jc(){return Jc=Zi(Xi().mark((function e(t,n,r){var i,a,o,s,u,c,l;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=gu(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,pu(a,o,"signUpPassword");case 5:u=e.sent,s=pc(a,u),e.next=10;break;case 9:s=pc(a,o).catch(function(){var e=Zi(Xi().mark((function e(t){var n;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,pu(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",pc(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,s.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,mc._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),Jc.apply(this,arguments)}function Zc(){return Zc=Zi(Xi().mark((function e(t,n,r){var i,a,o,s,u;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(e,t){Yo(t.handleCodeInApp,a,"argument-error"),t&&Kc(a,e,t)},a=gu(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,pu(a,o,"getOobCode",!0);case 6:return u=e.sent,s(u,r),e.next=10,Fu(a,u);case 10:e.next=15;break;case 12:return s(o,r),e.next=15,Fu(a,o).catch(function(){var e=Zi(Xi().mark((function e(t){var n;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,pu(a,o,"getOobCode",!0);case 4:return n=e.sent,s(n,r),e.next=8,Fu(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),Zc.apply(this,arguments)}function el(){return(el=Zi(Xi().mark((function e(t,n,r){var i,a;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Yi(t),Yo((a=ic.credentialWithLink(n,r||Zo()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Oc(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tl(e,t){return nl.apply(this,arguments)}function nl(){return(nl=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",us(t,"POST","/v1/accounts:createAuthUri",ss(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rl(){return(rl=Zi(Xi().mark((function e(t,n){var r,i,a,o;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=es()?Zo():"http://localhost",i={identifier:n,continueUri:r},e.next=4,tl(Yi(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function il(){return(il=Zi(Xi().mark((function e(t,n){var r,i,a,o;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Yi(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Kc(r.auth,a,n),e.next=8,Ru(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function al(){return(al=Zi(Xi().mark((function e(t,n,r){var i,a,o,s;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Yi(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Kc(i.auth,o,r),e.next=8,Vu(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ol(e,t){return sl.apply(this,arguments)}function sl(){return(sl=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",us(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ul(){return(ul=Zi(Xi().mark((function e(t,n){var r,i,a,o,s,u,c;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Yi(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Ts(a,ol(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cl(e,t,n){return ll.apply(this,arguments)}function ll(){return(ll=Zi(Xi().mark((function e(t,n,r){var i,a,o,s;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Ts(t,_u(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fl=m((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};h(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),hl=function(e){g(n,e);var t=x(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this,e,r,i)).username=a,o}return m(n)}(fl),dl=function(e){g(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"facebook.com",r)}return m(n)}(fl),pl=function(e){g(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return m(n)}(hl),vl=function(e){g(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"google.com",r)}return m(n)}(fl),ml=function(e){g(n,e);var t=x(n);function n(e,r,i){return h(this,n),t.call(this,e,"twitter.com",r,i)}return m(n)}(hl);function yl(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=_s(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new fl(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new dl(a,i);case"github.com":return new pl(a,i);case"google.com":return new vl(a,i);case"twitter.com":return new ml(a,i,e.screenName||null);case"custom":case"anonymous":return new fl(a,null);default:return new fl(a,r,i)}}(n)}var gl=function(){function e(t,n,r){h(this,e),this.type=t,this.credential=n,this.auth=r}return m(e,[{key:"toJSON",value:function(){return{multiFactorSession:Je({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),kl=function(){function e(t,n,r){h(this,e),this.session=t,this.hints=n,this.signInResolver=r}return m(e,[{key:"resolveSignIn",value:function(){var e=Zi(Xi().mark((function e(t){var n;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=gu(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Bc._fromServerResponse(r,e)}));Yo(i.mfaPendingCredential,r,"internal-error");var o=gl._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Zi(Xi().mark((function e(t){var a,s,u;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,mc._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return Yo(n.user,r,"internal-error"),e.abrupt("return",mc._forOperation(n.user,n.operationType,s));case 17:Wo(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function bl(e,t){return us(e,"POST","/v2/accounts/mfaEnrollment:start",ss(e,t))}function wl(e,t){return us(e,"POST","/v2/accounts/mfaEnrollment:finalize",ss(e,t))}var xl=function(){function e(t){var n=this;h(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Bc._fromServerResponse(t.auth,e)})))}))}return m(e,[{key:"getSession",value:function(){var e=Zi(Xi().mark((function e(){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=gl,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Zi(Xi().mark((function e(t,n){var r,i,a;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Ts(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Zi(Xi().mark((function e(t){var n,r,i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,Ts(this.user,us(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",ss(a,{idToken:r,mfaEnrollmentId:n})));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}var a}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Il=new WeakMap;var Sl="__sak",El=function(){function e(t,n){h(this,e),this.storageRetriever=t,this.type=n}return m(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Sl,"1"),this.storage.removeItem(Sl),Promise.resolve(!0)):Promise.resolve(!1)}catch(ND){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var _l=function(e){g(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Pi();return $s(e)||tu(e)}()&&function(){try{return!(!window||window===window.top)}catch(MF){return!1}}(),e.fallbackToPolling=nu(),e._shouldAllowMigration=!0,e}return m(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Li()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Zi(Xi().mark((function e(t,r){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ao(k(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Zi(Xi().mark((function e(t){var r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ao(k(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Zi(Xi().mark((function e(t){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ao(k(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(El);_l.type="LOCAL";var Tl=_l,Al=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return m(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(El);Al.type="SESSION";var Cl=Al;function Nl(e){return Promise.all(e.map(function(){var e=Zi(Xi().mark((function e(t){var n;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Pl=function(){function e(t){h(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return m(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Zi(Xi().mark((function e(t){var n,r,i,a,o,s,u,c;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Zi(Xi().mark((function e(t){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Nl(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Ol(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Pl.receivers=[];var Dl=function(){function e(t){h(this,e),this.target=t,this.handlers=new Set}return m(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Zi(Xi().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Ol("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Rl(){return window}function Ll(e){Rl().location.href=e}function jl(){return"undefined"!==typeof Rl().WorkerGlobalScope&&"function"===typeof Rl().importScripts}function Ml(){return Fl.apply(this,arguments)}function Fl(){return(Fl=Zi(Xi().mark((function e(){var t;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Ul(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Vl="firebaseLocalStorageDb",Bl="firebaseLocalStorage",zl="fbase_key",ql=function(){function e(t){h(this,e),this.request=t}return m(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Kl(e,t){return e.transaction([Bl],t?"readwrite":"readonly").objectStore(Bl)}function Wl(){var e=indexedDB.deleteDatabase(Vl);return new ql(e).toPromise()}function Hl(){var e=indexedDB.open(Vl,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Bl,{keyPath:zl})}catch(MF){n(MF)}})),e.addEventListener("success",Zi(Xi().mark((function n(){var r;return Xi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Bl)){n.next=12;break}return r.close(),n.next=5,Wl();case 5:return n.t0=t,n.next=8,Hl();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Gl(e,t,n){return Ql.apply(this,arguments)}function Ql(){return Ql=Zi(Xi().mark((function e(t,n,r){var i,a;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Kl(t,!0).put((Je(i={},zl,n),Je(i,"value",r),i)),e.abrupt("return",new ql(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Ql.apply(this,arguments)}function $l(e,t){return Yl.apply(this,arguments)}function Yl(){return Yl=Zi(Xi().mark((function e(t,n){var r,i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Kl(t,!1).get(n),e.next=3,new ql(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Yl.apply(this,arguments)}function Xl(e,t){var n=Kl(e,!0).delete(t);return new ql(n).toPromise()}var Jl=function(){function e(){h(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return m(e,[{key:"_openDb",value:function(){var e=Zi(Xi().mark((function e(){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Hl();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Zi(Xi().mark((function e(t){var n,r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Zi(Xi().mark((function e(){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jl()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Zi(Xi().mark((function e(){var t=this;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Pl._getInstance(jl()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Zi(Xi().mark((function e(n,r){var i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Zi(Xi().mark((function e(){var t,n,r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ml();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Dl(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Zi(Xi().mark((function e(t){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Ul()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Zi(Xi().mark((function e(){var t;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Hl();case 5:return t=e.sent,e.next=8,Gl(t,Sl,"1");case 8:return e.next=10,Xl(t,Sl);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Zi(Xi().mark((function e(t){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Zi(Xi().mark((function e(t,n){var r=this;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Zi(Xi().mark((function e(){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Gl(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Zi(Xi().mark((function e(t){var n;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return $l(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Zi(Xi().mark((function e(t){var n=this;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Zi(Xi().mark((function e(){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Xl(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Zi(Xi().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Kl(e,!1).getAll();return new ql(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=_(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Zi(Xi().mark((function t(){return Xi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Jl.type="LOCAL";var Zl=Jl;function ef(e,t){return us(e,"POST","/v2/accounts/mfaSignIn:start",ss(e,t))}function tf(e,t){return us(e,"POST","/v2/accounts/mfaSignIn:finalize",ss(e,t))}var nf=1e12,rf=function(){function e(t){h(this,e),this.auth=t,this.counter=nf,this._widgets=new Map}return m(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new af(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||nf;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||nf;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Zi(Xi().mark((function e(t){var n,r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||nf,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),af=function(){function e(t,n,r){var i=this;h(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Yo(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return m(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(MF){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(MF){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var of=hu("rcb"),sf=new ns(3e4,6e4),uf=function(){function e(){var t;h(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Rl().grecaptcha)||void 0===t?void 0:t.render)}return m(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Yo(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&uu(Rl().grecaptcha)?Promise.resolve(Rl().grecaptcha):new Promise((function(r,i){var a=Rl().setTimeout((function(){i(Ho(e,"network-request-failed"))}),sf.get());Rl()[of]=function(){Rl().clearTimeout(a),delete Rl()[of];var o=Rl().grecaptcha;if(o&&uu(o)){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Ho(e,"internal-error"))},fu("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Ki({onload:of,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Ho(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Rl().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var cf=function(){function e(){h(this,e)}return m(e,[{key:"load",value:function(){var e=Zi(Xi().mark((function e(t){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new rf(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),lf="recaptcha",ff={theme:"light",type:"image"},hf=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},ff),r=arguments.length>2?arguments[2]:void 0;h(this,e),this.parameters=n,this.type=lf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=gu(r),this.isInvisible="invisible"===this.parameters.size,Yo("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Yo(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new cf:new uf,this.validateStartingState()}return m(e,[{key:"verify",value:function(){var e=Zi(Xi().mark((function e(){var t,n,r,i=this;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(MF){return Promise.reject(MF)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Yo(!this.parameters.sitekey,this.auth,"argument-error"),Yo(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Yo("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Rl()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Yo(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Zi(Xi().mark((function e(){var t,n;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Zi(Xi().mark((function e(){var t;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yo(es()&&!jl(),this.auth,"internal-error"),e.next=3,df();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,iu(this.auth);case 8:Yo(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Yo(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function df(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var pf=function(){function e(t,n){h(this,e),this.verificationId=t,this.onConfirmation=n}return m(e,[{key:"confirm",value:function(e){var t=nc._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function vf(){return(vf=Zi(Xi().mark((function e(t,n,r){var i,a;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gu(t),e.next=3,kf(i,n,Yi(r));case 3:return a=e.sent,e.abrupt("return",new pf(a,(function(e){return Oc(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mf(e,t,n){return yf.apply(this,arguments)}function yf(){return(yf=Zi(Xi().mark((function e(t,n,r){var i,a;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Yi(t),e.next=3,_c(!1,i,"phone");case 3:return e.next=5,kf(i.auth,n,Yi(r));case 5:return a=e.sent,e.abrupt("return",new pf(a,(function(e){return Rc(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gf(){return(gf=Zi(Xi().mark((function e(t,n,r){var i,a;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Yi(t),e.next=3,kf(i.auth,n,Yi(r));case 3:return a=e.sent,e.abrupt("return",new pf(a,(function(e){return jc(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kf(e,t,n){return bf.apply(this,arguments)}function bf(){return bf=Zi(Xi().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Yo("string"===typeof a,t,"argument-error"),Yo(r.type===lf,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Yo("enroll"===s.type,t,"internal-error"),e.next=13,bl(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Yo("signin"===s.type,t,"internal-error"),Yo(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,ef(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Yu(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),bf.apply(this,arguments)}function wf(){return(wf=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sc(Yi(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xf=function(){function e(t){h(this,e),this.providerId=e.PROVIDER_ID,this.auth=gu(t)}return m(e,[{key:"verifyPhoneNumber",value:function(e,t){return kf(this.auth,e,Yi(t))}}],[{key:"credential",value:function(e,t){return nc._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?nc._fromTokenResponse(n,r):null}}]),e}();function If(e,t){return t?zs(t):(Yo(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}xf.PROVIDER_ID="phone",xf.PHONE_SIGN_IN_METHOD="phone";var Sf=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,"custom","custom")).params=e,r}return m(n,[{key:"_getIdTokenResponse",value:function(e){return Gu(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Gu(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Gu(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Iu);function Ef(e){return Nc(e.auth,new Sf(e),e.bypassAuthState)}function _f(e){var t=e.auth,n=e.user;return Yo(n,t,"internal-error"),Ac(n,new Sf(e),e.bypassAuthState)}function Tf(e){return Af.apply(this,arguments)}function Af(){return(Af=Zi(Xi().mark((function e(t){var n,r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Yo(r=t.user,n,"internal-error"),e.abrupt("return",Sc(r,new Sf(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Cf=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];h(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return m(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Zi(Xi().mark((function t(n,r){return Xi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Zi(Xi().mark((function e(t){var n,r,i,a,o,s,u;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ef;case"linkViaPopup":case"linkViaRedirect":return Tf;case"reauthViaPopup":case"reauthViaRedirect":return _f;default:Wo(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Jo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Jo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Nf=new ns(2e3,1e4);function Pf(e,t,n){return Of.apply(this,arguments)}function Of(){return(Of=Zi(Xi().mark((function e(t,n,r){var i,a,o;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gu(t),Qo(t,n,ac),a=If(i,r),o=new jf(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Df(){return(Df=Zi(Xi().mark((function e(t,n,r){var i,a,o;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qo((i=Yi(t)).auth,n,ac),a=If(i.auth,r),o=new jf(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rf(e,t,n){return Lf.apply(this,arguments)}function Lf(){return(Lf=Zi(Xi().mark((function e(t,n,r){var i,a,o;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qo((i=Yi(t)).auth,n,ac),a=If(i.auth,r),o=new jf(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jf=function(e){g(n,e);var t=x(n);function n(e,r,i,a,o){var s;return h(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=w(s),s}return m(n,[{key:"executeNotNull",value:function(){var e=Zi(Xi().mark((function e(){var t;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Yo(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Zi(Xi().mark((function e(){var t,n=this;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Jo(1===this.filter.length,"Popup operations only handle one event"),t=Ol(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Ho(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Ho(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Ho(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,Nf.get())}()}}]),n}(Cf);jf.currentPopupAction=null;var Mf="pendingRedirect",Ff=new Map,Uf=function(e){g(n,e);var t=x(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return h(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return m(n,[{key:"execute",value:function(){var e=Zi(Xi().mark((function e(){var t,r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ff.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Vf(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Ao(k(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Ff.set(this.auth._key(),t);case 21:return this.bypassAuthState||Ff.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Zi(Xi().mark((function e(t){var r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Ao(k(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Ao(k(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Zi(Xi().mark((function e(){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Cf);function Vf(e,t){return Bf.apply(this,arguments)}function Bf(){return(Bf=Zi(Xi().mark((function e(t,n){var r,i,a;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hf(n),i=Wf(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zf(e,t){return qf.apply(this,arguments)}function qf(){return(qf=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wf(t)._set(Hf(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kf(e,t){Ff.set(e._key(),t)}function Wf(e){return zs(e._redirectPersistence)}function Hf(e){return Ws(Mf,e.config.apiKey,e.name)}function Gf(e,t,n){return function(e,t,n){return Qf.apply(this,arguments)}(e,t,n)}function Qf(){return(Qf=Zi(Xi().mark((function e(t,n,r){var i,a;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gu(t),Qo(t,n,ac),e.next=4,i._initializationPromise;case 4:return a=If(i,r),e.next=7,zf(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $f(e,t,n){return function(e,t,n){return Yf.apply(this,arguments)}(e,t,n)}function Yf(){return(Yf=Zi(Xi().mark((function e(t,n,r){var i,a,o;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qo((i=Yi(t)).auth,n,ac),e.next=4,i.auth._initializationPromise;case 4:return a=If(i.auth,r),e.next=7,zf(a,i.auth);case 7:return e.next=9,rh(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xf(e,t,n){return function(e,t,n){return Jf.apply(this,arguments)}(e,t,n)}function Jf(){return(Jf=Zi(Xi().mark((function e(t,n,r){var i,a,o;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qo((i=Yi(t)).auth,n,ac),e.next=4,i.auth._initializationPromise;case 4:return a=If(i.auth,r),e.next=7,_c(!1,i,n.providerId);case 7:return e.next=9,zf(a,i.auth);case 9:return e.next=11,rh(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zf(e,t){return eh.apply(this,arguments)}function eh(){return(eh=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gu(t)._initializationPromise;case 2:return e.abrupt("return",th(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function th(e,t){return nh.apply(this,arguments)}function nh(){return nh=Zi(Xi().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=gu(t),a=If(i,n),o=new Uf(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),nh.apply(this,arguments)}function rh(e){return ih.apply(this,arguments)}function ih(){return(ih=Zi(Xi().mark((function e(t){var n;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ol("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ah=function(){function e(t){h(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return m(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sh(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!sh(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ho(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(oh(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(oh(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function oh(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function sh(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function uh(e){return ch.apply(this,arguments)}function ch(){return ch=Zi(Xi().mark((function e(t){var n,r=arguments;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",us(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),ch.apply(this,arguments)}var lh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fh=/^https?/;function hh(){return(hh=Zi(Xi().mark((function e(t){var n,r,i,a,o;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,uh(t);case 4:n=e.sent,r=n.authorizedDomains,i=_(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!dh(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Wo(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function dh(e){var t=Zo(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!fh.test(r))return!1;if(lh.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var ph=new ns(3e4,6e4);function vh(){var e=Rl().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=f(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var mh=null;function yh(e){return mh=mh||function(e){return new Promise((function(t,n){var r,i,a;function o(){vh(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){vh(),n(Ho(e,"network-request-failed"))},timeout:ph.get()})}if(null===(i=null===(r=Rl().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Rl().gapi)||void 0===a?void 0:a.load)){var s=hu("iframefcb");return Rl()[s]=function(){gapi.load?o():n(Ho(e,"network-request-failed"))},fu("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw mh=null,e}))}(e),mh}var gh=new ns(5e3,15e3),kh="__/auth/iframe",bh="emulator/auth/iframe",wh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ih(e){var t=e.config;Yo(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?rs(t,bh):"https://".concat(e.config.authDomain,"/").concat(kh),r={apiKey:t.apiKey,appName:e.name,v:Qa},i=xh.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Ki(r).slice(1))}function Sh(e){return Eh.apply(this,arguments)}function Eh(){return Eh=Zi(Xi().mark((function e(t){var n,r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yh(t);case 2:return n=e.sent,Yo(r=Rl().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Ih(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wh,dontclear:!0},(function(e){return new Promise(function(){var n=Zi(Xi().mark((function n(r,i){var a,o,s;return Xi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Rl().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Ho(t,"network-request-failed"),o=Rl().setTimeout((function(){i(a)}),gh.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Eh.apply(this,arguments)}var _h={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Th=function(){function e(t){h(this,e),this.window=t,this.associatedEvent=null}return m(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(MF){}}}]),e}();function Ah(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},_h),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Pi().toLowerCase();n&&(s=Ys(l)?"_blank":n),Qs(l)&&(t=t||"http://localhost",u.scrollbars="yes");var f=Object.entries(u).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return tu(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Th(null);var h=window.open(t||"",s,f);Yo(h,e,"popup-blocked");try{h.focus()}catch(MF){}return new Th(h)}var Ch="__/auth/handler",Nh="emulator/auth/handler",Ph=encodeURIComponent("fac");function Oh(e,t,n,r,i,a){return Dh.apply(this,arguments)}function Dh(){return(Dh=Zi(Xi().mark((function e(t,n,r,i,a,o){var s,u,l,f,h,d,p,v,m,y,g,k,b;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Yo(t.config.authDomain,t,"auth-domain-config-required"),Yo(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:Qa,eventId:a},n instanceof ac)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",Bi(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),u=0,l=Object.entries(o||{});u<l.length;u++)f=c(l[u],2),h=f[0],d=f[1],s[h]=d;for(n instanceof oc&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=p.join(",")),t.tenantId&&(s.tid=t.tenantId),v=s,m=0,y=Object.keys(v);m<y.length;m++)g=y[m],void 0===v[g]&&delete v[g];return e.next=10,t._getAppCheckToken();case 10:return k=e.sent,b=k?"#".concat(Ph,"=").concat(encodeURIComponent(k)):"",e.abrupt("return","".concat(Rh(t),"?").concat(Ki(v).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rh(e){var t=e.config;return t.emulator?rs(t,Nh):"https://".concat(t.authDomain,"/").concat(Ch)}var Lh="webStorageSupport",jh=function(){function e(){h(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cl,this._completeRedirectFn=th,this._overrideRedirectResult=Kf}return m(e,[{key:"_openPopup",value:function(){var e=Zi(Xi().mark((function e(t,n,r,i){var a,o;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Jo(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,Oh(t,n,r,Zo(),i);case 3:return o=e.sent,e.abrupt("return",Ah(t,o,Ol()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Zi(Xi().mark((function e(t,n,r,i){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,Oh(t,n,r,Zo(),i);case 4:return Ll(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Jo(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Zi(Xi().mark((function e(t){var n,r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sh(t);case 2:return n=e.sent,r=new ah(t),n.register("authEvent",(function(e){return Yo(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Lh,{type:Lh},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Lh];void 0!==i&&t(!!i),Wo(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return hh.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return nu()||$s()||tu()}}]),e}(),Mh=jh,Fh=function(){function e(t){h(this,e),this.factorId=t}return m(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Xo("unexpected MultiFactorSessionType")}}}]),e}(),Uh=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,"phone")).credential=e,r}return m(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return us(e,"POST","/v2/accounts/mfaEnrollment:finalize",ss(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return us(e,"POST","/v2/accounts/mfaSignIn:finalize",ss(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Fh),Vh=function(){function e(){h(this,e)}return m(e,null,[{key:"assertion",value:function(e){return Uh._fromCredential(e)}}]),e}();Vh.FACTOR_ID="phone";var Bh=function(){function e(){h(this,e)}return m(e,null,[{key:"assertionForEnrollment",value:function(e,t){return zh._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return zh._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=Zi(Xi().mark((function e(t){var n,r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yo("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,i=n.auth,a={idToken:n.credential,totpEnrollmentInfo:{}},us(i,"POST","/v2/accounts/mfaEnrollment:start",ss(i,a));case 4:return r=e.sent,e.abrupt("return",qh._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}var i,a}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Bh.FACTOR_ID="totp";var zh=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return m(n,[{key:"_finalizeEnroll",value:function(){var e=Zi(Xi().mark((function e(t,n,r){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yo("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",wl(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=Zi(Xi().mark((function e(t,n){var r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yo(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",tf(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(Fh),qh=function(){function e(t,n,r,i,a,o,s){h(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return m(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(Kh(e)||Kh(t))&&(r=!0),r&&(Kh(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),Kh(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function Kh(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Wh="@firebase/auth",Hh="0.23.1",Gh=function(){function e(t){h(this,e),this.auth=t,this.internalListeners=new Map}return m(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Zi(Xi().mark((function e(t){var n;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Yo(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Qh;!function(e){var t;null===(t=Ai())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function $h(){return window}Qh="Browser",Ba(new ea("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;Yo(s&&!s.includes(":"),"invalid-api-key",{appName:r.name}),Yo(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:Qh,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ru(Qh)},l=new yu(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zs);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ba(new ea("auth-internal",(function(e){return function(e){return new Gh(e)}(gu(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),eo(Wh,Hh,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Qh)),eo(Wh,Hh,"esm2017");var Yh=2e3;function Xh(e,t,n){return Jh.apply(this,arguments)}function Jh(){return Jh=Zi(Xi().mark((function e(t,n,r){var i,a,o,s,u;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=$h(),o=a.BuildInfo,Jo(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,id(n.sessionId);case 4:return s=e.sent,u={},tu()?u.ibi=o.packageName:Js()?u.apn=o.packageName:Wo(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",Oh(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),Jh.apply(this,arguments)}function Zh(){return(Zh=Zi(Xi().mark((function e(t){var n,r,i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$h(),r=n.BuildInfo,i={},tu()?i.iosBundleId=r.packageName:Js()?i.androidPackageName=r.packageName:Wo(t,"operation-not-supported-in-this-environment"),e.next=5,uh(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ed(e){var t=$h().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function td(e,t,n){return nd.apply(this,arguments)}function nd(){return nd=Zi(Xi().mark((function e(t,n,r){var i,a,o;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$h(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(Ho(t,"redirect-cancelled-by-user"))}),Yh))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),Js()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),nd.apply(this,arguments)}function rd(e){var t,n,r,i,a,o,s,u,c,l,f=$h();Yo("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Yo("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Yo("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Yo("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Yo("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function id(e){return ad.apply(this,arguments)}function ad(){return(ad=Zi(Xi().mark((function e(t){var n,r,i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=od(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function od(e){if(Jo(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var sd=20,ud=function(e){g(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return m(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Ao(k(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Zi(Xi().mark((function e(){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ah);function cd(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:pd(),postBody:null,tenantId:e.tenantId,error:Ho(e,"no-auth-event")}}function ld(e,t){return vd()._set(md(e),t)}function fd(e){return hd.apply(this,arguments)}function hd(){return(hd=Zi(Xi().mark((function e(t){var n;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vd()._get(md(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,vd()._remove(md(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dd(e,t){var n,r,i=function(e){var t=yd(e),n=t.link?decodeURIComponent(t.link):void 0,r=yd(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return yd(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=yd(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(MF){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?Ho(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function pd(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<sd;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function vd(){return zs(Tl)}function md(e){return Ws("authEvent",e.config.apiKey,e.name)}function yd(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=E(e.split("?"));t[0];return Wi(t.slice(1).join("?"))}var gd=function(){function e(){h(this,e),this._redirectPersistence=Cl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=th,this._overrideRedirectResult=Kf}return m(e,[{key:"_initialize",value:function(){var e=Zi(Xi().mark((function e(t){var n,r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new ud(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Wo(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Zi(Xi().mark((function e(t,n,r,i){var a,o,s,u;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rd(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Ff.clear(),e.next=10,this._originValidation(t);case 10:return o=cd(t,r,i),e.next=13,ld(t,o);case 13:return e.next=15,Xh(t,o,n);case 15:return s=e.sent,e.next=18,ed(s);case 18:return u=e.sent,e.abrupt("return",td(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Zh.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=$h(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Zi(Xi().mark((function n(){return Xi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fd(e);case 2:t.onEvent(bd());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=Zi(Xi().mark((function n(r){var i,a;return Xi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,fd(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=dd(i,r.url)),t.onEvent(a||bd());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");$h().handleOpenURL=function(){var e=Zi(Xi().mark((function e(t){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(MF){console.error(MF)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),kd=gd;function bd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ho("no-auth-event")}}var wd=1e3;function xd(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Id(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi();return!("file:"!==xd()&&"ionic:"!==xd()&&"capacitor:"!==xd()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Sd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi();return Li()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pi();return/Edge\/\d+/.test(e)}(e)}function Ed(){try{var e=self.localStorage,t=Ol();if(e)return e.setItem(t,"1"),e.removeItem(t),!Sd()||ji()}catch(MF){return _d()&&ji()}return!1}function _d(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Td(){return("http:"===xd()||"https:"===xd()||Di()||Id())&&!(Ri()||Oi())&&Ed()&&!_d()}function Ad(){return Id()&&"undefined"!==typeof document}function Cd(){return Nd.apply(this,arguments)}function Nd(){return(Nd=Zi(Xi().mark((function e(){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ad()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),wd);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pd={LOCAL:"local",NONE:"none",SESSION:"session"},Od=Yo,Dd="persistence";function Rd(e,t){Od(Object.values(Pd).includes(t),e,"invalid-persistence-type"),Ri()?Od(t!==Pd.SESSION,e,"unsupported-persistence-type"):Oi()?Od(t===Pd.NONE,e,"unsupported-persistence-type"):_d()?Od(t===Pd.NONE||t===Pd.LOCAL&&ji(),e,"unsupported-persistence-type"):Od(t===Pd.NONE||Ed(),e,"unsupported-persistence-type")}function Ld(e){return jd.apply(this,arguments)}function jd(){return(jd=Zi(Xi().mark((function e(t){var n,r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Md(),r=Ws(Dd,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Md(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(MF){return null}}var Fd=Yo,Ud=function(){function e(){h(this,e),this.browserResolver=zs(Mh),this.cordovaResolver=zs(kd),this.underlyingResolver=null,this._redirectPersistence=Cl,this._completeRedirectFn=th,this._overrideRedirectResult=Kf}return m(e,[{key:"_initialize",value:function(){var e=Zi(Xi().mark((function e(t){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Zi(Xi().mark((function e(t,n,r,i){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Zi(Xi().mark((function e(t,n,r,i){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Ad()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Fd(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Zi(Xi().mark((function e(){var t;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Cd();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Vd(e){return e.unwrap()}function Bd(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new Hd(e,function(e,t){var n,r=Yi(e),i=t;return Yo(t.customData.operationType,r,"argument-error"),Yo(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),kl._fromError(r,i)}(e,t));else if(r){var i=zd(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function zd(e){var t=(e instanceof Mi?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Mi)&&"temporaryProof"in t&&"phoneNumber"in t)return xf.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Po.PASSWORD)return null;switch(r){case Po.GOOGLE:n=cc;break;case Po.FACEBOOK:n=uc;break;case Po.GITHUB:n=lc;break;case Po.TWITTER:n=dc;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?fc._create(r,s):$u._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new sc(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof Mi?n.credentialFromError(e):n.credentialFromResult(e)}function qd(e,t){return t.catch((function(t){throw t instanceof Mi&&Bd(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,zd(t)),additionalUserInfo:yl(e),user:Gd.getOrCreate(r)}}))}function Kd(e,t){return Wd.apply(this,arguments)}function Wd(){return(Wd=Zi(Xi().mark((function e(t,n){var r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return qd(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Hd=function(){function e(t,n){h(this,e),this.resolver=n,this.auth=t.wrapped()}return m(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return qd(Vd(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Gd=function(){function e(t){h(this,e),this._delegate=t,this.multiFactor=function(e){var t=Yi(e);return Il.has(t)||Il.set(t,xl._fromUser(t)),Il.get(t)}(t)}return m(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Zi(Xi().mark((function e(t){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qd(this.auth,Rc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kd(this.auth,mf(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Zi(Xi().mark((function e(t){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qd(this.auth,Rf(this._delegate,t,Ud)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Zi(Xi().mark((function e(t){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ld(gu(this.auth));case 2:return e.abrupt("return",Xf(this._delegate,t,Ud));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Zi(Xi().mark((function e(t){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qd(this.auth,jc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Kd(this.auth,function(e,t,n){return gf.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return qd(this.auth,function(e,t,n){return Df.apply(this,arguments)}(this._delegate,e,Ud))}},{key:"reauthenticateWithRedirect",value:function(){var e=Zi(Xi().mark((function e(t){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ld(gu(this.auth));case 2:return e.abrupt("return",$f(this._delegate,t,Ud));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return il.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Zi(Xi().mark((function e(t){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xc(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return cl(Yi(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return cl(Yi(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return wf.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return ul.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return al.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Gd.USER_MAP=new WeakMap;var Qd=Yo,$d=function(){function e(t,n){if(h(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Qd(r,"invalid-api-key",{appName:t.name}),Qd(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Ud:void 0;this._delegate=n.initialize({options:{persistence:Xd(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Uo),this.linkUnderlyingAuth()}return m(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Gd.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){bu(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Gc.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Qc(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Hc.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qd(this._delegate,Xc(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return rl.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=rc.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Zi(Xi().mark((function e(){var t;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qd(Td(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Zf(this._delegate,Ud);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",qd(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){gu(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Yd(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Yd(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Zc.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Wc.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Zi(Xi().mark((function e(t){var n,r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Rd(this._delegate,t),e.t0=t,e.next=e.t0===Pd.SESSION?4:e.t0===Pd.LOCAL?6:e.t0===Pd.NONE?11:13;break;case 4:return n=Cl,e.abrupt("break",14);case 6:return e.next=8,zs(Zl)._isAvailable();case 8:return r=e.sent,n=r?Zl:Tl,e.abrupt("break",14);case 11:return n=Ks,e.abrupt("break",14);case 13:return e.abrupt("return",Wo("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return qd(this._delegate,function(e){return gc.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return qd(this._delegate,Oc(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return qd(this._delegate,function(e,t){return Vc.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return qd(this._delegate,function(e,t,n){return Oc(Yi(e),ic.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return qd(this._delegate,function(e,t,n){return el.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Kd(this._delegate,function(e,t,n){return vf.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Zi(Xi().mark((function e(t){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qd(Td(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",qd(this._delegate,Pf(this._delegate,t,Ud)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Zi(Xi().mark((function e(t){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qd(Td(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Ld(this._delegate);case 3:return e.abrupt("return",Gf(this._delegate,t,Ud));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Yc.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Yd(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Gd.getOrCreate(e))},error:t,complete:n}}function Xd(e,t){var n=function(e,t){var n=Md();if(!n)return[];var r=Ws(Dd,e,t);switch(n.getItem(r)){case Pd.NONE:return[Ks];case Pd.LOCAL:return[Zl,Cl];case Pd.SESSION:return[Cl];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Zl)||n.push(Zl),"undefined"!==typeof window)for(var r=0,i=[Tl,Cl];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Ks)||n.push(Ks),n}$d.Persistence=Pd;var Jd=function(){function e(){h(this,e),this.providerId="phone",this._delegate=new xf(Vd(To.auth()))}return m(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return xf.credential(e,t)}}]),e}();Jd.PHONE_SIGN_IN_METHOD=xf.PHONE_SIGN_IN_METHOD,Jd.PROVIDER_ID=xf.PROVIDER_ID;var Zd,ep=Yo,tp=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:To.app();h(this,e),ep(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new hf(t,n,i.auth()),this.type=this._delegate.type}return m(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Zd=To).INTERNAL.registerComponent(new ea("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new $d(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Oo,PASSWORD_RESET:Do,RECOVER_EMAIL:Ro,REVERT_SECOND_FACTOR_ADDITION:Lo,VERIFY_AND_CHANGE_EMAIL:jo,VERIFY_EMAIL:Mo}},EmailAuthProvider:ic,FacebookAuthProvider:uc,GithubAuthProvider:lc,GoogleAuthProvider:cc,OAuthProvider:sc,SAMLAuthProvider:hc,PhoneAuthProvider:Jd,PhoneMultiFactorGenerator:Vh,RecaptchaVerifier:tp,TwitterAuthProvider:dc,Auth:$d,AuthCredential:Iu,Error:Mi}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Zd.registerVersion("@firebase/auth-compat","0.4.1");var np,rp,ip=function(e,t){return t.some((function(t){return e instanceof t}))};var ap=new WeakMap,op=new WeakMap,sp=new WeakMap,up=new WeakMap,cp=new WeakMap;var lp={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return op.get(e);if("objectStoreNames"===t)return e.objectStoreNames||sp.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dp(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function fp(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(rp||(rp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(pp(this),n),dp(ap.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dp(e.apply(pp(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[pp(this),t].concat(r));return sp.set(a,t.sort?t.sort():[t]),dp(a)}}function hp(e){return"function"===typeof e?fp(e):(e instanceof IDBTransaction&&function(e){if(!op.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));op.set(e,t)}}(e),ip(e,np||(np=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,lp):e)}function dp(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(dp(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&ap.set(t,e)})).catch((function(){})),cp.set(t,e),t}(e);if(up.has(e))return up.get(e);var t=hp(e);return t!==e&&(up.set(e,t),cp.set(t,e)),t}var pp=function(e){return cp.get(e)};var vp,mp=["get","getKey","getAll","getAllKeys","count"],yp=["put","add","delete","clear"],gp=new Map;function kp(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(gp.get(t))return gp.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=yp.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||mp.includes(n))){var a=function(){var e=Zi(Xi().mark((function e(t){var a,o,s,u,c,l,f=arguments;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return gp.set(t,a),a}}}!function(e){lp=e(lp)}((function(e){return et(et({},e),{},{get:function(t,n,r){return kp(t,n)||e.get(t,n,r)},has:function(t,n){return!!kp(t,n)||e.has(t,n)}})}));var bp="@firebase/installations",wp="0.6.4",xp=1e4,Ip="w:".concat(wp),Sp="FIS_v2",Ep="https://firebaseinstallations.googleapis.com/v1",_p=36e5,Tp=(Je(vp={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),Je(vp,"not-registered","Firebase Installation is not registered."),Je(vp,"installation-not-found","Firebase Installation not found."),Je(vp,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),Je(vp,"app-offline","Could not process request. Application offline."),Je(vp,"delete-pending-registration","Can't delete installation while there is a pending registration request."),vp),Ap=new Fi("installations","Installations",Tp);function Cp(e){return e instanceof Mi&&e.code.includes("request-failed")}function Np(e){var t=e.projectId;return"".concat(Ep,"/projects/").concat(t,"/installations")}function Pp(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function Op(e,t){return Dp.apply(this,arguments)}function Dp(){return(Dp=Zi(Xi().mark((function e(t,n){var r,i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",Ap.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rp(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Lp(e,t){var n=t.refreshToken,r=Rp(e);return r.append("Authorization",function(e){return"".concat(Sp," ").concat(e)}(n)),r}function jp(e){return Mp.apply(this,arguments)}function Mp(){return Mp=Zi(Xi().mark((function e(t){var n;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),Mp.apply(this,arguments)}function Fp(e,t){return Up.apply(this,arguments)}function Up(){return(Up=Zi(Xi().mark((function e(t,n){var r,i,a,o,s,u,c,l,f,h,d,p;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=n.fid,o=Np(r),s=Rp(r),!(u=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,u.getHeartbeatsHeader();case 8:(c=e.sent)&&s.append("x-firebase-client",c);case 10:return l={fid:a,authVersion:Sp,appId:r.appId,sdkVersion:Ip},f={method:"POST",headers:s,body:JSON.stringify(l)},e.next=14,jp((function(){return fetch(o,f)}));case 14:if(!(h=e.sent).ok){e.next=23;break}return e.next=18,h.json();case 18:return d=e.sent,p={fid:d.fid||a,registrationStatus:2,refreshToken:d.refreshToken,authToken:Pp(d.authToken)},e.abrupt("return",p);case 23:return e.next=25,Op("Create Installation",h);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vp(e){return new Promise((function(t){setTimeout(t,e)}))}var Bp=/^[cdef][\w-]{21}$/,zp="";function qp(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){var t=(n=e,btoa(String.fromCharCode.apply(String,f(n))).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Bp.test(t)?t:zp}catch(ND){return zp}}function Kp(e){return"".concat(e.appName,"!").concat(e.appId)}var Wp=new Map;function Hp(e,t){var n=Kp(e);Gp(n,t),function(e,t){var n=$p();n&&n.postMessage({key:e,fid:t});Yp()}(n,t)}function Gp(e,t){var n=Wp.get(e);if(n){var r,i=_(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var Qp=null;function $p(){return!Qp&&"BroadcastChannel"in self&&((Qp=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){Gp(e.data.key,e.data.fid)}),Qp}function Yp(){0===Wp.size&&Qp&&(Qp.close(),Qp=null)}var Xp="firebase-installations-database",Jp=1,Zp="firebase-installations-store",ev=null;function tv(){return ev||(ev=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=dp(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(dp(s.result),e.oldVersion,e.newVersion,dp(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}(Xp,Jp,{upgrade:function(e,t){if(0===t)e.createObjectStore(Zp)}})),ev}function nv(e,t){return rv.apply(this,arguments)}function rv(){return rv=Zi(Xi().mark((function e(t,n){var r,i,a,o,s;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Kp(t),e.next=3,tv();case 3:return i=e.sent,a=i.transaction(Zp,"readwrite"),o=a.objectStore(Zp),e.next=8,o.get(r);case 8:return s=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.done;case 13:return s&&s.fid===n.fid||Hp(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),rv.apply(this,arguments)}function iv(e){return av.apply(this,arguments)}function av(){return av=Zi(Xi().mark((function e(t){var n,r,i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Kp(t),e.next=3,tv();case 3:return r=e.sent,i=r.transaction(Zp,"readwrite"),e.next=7,i.objectStore(Zp).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),av.apply(this,arguments)}function ov(e,t){return sv.apply(this,arguments)}function sv(){return sv=Zi(Xi().mark((function e(t,n){var r,i,a,o,s,u;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Kp(t),e.next=3,tv();case 3:return i=e.sent,a=i.transaction(Zp,"readwrite"),o=a.objectStore(Zp),e.next=8,o.get(r);case 8:if(s=e.sent,void 0!==(u=n(s))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(u,r);case 17:return e.next=19,a.done;case 19:return!u||s&&s.fid===u.fid||Hp(t,u.fid),e.abrupt("return",u);case 21:case"end":return e.stop()}}),e)}))),sv.apply(this,arguments)}function uv(e){return cv.apply(this,arguments)}function cv(){return(cv=Zi(Xi().mark((function e(t){var n,r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ov(t.appConfig,(function(e){var r=lv(e),i=fv(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if((r=e.sent).fid!==zp){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lv(e){return mv(e||{fid:qp(),registrationStatus:0})}function fv(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(Ap.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return hv.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:dv(e)}:{installationEntry:t}}function hv(){return(hv=Zi(Xi().mark((function e(t,n){var r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fp(t,n);case 3:return r=e.sent,e.abrupt("return",nv(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!Cp(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,iv(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,nv(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function dv(e){return pv.apply(this,arguments)}function pv(){return(pv=Zi(Xi().mark((function e(t){var n,r,i,a;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vv(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,Vp(100);case 6:return e.next=8,vv(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,uv(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vv(e){return ov(e,(function(e){if(!e)throw Ap.create("installation-not-found");return mv(e)}))}function mv(e){return 1===(t=e).registrationStatus&&t.registrationTime+xp<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function yv(e,t){return gv.apply(this,arguments)}function gv(){return(gv=Zi(Xi().mark((function e(t,n){var r,i,a,o,s,u,c,l,f,h,d;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=kv(r,n),o=Lp(r,n),!(s=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,s.getHeartbeatsHeader();case 7:(u=e.sent)&&o.append("x-firebase-client",u);case 9:return c={installation:{sdkVersion:Ip,appId:r.appId}},l={method:"POST",headers:o,body:JSON.stringify(c)},e.next=13,jp((function(){return fetch(a,l)}));case 13:if(!(f=e.sent).ok){e.next=22;break}return e.next=17,f.json();case 17:return h=e.sent,d=Pp(h),e.abrupt("return",d);case 22:return e.next=24,Op("Generate Auth Token",f);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kv(e,t){var n=t.fid;return"".concat(Np(e),"/").concat(n,"/authTokens:generate")}function bv(e){return wv.apply(this,arguments)}function wv(){return wv=Zi(Xi().mark((function e(t){var n,r,i,a,o=arguments;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,ov(t.appConfig,(function(e){if(!Tv(e))throw Ap.create("not-registered");var i=e.authToken;if(!n&&Av(i))return e;if(1===i.requestStatus)return r=xv(t,n),e;if(!navigator.onLine)throw Ap.create("app-offline");var a=Cv(e);return r=Ev(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),wv.apply(this,arguments)}function xv(e,t){return Iv.apply(this,arguments)}function Iv(){return(Iv=Zi(Xi().mark((function e(t,n){var r,i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sv(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,Vp(100);case 6:return e.next=8,Sv(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",bv(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sv(e){return ov(e,(function(e){if(!Tv(e))throw Ap.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+xp<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function Ev(e,t){return _v.apply(this,arguments)}function _v(){return(_v=Zi(Xi().mark((function e(t,n){var r,i,a;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yv(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,nv(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!Cp(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,iv(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,nv(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Tv(e){return void 0!==e&&2===e.registrationStatus}function Av(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+_p}(e)}function Cv(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function Nv(){return(Nv=Zi(Xi().mark((function e(t){var n,r,i,a;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,uv(n);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):bv(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pv(){return Pv=Zi(Xi().mark((function e(t){var n,r,i,a=arguments;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,Ov(r);case 4:return e.next=6,bv(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),Pv.apply(this,arguments)}function Ov(e){return Dv.apply(this,arguments)}function Dv(){return(Dv=Zi(Xi().mark((function e(t){var n,r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uv(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rv(e){return Ap.create("missing-app-config-values",{valueName:e})}var Lv="installations",jv=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Rv("App Configuration");if(!e.name)throw Rv("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw Rv(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:za(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},Mv=function(e){var t=za(e.getProvider("app").getImmediate(),Lv).getImmediate(),n={getId:function(){return function(e){return Nv.apply(this,arguments)}(t)},getToken:function(e){return function(e){return Pv.apply(this,arguments)}(t,e)}};return n};Ba(new ea(Lv,jv,"PUBLIC")),Ba(new ea("installations-internal",Mv,"PRIVATE")),eo(bp,wp),eo(bp,wp,"esm2017");var Fv,Uv,Vv=function(e,t){return t.some((function(t){return e instanceof t}))};var Bv=new WeakMap,zv=new WeakMap,qv=new WeakMap,Kv=new WeakMap,Wv=new WeakMap;var Hv={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return zv.get(e);if("objectStoreNames"===t)return e.objectStoreNames||qv.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $v(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Gv(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Uv||(Uv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Yv(this),n),$v(Bv.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $v(e.apply(Yv(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Yv(this),t].concat(r));return qv.set(a,t.sort?t.sort():[t]),$v(a)}}function Qv(e){return"function"===typeof e?Gv(e):(e instanceof IDBTransaction&&function(e){if(!zv.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));zv.set(e,t)}}(e),Vv(e,Fv||(Fv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Hv):e)}function $v(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t($v(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Bv.set(t,e)})).catch((function(){})),Wv.set(t,e),t}(e);if(Kv.has(e))return Kv.get(e);var t=Qv(e);return t!==e&&(Kv.set(e,t),Wv.set(t,e)),t}var Yv=function(e){return Wv.get(e)};function Xv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=$v(s);return i&&s.addEventListener("upgradeneeded",(function(e){i($v(s.result),e.oldVersion,e.newVersion,$v(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}function Jv(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).blocked,n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(function(){return t()})),$v(n).then((function(){}))}var Zv,em=["get","getKey","getAll","getAllKeys","count"],tm=["put","add","delete","clear"],nm=new Map;function rm(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(nm.get(t))return nm.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=tm.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||em.includes(n))){var a=function(){var e=Zi(Xi().mark((function e(t){var a,o,s,u,c,l,f=arguments;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return nm.set(t,a),a}}}!function(e){Hv=e(Hv)}((function(e){return et(et({},e),{},{get:function(t,n,r){return rm(t,n)||e.get(t,n,r)},has:function(t,n){return!!rm(t,n)||e.has(t,n)}})}));var im,am,om="/firebase-messaging-sw.js",sm="/firebase-cloud-messaging-push-scope",um="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",cm="https://fcmregistrations.googleapis.com/v1",lm="google.c.a.c_id",fm="google.c.a.c_l",hm="google.c.a.ts",dm="google.c.a.e";function pm(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,f(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function vm(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(im||(im={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(am||(am={}));var mm="fcm_token_details_db",ym=5,gm="fcm_token_object_Store";function km(e){return bm.apply(this,arguments)}function bm(){return bm=Zi(Xi().mark((function e(t){var n,r,i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("databases"in indexedDB)){e.next=7;break}return e.next=3,indexedDB.databases();case 3:if(n=e.sent,r=n.map((function(e){return e.name})),r.includes(mm)){e.next=7;break}return e.abrupt("return",null);case 7:return i=null,e.next=10,Xv(mm,ym,{upgrade:function(){var e=Zi(Xi().mark((function e(n,r,a,o){var s,u,c,l,f,h;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r<2)){e.next=2;break}return e.abrupt("return");case 2:if(n.objectStoreNames.contains(gm)){e.next=4;break}return e.abrupt("return");case 4:return u=o.objectStore(gm),e.next=7,u.index("fcmSenderId").get(t);case 7:return c=e.sent,e.next=10,u.clear();case 10:if(c){e.next=12;break}return e.abrupt("return");case 12:if(2!==r){e.next=19;break}if((l=c).auth&&l.p256dh&&l.endpoint){e.next=16;break}return e.abrupt("return");case 16:i={token:l.fcmToken,createTime:null!==(s=l.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:l.auth,p256dh:l.p256dh,endpoint:l.endpoint,swScope:l.swScope,vapidKey:"string"===typeof l.vapidKey?l.vapidKey:pm(l.vapidKey)}},e.next=20;break;case 19:3===r?i={token:(f=c).fcmToken,createTime:f.createTime,subscriptionOptions:{auth:pm(f.auth),p256dh:pm(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:pm(f.vapidKey)}}:4===r&&(i={token:(h=c).fcmToken,createTime:h.createTime,subscriptionOptions:{auth:pm(h.auth),p256dh:pm(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:pm(h.vapidKey)}});case 20:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()});case 10:return e.sent.close(),e.next=14,Jv(mm);case 14:return e.next=16,Jv("fcm_vapid_details_db");case 16:return e.next=18,Jv("undefined");case 18:return e.abrupt("return",wm(i)?i:null);case 19:case"end":return e.stop()}}),e)}))),bm.apply(this,arguments)}function wm(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var xm="firebase-messaging-database",Im=1,Sm="firebase-messaging-store",Em=null;function _m(){return Em||(Em=Xv(xm,Im,{upgrade:function(e,t){if(0===t)e.createObjectStore(Sm)}})),Em}function Tm(e){return Am.apply(this,arguments)}function Am(){return Am=Zi(Xi().mark((function e(t){var n,r,i,a;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Dm(t),e.next=3,_m();case 3:return r=e.sent,e.next=6,r.transaction(Sm).objectStore(Sm).get(n);case 6:if(!(i=e.sent)){e.next=11;break}return e.abrupt("return",i);case 11:return e.next=13,km(t.appConfig.senderId);case 13:if(!(a=e.sent)){e.next=18;break}return e.next=17,Cm(t,a);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e)}))),Am.apply(this,arguments)}function Cm(e,t){return Nm.apply(this,arguments)}function Nm(){return Nm=Zi(Xi().mark((function e(t,n){var r,i,a;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Dm(t),e.next=3,_m();case 3:return i=e.sent,a=i.transaction(Sm,"readwrite"),e.next=7,a.objectStore(Sm).put(n,r);case 7:return e.next=9,a.done;case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)}))),Nm.apply(this,arguments)}function Pm(e){return Om.apply(this,arguments)}function Om(){return Om=Zi(Xi().mark((function e(t){var n,r,i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Dm(t),e.next=3,_m();case 3:return r=e.sent,i=r.transaction(Sm,"readwrite"),e.next=7,i.objectStore(Sm).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),Om.apply(this,arguments)}function Dm(e){return e.appConfig.appId}var Rm=(Je(Zv={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),Je(Zv,"only-available-in-window","This method is available in a Window context."),Je(Zv,"only-available-in-sw","This method is available in a service worker context."),Je(Zv,"permission-default","The notification permission was not granted and dismissed instead."),Je(Zv,"permission-blocked","The notification permission was not granted and blocked instead."),Je(Zv,"unsupported-browser","This browser doesn't support the API's required to use the Firebase SDK."),Je(Zv,"indexed-db-unsupported","This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)"),Je(Zv,"failed-service-worker-registration","We are unable to register the default service worker. {$browserErrorMessage}"),Je(Zv,"token-subscribe-failed","A problem occurred while subscribing the user to FCM: {$errorInfo}"),Je(Zv,"token-subscribe-no-token","FCM returned no token when subscribing the user to push."),Je(Zv,"token-unsubscribe-failed","A problem occurred while unsubscribing the user from FCM: {$errorInfo}"),Je(Zv,"token-update-failed","A problem occurred while updating the user from FCM: {$errorInfo}"),Je(Zv,"token-update-no-token","FCM returned no token when updating the user to push."),Je(Zv,"use-sw-after-get-token","The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used."),Je(Zv,"invalid-sw-registration","The input to useServiceWorker() must be a ServiceWorkerRegistration."),Je(Zv,"invalid-bg-handler","The input to setBackgroundMessageHandler() must be a function."),Je(Zv,"invalid-vapid-key","The public VAPID key must be a string."),Je(Zv,"use-vapid-key-after-get-token","The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."),Zv),Lm=new Fi("messaging","Messaging",Rm);function jm(e,t){return Mm.apply(this,arguments)}function Mm(){return(Mm=Zi(Xi().mark((function e(t,n){var r,i,a,o,s,u;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qm(t);case 2:return r=e.sent,i=Wm(n),a={method:"POST",headers:r,body:JSON.stringify(i)},e.prev=5,e.next=8,fetch(zm(t.appConfig),a);case 8:return s=e.sent,e.next=11,s.json();case 11:o=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),Lm.create("token-subscribe-failed",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()});case 17:if(!o.error){e.next=20;break}throw u=o.error.message,Lm.create("token-subscribe-failed",{errorInfo:u});case 20:if(o.token){e.next=22;break}throw Lm.create("token-subscribe-no-token");case 22:return e.abrupt("return",o.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function Fm(e,t){return Um.apply(this,arguments)}function Um(){return(Um=Zi(Xi().mark((function e(t,n){var r,i,a,o,s,u;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qm(t);case 2:return r=e.sent,i=Wm(n.subscriptionOptions),a={method:"PATCH",headers:r,body:JSON.stringify(i)},e.prev=5,e.next=8,fetch("".concat(zm(t.appConfig),"/").concat(n.token),a);case 8:return s=e.sent,e.next=11,s.json();case 11:o=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),Lm.create("token-update-failed",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()});case 17:if(!o.error){e.next=20;break}throw u=o.error.message,Lm.create("token-update-failed",{errorInfo:u});case 20:if(o.token){e.next=22;break}throw Lm.create("token-update-no-token");case 22:return e.abrupt("return",o.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function Vm(e,t){return Bm.apply(this,arguments)}function Bm(){return(Bm=Zi(Xi().mark((function e(t,n){var r,i,a,o,s;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qm(t);case 2:return r=e.sent,i={method:"DELETE",headers:r},e.prev=4,e.next=7,fetch("".concat(zm(t.appConfig),"/").concat(n),i);case 7:return a=e.sent,e.next=10,a.json();case 10:if(!(o=e.sent).error){e.next=14;break}throw s=o.error.message,Lm.create("token-unsubscribe-failed",{errorInfo:s});case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(4),Lm.create("token-unsubscribe-failed",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()});case 19:case"end":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}function zm(e){var t=e.projectId;return"".concat(cm,"/projects/").concat(t,"/registrations")}function qm(e){return Km.apply(this,arguments)}function Km(){return(Km=Zi(Xi().mark((function e(t){var n,r,i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.appConfig,r=t.installations,e.next=3,r.getToken();case 3:return i=e.sent,e.abrupt("return",new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(i)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wm(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,a={web:{endpoint:r,auth:n,p256dh:t}};return i!==um&&(a.web.applicationPubKey=i),a}var Hm=6048e5;function Gm(e){return Qm.apply(this,arguments)}function Qm(){return(Qm=Zi(Xi().mark((function e(t){var n,r,i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ty(t.swRegistration,t.vapidKey);case 2:return n=e.sent,r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:n.endpoint,auth:pm(n.getKey("auth")),p256dh:pm(n.getKey("p256dh"))},e.next=6,Tm(t.firebaseDependencies);case 6:if(i=e.sent){e.next=11;break}return e.abrupt("return",Zm(t.firebaseDependencies,r));case 11:if(ry(i.subscriptionOptions,r)){e.next=23;break}return e.prev=12,e.next=15,Vm(t.firebaseDependencies,i.token);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(12),console.warn(e.t0);case 20:return e.abrupt("return",Zm(t.firebaseDependencies,r));case 23:if(!(Date.now()>=i.createTime+Hm)){e.next=27;break}return e.abrupt("return",Xm(t,{token:i.token,createTime:Date.now(),subscriptionOptions:r}));case 27:return e.abrupt("return",i.token);case 28:case"end":return e.stop()}}),e,null,[[12,17]])})))).apply(this,arguments)}function $m(e){return Ym.apply(this,arguments)}function Ym(){return(Ym=Zi(Xi().mark((function e(t){var n,r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tm(t.firebaseDependencies);case 2:if(!(n=e.sent)){e.next=8;break}return e.next=6,Vm(t.firebaseDependencies,n.token);case 6:return e.next=8,Pm(t.firebaseDependencies);case 8:return e.next=10,t.swRegistration.pushManager.getSubscription();case 10:if(!(r=e.sent)){e.next=13;break}return e.abrupt("return",r.unsubscribe());case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xm(e,t){return Jm.apply(this,arguments)}function Jm(){return(Jm=Zi(Xi().mark((function e(t,n){var r,i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fm(t.firebaseDependencies,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{token:r,createTime:Date.now()}),e.next=7,Cm(t.firebaseDependencies,i);case 7:return e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,$m(t);case 14:throw e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Zm(e,t){return ey.apply(this,arguments)}function ey(){return(ey=Zi(Xi().mark((function e(t,n){var r,i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jm(t,n);case 2:return r=e.sent,i={token:r,createTime:Date.now(),subscriptionOptions:n},e.next=6,Cm(t,i);case 6:return e.abrupt("return",i.token);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ty(e,t){return ny.apply(this,arguments)}function ny(){return(ny=Zi(Xi().mark((function e(t,n){var r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pushManager.getSubscription();case 2:if(!(r=e.sent)){e.next=5;break}return e.abrupt("return",r);case 5:return e.abrupt("return",t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:vm(n)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ry(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,a=t.p256dh===e.p256dh;return n&&r&&i&&a}function iy(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i);var a=t.notification.icon;a&&(e.notification.icon=a)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,i,a,o;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};var s=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(a=t.notification)||void 0===a?void 0:a.click_action;s&&(e.fcmOptions.link=s);var u=null===(o=t.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(e.fcmOptions.analyticsLabel=u)}(t,e),t}function ay(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function oy(e){return Lm.create("missing-app-config-values",{valueName:e})}ay("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ay("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");var sy=function(){function e(t,n,r){h(this,e),this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;var i=function(e){if(!e||!e.options)throw oy("App Configuration Object");if(!e.name)throw oy("App Name");for(var t=e.options,n=0,r=["projectId","apiKey","appId","messagingSenderId"];n<r.length;n++){var i=r[n];if(!t[i])throw oy(i)}return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}return m(e,[{key:"_delete",value:function(){return Promise.resolve()}}]),e}();function uy(e){return cy.apply(this,arguments)}function cy(){return(cy=Zi(Xi().mark((function e(t){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.serviceWorker.register(om,{scope:sm});case 3:t.swRegistration=e.sent,t.swRegistration.update().catch((function(){})),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),Lm.create("failed-service-worker-registration",{browserErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ly(e,t){return fy.apply(this,arguments)}function fy(){return(fy=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n||t.swRegistration){e.next=3;break}return e.next=3,uy(t);case 3:if(n||!t.swRegistration){e.next=5;break}return e.abrupt("return");case 5:if(n instanceof ServiceWorkerRegistration){e.next=7;break}throw Lm.create("invalid-sw-registration");case 7:t.swRegistration=n;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hy(e,t){return dy.apply(this,arguments)}function dy(){return(dy=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n?t.vapidKey=n:t.vapidKey||(t.vapidKey=um);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function py(e,t){return vy.apply(this,arguments)}function vy(){return vy=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator){e.next=2;break}throw Lm.create("only-available-in-window");case 2:if("default"!==Notification.permission){e.next=5;break}return e.next=5,Notification.requestPermission();case 5:if("granted"===Notification.permission){e.next=7;break}throw Lm.create("permission-blocked");case 7:return e.next=9,hy(t,null===n||void 0===n?void 0:n.vapidKey);case 9:return e.next=11,ly(t,null===n||void 0===n?void 0:n.serviceWorkerRegistration);case 11:return e.abrupt("return",Gm(t));case 12:case"end":return e.stop()}}),e)}))),vy.apply(this,arguments)}function my(e,t,n){return yy.apply(this,arguments)}function yy(){return(yy=Zi(Xi().mark((function e(t,n,r){var i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gy(n),e.next=3,t.firebaseDependencies.analyticsProvider.get();case 3:e.sent.logEvent(i,{message_id:r[lm],message_name:r[fm],message_time:r[hm],message_device_time:Math.floor(Date.now()/1e3)});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gy(e){switch(e){case am.NOTIFICATION_CLICKED:return"notification_open";case am.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ky(){return(ky=Zi(Xi().mark((function e(t,n){var r,i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=n.data).isFirebaseMessaging){e.next=3;break}return e.abrupt("return");case 3:if(t.onMessageHandler&&r.messageType===am.PUSH_RECEIVED&&("function"===typeof t.onMessageHandler?t.onMessageHandler(iy(r)):t.onMessageHandler.next(iy(r))),i=r.data,"object"!==typeof(a=i)||!a||!(lm in a)||"1"!==i[dm]){e.next=8;break}return e.next=8,my(t,r.messageType,i);case 8:case"end":return e.stop()}var a}),e)})))).apply(this,arguments)}var by,wy="@firebase/messaging",xy="0.12.4",Iy=function(e){var t=new sy(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",(function(e){return function(e,t){return ky.apply(this,arguments)}(t,e)})),t},Sy=function(e){var t=e.getProvider("messaging").getImmediate(),n={getToken:function(e){return py(t,e)}};return n};function Ey(){return(Ey=Zi(Xi().mark((function e(t){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator){e.next=2;break}throw Lm.create("only-available-in-window");case 2:if(t.swRegistration){e.next=5;break}return e.next=5,uy(t);case 5:return e.abrupt("return",$m(t));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _y(e,t){return Ty.apply(this,arguments)}function Ty(){return Ty=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Yi(t),e.abrupt("return",py(t,n));case 2:case"end":return e.stop()}}),e)}))),Ty.apply(this,arguments)}function Ay(e){return function(e){return Ey.apply(this,arguments)}(e=Yi(e))}function Cy(e,t){return function(e,t){if(!navigator)throw Lm.create("only-available-in-window");return e.onMessageHandler=t,function(){e.onMessageHandler=null}}(e=Yi(e),t)}Ba(new ea("messaging",Iy,"PUBLIC")),Ba(new ea("messaging-internal",Sy,"PRIVATE")),eo(wy,xy),eo(wy,xy,"esm2017");var Ny,Py,Oy="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Dy="https://fcmregistrations.googleapis.com/v1",Ry="FCM_MSG",Ly="google.c.a.c_id",jy=3,My=1;function Fy(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,f(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Uy(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(Ny||(Ny={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Py||(Py={}));var Vy="fcm_token_details_db",By=5,zy="fcm_token_object_Store";function qy(e){return Ky.apply(this,arguments)}function Ky(){return Ky=Zi(Xi().mark((function e(t){var n,r,i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("databases"in indexedDB)){e.next=7;break}return e.next=3,indexedDB.databases();case 3:if(n=e.sent,r=n.map((function(e){return e.name})),r.includes(Vy)){e.next=7;break}return e.abrupt("return",null);case 7:return i=null,e.next=10,Xv(Vy,By,{upgrade:function(){var e=Zi(Xi().mark((function e(n,r,a,o){var s,u,c,l,f,h;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r<2)){e.next=2;break}return e.abrupt("return");case 2:if(n.objectStoreNames.contains(zy)){e.next=4;break}return e.abrupt("return");case 4:return u=o.objectStore(zy),e.next=7,u.index("fcmSenderId").get(t);case 7:return c=e.sent,e.next=10,u.clear();case 10:if(c){e.next=12;break}return e.abrupt("return");case 12:if(2!==r){e.next=19;break}if((l=c).auth&&l.p256dh&&l.endpoint){e.next=16;break}return e.abrupt("return");case 16:i={token:l.fcmToken,createTime:null!==(s=l.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:l.auth,p256dh:l.p256dh,endpoint:l.endpoint,swScope:l.swScope,vapidKey:"string"===typeof l.vapidKey?l.vapidKey:Fy(l.vapidKey)}},e.next=20;break;case 19:3===r?i={token:(f=c).fcmToken,createTime:f.createTime,subscriptionOptions:{auth:Fy(f.auth),p256dh:Fy(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:Fy(f.vapidKey)}}:4===r&&(i={token:(h=c).fcmToken,createTime:h.createTime,subscriptionOptions:{auth:Fy(h.auth),p256dh:Fy(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:Fy(h.vapidKey)}});case 20:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()});case 10:return e.sent.close(),e.next=14,Jv(Vy);case 14:return e.next=16,Jv("fcm_vapid_details_db");case 16:return e.next=18,Jv("undefined");case 18:return e.abrupt("return",Wy(i)?i:null);case 19:case"end":return e.stop()}}),e)}))),Ky.apply(this,arguments)}function Wy(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var Hy="firebase-messaging-database",Gy=1,Qy="firebase-messaging-store",$y=null;function Yy(){return $y||($y=Xv(Hy,Gy,{upgrade:function(e,t){if(0===t)e.createObjectStore(Qy)}})),$y}function Xy(e){return Jy.apply(this,arguments)}function Jy(){return Jy=Zi(Xi().mark((function e(t){var n,r,i,a;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=rg(t),e.next=3,Yy();case 3:return r=e.sent,e.next=6,r.transaction(Qy).objectStore(Qy).get(n);case 6:if(!(i=e.sent)){e.next=11;break}return e.abrupt("return",i);case 11:return e.next=13,qy(t.appConfig.senderId);case 13:if(!(a=e.sent)){e.next=18;break}return e.next=17,Zy(t,a);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e)}))),Jy.apply(this,arguments)}function Zy(e,t){return eg.apply(this,arguments)}function eg(){return eg=Zi(Xi().mark((function e(t,n){var r,i,a;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rg(t),e.next=3,Yy();case 3:return i=e.sent,a=i.transaction(Qy,"readwrite"),e.next=7,a.objectStore(Qy).put(n,r);case 7:return e.next=9,a.done;case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)}))),eg.apply(this,arguments)}function tg(e){return ng.apply(this,arguments)}function ng(){return ng=Zi(Xi().mark((function e(t){var n,r,i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=rg(t),e.next=3,Yy();case 3:return r=e.sent,i=r.transaction(Qy,"readwrite"),e.next=7,i.objectStore(Qy).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),ng.apply(this,arguments)}function rg(e){return e.appConfig.appId}var ig=(Je(by={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),Je(by,"only-available-in-window","This method is available in a Window context."),Je(by,"only-available-in-sw","This method is available in a service worker context."),Je(by,"permission-default","The notification permission was not granted and dismissed instead."),Je(by,"permission-blocked","The notification permission was not granted and blocked instead."),Je(by,"unsupported-browser","This browser doesn't support the API's required to use the Firebase SDK."),Je(by,"indexed-db-unsupported","This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)"),Je(by,"failed-service-worker-registration","We are unable to register the default service worker. {$browserErrorMessage}"),Je(by,"token-subscribe-failed","A problem occurred while subscribing the user to FCM: {$errorInfo}"),Je(by,"token-subscribe-no-token","FCM returned no token when subscribing the user to push."),Je(by,"token-unsubscribe-failed","A problem occurred while unsubscribing the user from FCM: {$errorInfo}"),Je(by,"token-update-failed","A problem occurred while updating the user from FCM: {$errorInfo}"),Je(by,"token-update-no-token","FCM returned no token when updating the user to push."),Je(by,"use-sw-after-get-token","The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used."),Je(by,"invalid-sw-registration","The input to useServiceWorker() must be a ServiceWorkerRegistration."),Je(by,"invalid-bg-handler","The input to setBackgroundMessageHandler() must be a function."),Je(by,"invalid-vapid-key","The public VAPID key must be a string."),Je(by,"use-vapid-key-after-get-token","The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."),by),ag=new Fi("messaging","Messaging",ig);function og(e,t){return sg.apply(this,arguments)}function sg(){return(sg=Zi(Xi().mark((function e(t,n){var r,i,a,o,s,u;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dg(t);case 2:return r=e.sent,i=vg(n),a={method:"POST",headers:r,body:JSON.stringify(i)},e.prev=5,e.next=8,fetch(hg(t.appConfig),a);case 8:return s=e.sent,e.next=11,s.json();case 11:o=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),ag.create("token-subscribe-failed",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()});case 17:if(!o.error){e.next=20;break}throw u=o.error.message,ag.create("token-subscribe-failed",{errorInfo:u});case 20:if(o.token){e.next=22;break}throw ag.create("token-subscribe-no-token");case 22:return e.abrupt("return",o.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function ug(e,t){return cg.apply(this,arguments)}function cg(){return(cg=Zi(Xi().mark((function e(t,n){var r,i,a,o,s,u;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dg(t);case 2:return r=e.sent,i=vg(n.subscriptionOptions),a={method:"PATCH",headers:r,body:JSON.stringify(i)},e.prev=5,e.next=8,fetch("".concat(hg(t.appConfig),"/").concat(n.token),a);case 8:return s=e.sent,e.next=11,s.json();case 11:o=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),ag.create("token-update-failed",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()});case 17:if(!o.error){e.next=20;break}throw u=o.error.message,ag.create("token-update-failed",{errorInfo:u});case 20:if(o.token){e.next=22;break}throw ag.create("token-update-no-token");case 22:return e.abrupt("return",o.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function lg(e,t){return fg.apply(this,arguments)}function fg(){return(fg=Zi(Xi().mark((function e(t,n){var r,i,a,o,s;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dg(t);case 2:return r=e.sent,i={method:"DELETE",headers:r},e.prev=4,e.next=7,fetch("".concat(hg(t.appConfig),"/").concat(n),i);case 7:return a=e.sent,e.next=10,a.json();case 10:if(!(o=e.sent).error){e.next=14;break}throw s=o.error.message,ag.create("token-unsubscribe-failed",{errorInfo:s});case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(4),ag.create("token-unsubscribe-failed",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()});case 19:case"end":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}function hg(e){var t=e.projectId;return"".concat(Dy,"/projects/").concat(t,"/registrations")}function dg(e){return pg.apply(this,arguments)}function pg(){return(pg=Zi(Xi().mark((function e(t){var n,r,i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.appConfig,r=t.installations,e.next=3,r.getToken();case 3:return i=e.sent,e.abrupt("return",new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(i)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vg(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,a={web:{endpoint:r,auth:n,p256dh:t}};return i!==Oy&&(a.web.applicationPubKey=i),a}var mg=6048e5;function yg(e){return gg.apply(this,arguments)}function gg(){return(gg=Zi(Xi().mark((function e(t){var n,r,i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Eg(t.swRegistration,t.vapidKey);case 2:return n=e.sent,r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:n.endpoint,auth:Fy(n.getKey("auth")),p256dh:Fy(n.getKey("p256dh"))},e.next=6,Xy(t.firebaseDependencies);case 6:if(i=e.sent){e.next=11;break}return e.abrupt("return",Ig(t.firebaseDependencies,r));case 11:if(Tg(i.subscriptionOptions,r)){e.next=23;break}return e.prev=12,e.next=15,lg(t.firebaseDependencies,i.token);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(12),console.warn(e.t0);case 20:return e.abrupt("return",Ig(t.firebaseDependencies,r));case 23:if(!(Date.now()>=i.createTime+mg)){e.next=27;break}return e.abrupt("return",wg(t,{token:i.token,createTime:Date.now(),subscriptionOptions:r}));case 27:return e.abrupt("return",i.token);case 28:case"end":return e.stop()}}),e,null,[[12,17]])})))).apply(this,arguments)}function kg(e){return bg.apply(this,arguments)}function bg(){return(bg=Zi(Xi().mark((function e(t){var n,r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xy(t.firebaseDependencies);case 2:if(!(n=e.sent)){e.next=8;break}return e.next=6,lg(t.firebaseDependencies,n.token);case 6:return e.next=8,tg(t.firebaseDependencies);case 8:return e.next=10,t.swRegistration.pushManager.getSubscription();case 10:if(!(r=e.sent)){e.next=13;break}return e.abrupt("return",r.unsubscribe());case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wg(e,t){return xg.apply(this,arguments)}function xg(){return(xg=Zi(Xi().mark((function e(t,n){var r,i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ug(t.firebaseDependencies,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{token:r,createTime:Date.now()}),e.next=7,Zy(t.firebaseDependencies,i);case 7:return e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,kg(t);case 14:throw e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Ig(e,t){return Sg.apply(this,arguments)}function Sg(){return(Sg=Zi(Xi().mark((function e(t,n){var r,i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,og(t,n);case 2:return r=e.sent,i={token:r,createTime:Date.now(),subscriptionOptions:n},e.next=6,Zy(t,i);case 6:return e.abrupt("return",i.token);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Eg(e,t){return _g.apply(this,arguments)}function _g(){return(_g=Zi(Xi().mark((function e(t,n){var r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pushManager.getSubscription();case 2:if(!(r=e.sent)){e.next=5;break}return e.abrupt("return",r);case 5:return e.abrupt("return",t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Uy(n)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tg(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,a=t.p256dh===e.p256dh;return n&&r&&i&&a}function Ag(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i);var a=t.notification.icon;a&&(e.notification.icon=a)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,r,i,a,o;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};var s=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(a=t.notification)||void 0===a?void 0:a.click_action;s&&(e.fcmOptions.link=s);var u=null===(o=t.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(e.fcmOptions.analyticsLabel=u)}(t,e),t}function Cg(e){return new Promise((function(t){setTimeout(t,e)}))}function Ng(e,t){return Pg.apply(this,arguments)}function Pg(){return(Pg=Zi(Xi().mark((function e(t,n){var r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Og,e.t1=n,e.next=4,t.firebaseDependencies.installations.getId();case 4:e.t2=e.sent,r=(0,e.t0)(e.t1,e.t2),Dg(t,r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Og(e,t){var n,r,i={};return e.from&&(i.project_number=e.from),e.fcmMessageId&&(i.message_id=e.fcmMessageId),i.instance_id=t,e.notification?i.message_type=Ny.DISPLAY_NOTIFICATION.toString():i.message_type=Ny.DATA_MESSAGE.toString(),i.sdk_platform=jy.toString(),i.package_name=self.origin.replace(/(^\w+:|^)\/\//,""),e.collapse_key&&(i.collapse_key=e.collapse_key),i.event=My.toString(),(null===(n=e.fcmOptions)||void 0===n?void 0:n.analytics_label)&&(i.analytics_label=null===(r=e.fcmOptions)||void 0===r?void 0:r.analytics_label),i}function Dg(e,t){var n={};n.event_time_ms=Math.floor(Date.now()).toString(),n.source_extension_json_proto3=JSON.stringify(t),e.logEvents.push(n)}function Rg(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function Lg(){return Lg=Zi(Xi().mark((function e(t,n){var r,i,a;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.newSubscription){e.next=5;break}return e.next=4,kg(n);case 4:return e.abrupt("return");case 5:return e.next=7,Xy(n.firebaseDependencies);case 7:return a=e.sent,e.next=10,kg(n);case 10:return n.vapidKey=null!==(i=null===(r=null===a||void 0===a?void 0:a.subscriptionOptions)||void 0===r?void 0:r.vapidKey)&&void 0!==i?i:Oy,e.next=13,yg(n);case 13:case"end":return e.stop()}}),e)}))),Lg.apply(this,arguments)}function jg(){return(jg=Zi(Xi().mark((function e(t,n){var r,i,a;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ug(t)){e.next=3;break}return e.abrupt("return");case 3:if(!n.deliveryMetricsExportedToBigQueryEnabled){e.next=6;break}return e.next=6,Ng(n,r);case 6:return e.next=8,Kg();case 8:if(!zg(i=e.sent)){e.next=11;break}return e.abrupt("return",qg(i,r));case 11:if(!r.notification){e.next=14;break}return e.next=14,Wg(Fg(r));case 14:if(n){e.next=16;break}return e.abrupt("return");case 16:if(!n.onBackgroundMessageHandler){e.next=24;break}if(a=Ag(r),"function"!==typeof n.onBackgroundMessageHandler){e.next=23;break}return e.next=21,n.onBackgroundMessageHandler(a);case 21:e.next=24;break;case 23:n.onBackgroundMessageHandler.next(a);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mg(){return Mg=Zi(Xi().mark((function e(t){var n,r,i,a,o,s,u;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null===(r=null===(n=t.notification)||void 0===n?void 0:n.data)||void 0===r?void 0:r[Ry]){e.next=5;break}return e.abrupt("return");case 5:if(!t.action){e.next=7;break}return e.abrupt("return");case 7:if(t.stopImmediatePropagation(),t.notification.close(),a=Hg(i)){e.next=12;break}return e.abrupt("return");case 12:if(o=new URL(a,self.location.href),s=new URL(self.location.origin),o.host===s.host){e.next=16;break}return e.abrupt("return");case 16:return e.next=18,Vg(o);case 18:if(u=e.sent){e.next=27;break}return e.next=22,self.clients.openWindow(a);case 22:return u=e.sent,e.next=25,Cg(3e3);case 25:e.next=30;break;case 27:return e.next=29,u.focus();case 29:u=e.sent;case 30:if(u){e.next=32;break}return e.abrupt("return");case 32:return i.messageType=Py.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,e.abrupt("return",u.postMessage(i));case 35:case"end":return e.stop()}}),e)}))),Mg.apply(this,arguments)}function Fg(e){var t=Object.assign({},e.notification);return t.data=Je({},Ry,e),t}function Ug(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}function Vg(e){return Bg.apply(this,arguments)}function Bg(){return(Bg=Zi(Xi().mark((function e(t){var n,r,i,a,o;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kg();case 2:n=e.sent,r=_(n),e.prev=4,r.s();case 6:if((i=r.n()).done){e.next=13;break}if(a=i.value,o=new URL(a.url,self.location.href),t.host!==o.host){e.next=11;break}return e.abrupt("return",a);case 11:e.next=6;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",null);case 22:case"end":return e.stop()}}),e,null,[[4,15,18,21]])})))).apply(this,arguments)}function zg(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}function qg(e,t){t.isFirebaseMessaging=!0,t.messageType=Py.PUSH_RECEIVED;var n,r=_(e);try{for(r.s();!(n=r.n()).done;){n.value.postMessage(t)}}catch(i){r.e(i)}finally{r.f()}}function Kg(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Wg(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports ".concat(r," actions. The remaining actions will not be displayed.")),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}function Hg(e){var t,n,r,i,a=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;return a||("object"===typeof(i=e.data)&&i&&Ly in i?self.location.origin:null)}function Gg(e){return ag.create("missing-app-config-values",{valueName:e})}Rg("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Rg("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");var Qg=function(){function e(t,n,r){h(this,e),this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;var i=function(e){if(!e||!e.options)throw Gg("App Configuration Object");if(!e.name)throw Gg("App Name");for(var t=e.options,n=0,r=["projectId","apiKey","appId","messagingSenderId"];n<r.length;n++){var i=r[n];if(!t[i])throw Gg(i)}return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}return m(e,[{key:"_delete",value:function(){return Promise.resolve()}}]),e}(),$g=function(e){var t=new Qg(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return self.addEventListener("push",(function(e){e.waitUntil(function(e,t){return jg.apply(this,arguments)}(e,t))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(function(e,t){return Lg.apply(this,arguments)}(e,t))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(function(e){return Mg.apply(this,arguments)}(e))})),t};function Yg(e,t){return function(e,t){if(void 0!==self.document)throw ag.create("only-available-in-sw");return e.onBackgroundMessageHandler=t,function(){e.onBackgroundMessageHandler=null}}(e=Yi(e),t)}Ba(new ea("messaging-sw",$g,"PUBLIC"));var Xg=function(){function e(t,n){h(this,e),this.app=t,this._delegate=n,this.app=t,this._delegate=n}return m(e,[{key:"getToken",value:function(){var e=Zi(Xi().mark((function e(t){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_y(this._delegate,t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteToken",value:function(){var e=Zi(Xi().mark((function e(){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ay(this._delegate));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onMessage",value:function(e){return Cy(this._delegate,e)}},{key:"onBackgroundMessage",value:function(e){return Yg(this._delegate,e)}}]),e}(),Jg=function(e){return self&&"ServiceWorkerGlobalScope"in self?new Xg(e.getProvider("app-compat").getImmediate(),e.getProvider("messaging-sw").getImmediate()):new Xg(e.getProvider("app-compat").getImmediate(),e.getProvider("messaging").getImmediate())},Zg={isSupported:function(){return self&&"ServiceWorkerGlobalScope"in self?ji()&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"undefined"!==typeof window&&ji()&&!("undefined"===typeof navigator||!navigator.cookieEnabled)&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}};To.INTERNAL.registerComponent(new ea("messaging-compat",Jg,"PUBLIC").setServiceProps(Zg)),To.registerVersion("@firebase/messaging-compat","0.2.4");var ek,tk="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},nk={},rk=rk||{},ik=tk||self;function ak(){}function ok(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function sk(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var uk="closure_uid_"+(1e9*Math.random()>>>0),ck=0;function lk(e,t,n){return e.call.apply(e.bind,arguments)}function fk(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function hk(e,t,n){return(hk=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?lk:fk).apply(null,arguments)}function dk(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function pk(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function vk(){this.s=this.s,this.o=this.o}vk.prototype.s=!1,vk.prototype.ra=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,uk)&&e[uk]||(e[uk]=++ck))},vk.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var mk=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function yk(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function gk(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(ok(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function kk(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}kk.prototype.h=function(){this.defaultPrevented=!0};var bk=function(){if(!ik.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ik.addEventListener("test",ak,t),ik.removeEventListener("test",ak,t)}catch(n){}return e}();function wk(e){return/^[\s\xa0]*$/.test(e)}var xk=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ik(e,t){return e<t?-1:e>t?1:0}function Sk(){var e=ik.navigator;return e&&(e=e.userAgent)?e:""}function Ek(e){return-1!=Sk().indexOf(e)}function _k(e){return _k[" "](e),e}function Tk(e,t,n){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:e[t]=n(t)}_k[" "]=ak;var Ak,Ck=Ek("Opera"),Nk=Ek("Trident")||Ek("MSIE"),Pk=Ek("Edge"),Ok=Pk||Nk,Dk=Ek("Gecko")&&!(-1!=Sk().toLowerCase().indexOf("webkit")&&!Ek("Edge"))&&!(Ek("Trident")||Ek("MSIE"))&&!Ek("Edge"),Rk=-1!=Sk().toLowerCase().indexOf("webkit")&&!Ek("Edge");function Lk(){var e=ik.document;return e?e.documentMode:void 0}e:{var jk="",Mk=function(){var e=Sk();return Dk?/rv:([^\);]+)(\)|;)/.exec(e):Pk?/Edge\/([\d\.]+)/.exec(e):Nk?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Rk?/WebKit\/(\S+)/.exec(e):Ck?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Mk&&(jk=Mk?Mk[1]:""),Nk){var Fk=Lk();if(null!=Fk&&Fk>parseFloat(jk)){Ak=String(Fk);break e}}Ak=jk}var Uk,Vk={};if(ik.document&&Nk){var Bk=Lk();Uk=Bk||(parseInt(Ak,10)||void 0)}else Uk=void 0;var zk=Uk;function qk(e,t){if(kk.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Dk){e:{try{_k(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Kk[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&qk.$.h.call(this)}}pk(qk,kk);var Kk={2:"touch",3:"pen",4:"mouse"};qk.prototype.h=function(){qk.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Wk="closure_listenable_"+(1e6*Math.random()|0),Hk=0;function Gk(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Hk,this.fa=this.ia=!1}function Qk(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function $k(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Yk(e){var t={};for(var n in e)t[n]=e[n];return t}var Xk="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Jk(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Xk.length;a++)n=Xk[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Zk(e){this.src=e,this.g={},this.h=0}function eb(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=mk(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Qk(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function tb(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Zk.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=tb(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Gk(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var nb="closure_lm_"+(1e6*Math.random()|0),rb={};function ib(e,t,n,r,i){if(r&&r.once)return ob(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ib(e,t[a],n,r,i);return null}return n=db(n),e&&e[Wk]?e.O(t,n,sk(r)?!!r.capture:!!r,i):ab(e,t,n,!1,r,i)}function ab(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=sk(i)?!!i.capture:!!i,s=fb(e);if(s||(e[nb]=s=new Zk(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=lb;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)bk||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(cb(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ob(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ob(e,t[a],n,r,i);return null}return n=db(n),e&&e[Wk]?e.P(t,n,sk(r)?!!r.capture:!!r,i):ab(e,t,n,!0,r,i)}function sb(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)sb(e,t[a],n,r,i);else r=sk(r)?!!r.capture:!!r,n=db(n),e&&e[Wk]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=tb(a=e.g[t],n,r,i))&&(Qk(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=fb(e))&&(t=e.g[t.toString()],e=-1,t&&(e=tb(t,n,r,i)),(n=-1<e?t[e]:null)&&ub(n))}function ub(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Wk])eb(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(cb(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=fb(t))?(eb(n,e),0==n.h&&(n.src=null,t[nb]=null)):Qk(e)}}}function cb(e){return e in rb?rb[e]:rb[e]="on"+e}function lb(e,t){if(e.fa)e=!0;else{t=new qk(t,this);var n=e.listener,r=e.la||e.src;e.ia&&ub(e),e=n.call(r,t)}return e}function fb(e){return(e=e[nb])instanceof Zk?e:null}var hb="__closure_events_fn_"+(1e9*Math.random()>>>0);function db(e){return"function"===typeof e?e:(e[hb]||(e[hb]=function(t){return e.handleEvent(t)}),e[hb])}function pb(){vk.call(this),this.i=new Zk(this),this.S=this,this.J=null}function vb(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new kk(t,e);else if(t instanceof kk)t.target=t.target||e;else{var i=t;Jk(t=new kk(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=mb(o,r,!0,t)&&i}if(i=mb(o=t.g=e,r,!0,t)&&i,i=mb(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=mb(o=t.g=n[a],r,!1,t)&&i}function mb(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&eb(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}pk(pb,vk),pb.prototype[Wk]=!0,pb.prototype.removeEventListener=function(e,t,n,r){sb(this,e,t,n,r)},pb.prototype.N=function(){if(pb.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Qk(n[r]);delete t.g[e],t.h--}}this.J=null},pb.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},pb.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var yb=ik.JSON.stringify;function gb(){var e=_b,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var kb,bb=function(){function e(){h(this,e),this.h=this.g=null}return m(e,[{key:"add",value:function(e,t){var n=wb.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),wb=new(function(){function e(t,n){h(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return m(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new xb}),(function(e){return e.reset()})),xb=function(){function e(){h(this,e),this.next=this.g=this.h=null}return m(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Ib(e){ik.setTimeout((function(){throw e}),0)}function Sb(e,t){kb||function(){var e=ik.Promise.resolve(void 0);kb=function(){e.then(Tb)}}(),Eb||(kb(),Eb=!0),_b.add(e,t)}var Eb=!1,_b=new bb;function Tb(){for(var e;e=gb();){try{e.h.call(e.g)}catch(n){Ib(n)}var t=wb;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Eb=!1}function Ab(e,t){pb.call(this),this.h=e||1,this.g=t||ik,this.j=hk(this.qb,this),this.l=Date.now()}function Cb(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Nb(e,t,n){if("function"===typeof e)n&&(e=hk(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=hk(e.handleEvent,e)}return 2147483647<Number(t)?-1:ik.setTimeout(e,t||0)}function Pb(e){e.g=Nb((function(){e.g=null,e.i&&(e.i=!1,Pb(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}pk(Ab,pb),(ek=Ab.prototype).ga=!1,ek.T=null,ek.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),vb(this,"tick"),this.ga&&(Cb(this),this.start()))}},ek.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ek.N=function(){Ab.$.N.call(this),Cb(this),delete this.g};var Ob=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return m(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Pb(this)}},{key:"N",value:function(){Ao(k(n.prototype),"N",this).call(this),this.g&&(ik.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(vk);function Db(e){vk.call(this),this.h=e,this.g={}}pk(Db,vk);var Rb=[];function Lb(e,t,n,r){Array.isArray(n)||(n&&(Rb[0]=n.toString()),n=Rb);for(var i=0;i<n.length;i++){var a=ib(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function jb(e){$k(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ub(e)}),e),e.g={}}function Mb(){this.g=!0}function Fb(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return yb(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Db.prototype.N=function(){Db.$.N.call(this),jb(this)},Db.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Mb.prototype.Ea=function(){this.g=!1},Mb.prototype.info=function(){};var Ub={},Vb=null;function Bb(){return Vb=Vb||new pb}function zb(e){kk.call(this,Ub.Ta,e)}function qb(e){var t=Bb();vb(t,new zb(t))}function Kb(e,t){kk.call(this,Ub.STAT_EVENT,e),this.stat=t}function Wb(e){var t=Bb();vb(t,new Kb(t,e))}function Hb(e,t){kk.call(this,Ub.Ua,e),this.size=t}function Gb(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ik.setTimeout((function(){e()}),t)}Ub.Ta="serverreachability",pk(zb,kk),Ub.STAT_EVENT="statevent",pk(Kb,kk),Ub.Ua="timingevent",pk(Hb,kk);var Qb={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},$b={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Yb(){}function Xb(e){return e.h||(e.h=e.i())}function Jb(){}Yb.prototype.h=null;var Zb,ew={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function tw(){kk.call(this,"d")}function nw(){kk.call(this,"c")}function rw(){}function iw(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Db(this),this.P=ow,e=Ok?125:void 0,this.V=new Ab(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new aw}function aw(){this.i=null,this.g="",this.h=!1}pk(tw,kk),pk(nw,kk),pk(rw,Yb),rw.prototype.g=function(){return new XMLHttpRequest},rw.prototype.i=function(){return{}},Zb=new rw;var ow=45e3,sw={},uw={};function cw(e,t,n){e.L=1,e.v=Aw(Iw(t)),e.s=n,e.S=!0,lw(e,null)}function lw(e,t){e.G=Date.now(),pw(e),e.A=Iw(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Bw(n.i,"t",r),e.C=0,n=e.l.I,e.h=new aw,e.g=zx(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Ob(hk(e.Pa,e,e.g),e.O)),Lb(e.U,e.g,"readystatechange",e.nb),t=e.I?Yk(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),qb(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function fw(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function hw(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=dw(e,n))==uw){4==t&&(e.o=4,Wb(14),i=!1),Fb(e.j,e.m,null,"[Incomplete Response]");break}if(r==sw){e.o=4,Wb(15),Fb(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Fb(e.j,e.m,r,null),kw(e,r)}fw(e)&&r!=uw&&r!=sw&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Wb(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ca&&(e.ca=!0,(t=e.l).g==e&&t.ca&&!t.L&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Rx(t),t.L=!0,Wb(11))):(Fb(e.j,e.m,n,"[Invalid Chunked Response]"),gw(e),yw(e))}function dw(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?uw:(n=Number(t.substring(n,r)),isNaN(n)?sw:(r+=1)+n>t.length?uw:(t=t.substr(r,n),e.C=r+n,t))}function pw(e){e.Y=Date.now()+e.P,vw(e,e.P)}function vw(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Gb(hk(e.lb,e),t)}function mw(e){e.B&&(ik.clearTimeout(e.B),e.B=null)}function yw(e){0==e.l.H||e.J||Mx(e.l,e)}function gw(e){mw(e);var t=e.M;t&&"function"==typeof t.ra&&t.ra(),e.M=null,Cb(e.V),jb(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ra())}function kw(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||$w(n.h,e)))if(!e.K&&$w(n.h,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;jx(n),_x(n)}Dx(n),Wb(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&0==n.A&&!n.v&&(n.v=Gb(hk(n.ib,n),6e3));if(1>=Qw(n.h)&&n.na){try{n.na()}catch(a){}n.na=void 0}}else Ux(n,11)}else if((e.K||n.g==e)&&jx(n),!wk(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.J=a[1],n.oa=a[2];var o=a[3];null!=o&&(n.qa=o,n.j.info("VER="+n.qa));var s=a[4];null!=s&&(n.Ga=s,n.j.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Yw(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,Tw(r.G,r.F,h))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-e.G,n.j.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=Bx(r,r.I?r.oa:null,r.Y),d.K){Xw(r.h,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(mw(p),pw(p)),r.g=d}else Ox(r);0<n.i.length&&Ax(n)}else"stop"!=a[0]&&"close"!=a[0]||Ux(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Ux(n,7):Ex(n):"noop"!=a[0]&&n.l&&n.l.Aa(a),n.A=0)}qb()}catch(a){}}function bw(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ok(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.sa&&"function"==typeof e.sa)return e.sa();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(ok(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(ok(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(ek=iw.prototype).setTimeout=function(e){this.P=e},ek.nb=function(e){e=e.target;var t=this.M;t&&3==kx(e)?t.l():this.Pa(e)},ek.Pa=function(e){try{if(e==this.g)e:{var t=kx(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||Ok||this.g&&(this.h.h||this.g.ja()||bx(this.g)))){this.J||4!=t||7==n||qb(),mw(this);var r=this.g.da();this.aa=r;t:if(fw(this)){var i=bx(this.g);e="";var a=i.length,o=4==kx(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){gw(this),yw(this);var s="";break t}this.h.i=new ik.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.ba&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wk(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Wb(12),gw(this),yw(this);break e}Fb(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kw(this,r)}this.S?(hw(this,t,s),Ok&&this.i&&3==t&&(Lb(this.U,this.V,"tick",this.mb),this.V.start())):(Fb(this.j,this.m,s,null),kw(this,s)),4==t&&gw(this),this.i&&!this.J&&(4==t?Mx(this.l,this):(this.i=!1,pw(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Wb(12)):(this.o=0,Wb(13)),gw(this),yw(this)}}}catch(t){}},ek.mb=function(){if(this.g){var e=kx(this.g),t=this.g.ja();this.C<t.length&&(mw(this),hw(this,e,t),this.i&&4!=e&&pw(this))}},ek.cancel=function(){this.J=!0,gw(this)},ek.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(qb(),Wb(17)),gw(this),this.o=2,yw(this)):vw(this,this.Y-e)};var ww=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xw(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof xw){this.h=void 0!==t?t:e.h,Sw(this,e.j),this.s=e.s,this.g=e.g,Ew(this,e.m),this.l=e.l,t=e.i;var n=new Mw;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),_w(this,n),this.o=e.o}else e&&(n=String(e).match(ww))?(this.h=!!t,Sw(this,n[1]||"",!0),this.s=Cw(n[2]||""),this.g=Cw(n[3]||"",!0),Ew(this,n[4]),this.l=Cw(n[5]||"",!0),_w(this,n[6]||"",!0),this.o=Cw(n[7]||"")):(this.h=!!t,this.i=new Mw(null,this.h))}function Iw(e){return new xw(e)}function Sw(e,t,n){e.j=n?Cw(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ew(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function _w(e,t,n){t instanceof Mw?(e.i=t,function(e,t){t&&!e.j&&(Fw(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Uw(this,t),Bw(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Nw(t,Lw)),e.i=new Mw(t,e.h))}function Tw(e,t,n){e.i.set(t,n)}function Aw(e){return Tw(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Cw(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Nw(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Pw),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Pw(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}xw.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Nw(t,Ow,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Nw(t,Ow,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Nw(n,"/"==n.charAt(0)?Rw:Dw,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Nw(n,jw)),e.join("")};var Ow=/[#\/\?@]/g,Dw=/[#\?:]/g,Rw=/[#\?]/g,Lw=/[#\?@]/g,jw=/#/g;function Mw(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Fw(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Uw(e,t){Fw(e),t=zw(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Vw(e,t){return Fw(e),t=zw(e,t),e.g.has(t)}function Bw(e,t,n){Uw(e,t),0<n.length&&(e.i=null,e.g.set(zw(e,t),yk(n)),e.h+=n.length)}function zw(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ek=Mw.prototype).add=function(e,t){Fw(this),this.i=null,e=zw(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ek.forEach=function(e,t){Fw(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},ek.sa=function(){Fw(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},ek.Z=function(e){Fw(this);var t=[];if("string"===typeof e)Vw(this,e)&&(t=t.concat(this.g.get(zw(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},ek.set=function(e,t){return Fw(this),this.i=null,Vw(this,e=zw(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ek.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},ek.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var qw=m((function e(t,n){h(this,e),this.h=t,this.g=n}));function Kw(e){this.l=e||Hw,ik.PerformanceNavigationTiming?e=0<(e=ik.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ik.g&&ik.g.Ka&&ik.g.Ka()&&ik.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ww,Hw=10;function Gw(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Qw(e){return e.h?1:e.g?e.g.size:0}function $w(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Yw(e,t){e.g?e.g.add(t):e.h=t}function Xw(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Jw(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=_(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return yk(e.i)}function Zw(){}function ex(){this.g=new Zw}function tx(e,t,n){var r=n||"";try{bw(e,(function(e,n){var i=e;sk(e)&&(i=yb(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(MF){throw t.push(r+"type="+encodeURIComponent("_badmap")),MF}}function nx(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function rx(e){this.l=e.fc||null,this.j=e.ob||!1}function ix(e,t){pb.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=ax,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Kw.prototype.cancel=function(){if(this.i=Jw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=_(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Zw.prototype.stringify=function(e){return ik.JSON.stringify(e,void 0)},Zw.prototype.parse=function(e){return ik.JSON.parse(e,void 0)},pk(rx,Yb),rx.prototype.g=function(){return new ix(this.l,this.j)},rx.prototype.i=(Ww={},function(){return Ww}),pk(ix,pb);var ax=0;function ox(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function sx(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ux(e)}function ux(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ek=ix.prototype).open=function(e,t){if(this.readyState!=ax)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ux(this)},ek.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||ik).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},ek.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sx(this)),this.readyState=ax},ek.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ux(this)),this.g&&(this.readyState=3,ux(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof ik.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ox(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},ek.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?sx(this):ux(this),3==this.readyState&&ox(this)}},ek.Za=function(e){this.g&&(this.response=this.responseText=e,sx(this))},ek.Ya=function(e){this.g&&(this.response=e,sx(this))},ek.ka=function(){this.g&&sx(this)},ek.setRequestHeader=function(e,t){this.v.append(e,t)},ek.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ek.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ix.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var cx=ik.JSON.parse;function lx(e){pb.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=fx,this.L=this.M=!1}pk(lx,pb);var fx="",hx=/^https?$/i,dx=["POST","PUT"];function px(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,vx(e),yx(e)}function vx(e){e.F||(e.F=!0,vb(e,"complete"),vb(e,"error"))}function mx(e){if(e.h&&"undefined"!=typeof rk&&(!e.C[1]||4!=kx(e)||2!=e.da()))if(e.v&&4==kx(e))Nb(e.La,0,e);else if(vb(e,"readystatechange"),4==kx(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(ww)[1]||null;if(!a&&ik.self&&ik.self.location){var o=ik.self.location.protocol;a=o.substr(0,o.length-1)}i=!hx.test(a?a.toLowerCase():"")}t=i}if(t)vb(e,"complete"),vb(e,"success");else{e.m=6;try{var s=2<kx(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.da()+"]",vx(e)}}finally{yx(e)}}}function yx(e,t){if(e.g){gx(e);var n=e.g,r=e.C[0]?ak:null;e.g=null,e.C=null,t||vb(e,"ready");try{n.onreadystatechange=r}catch(MF){}}}function gx(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(ik.clearTimeout(e.A),e.A=null)}function kx(e){return e.g?e.g.readyState:0}function bx(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case fx:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(EI){return null}}function wx(e){var t="";return $k(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function xx(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=wx(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Tw(e,t,n))}function Ix(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Sx(e){this.Ga=0,this.i=[],this.j=new Mb,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ix("failFast",!1,e),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ix("baseRetryDelayMs",5e3,e),this.hb=Ix("retryDelaySeedMs",1e4,e),this.eb=Ix("forwardChannelMaxRetries",2,e),this.xa=Ix("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.K=void 0,this.I=e&&e.supportsCrossDomainXhr||!1,this.J="",this.h=new Kw(e&&e.concurrentRequestLimit),this.Ja=new ex,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.j.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function Ex(e){if(Tx(e),3==e.H){var t=e.W++,n=Iw(e.G);Tw(n,"SID",e.J),Tw(n,"RID",t),Tw(n,"TYPE","terminate"),Nx(e,n),(t=new iw(e,e.j,t,void 0)).L=2,t.v=Aw(Iw(n)),n=!1,ik.navigator&&ik.navigator.sendBeacon&&(n=ik.navigator.sendBeacon(t.v.toString(),"")),!n&&ik.Image&&((new Image).src=t.v,n=!0),n||(t.g=zx(t.l,null),t.g.ha(t.v)),t.G=Date.now(),pw(t)}Vx(e)}function _x(e){e.g&&(Rx(e),e.g.cancel(),e.g=null)}function Tx(e){_x(e),e.u&&(ik.clearTimeout(e.u),e.u=null),jx(e),e.h.cancel(),e.m&&("number"===typeof e.m&&ik.clearTimeout(e.m),e.m=null)}function Ax(e){Gw(e.h)||e.m||(e.m=!0,Sb(e.Na,e),e.C=0)}function Cx(e,t){var n;n=t?t.m:e.W++;var r=Iw(e.G);Tw(r,"SID",e.J),Tw(r,"RID",n),Tw(r,"AID",e.V),Nx(e,r),e.o&&e.s&&xx(r,e.o,e.s),n=new iw(e,e.j,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.i=t.F.concat(e.i)),t=Px(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Yw(e.h,n),cw(n,r,t)}function Nx(e,t){e.ma&&$k(e.ma,(function(e,n){Tw(t,n,e)})),e.l&&bw({},(function(e,n){Tw(t,n,e)}))}function Px(e,t,n){n=Math.min(e.i.length,n);var r=e.l?hk(e.l.Va,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{tx(l,o,"req"+c+"_")}catch(jI){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.F=e,r}function Ox(e){e.g||e.u||(e.ba=1,Sb(e.Ma,e),e.A=0)}function Dx(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Gb(hk(e.Ma,e),Fx(e,e.A)),e.A++,!0)}function Rx(e){null!=e.B&&(ik.clearTimeout(e.B),e.B=null)}function Lx(e){e.g=new iw(e,e.j,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Iw(e.wa);Tw(t,"RID","rpc"),Tw(t,"SID",e.J),Tw(t,"CI",e.M?"0":"1"),Tw(t,"AID",e.V),Tw(t,"TYPE","xmlhttp"),Nx(e,t),e.o&&e.s&&xx(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.oa,n.L=1,n.v=Aw(Iw(t)),n.s=null,n.S=!0,lw(n,e)}function jx(e){null!=e.v&&(ik.clearTimeout(e.v),e.v=null)}function Mx(e,t){var n=null;if(e.g==t){jx(e),Rx(e),e.g=null;var r=2}else{if(!$w(e.h,t))return;n=t.F,Xw(e.h,t),r=1}if(0!=e.H)if(e.ta=t.aa,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;vb(r=Bb(),new Hb(r,n)),Ax(e)}else Ox(e);else if(3==(i=t.o)||0==i&&0<e.ta||!(1==r&&function(e,t){return!(Qw(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.F.concat(e.i),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Gb(hk(e.Na,e,t),Fx(e,e.C)),e.C++,!0))}(e,t)||2==r&&Dx(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Ux(e,5);break;case 4:Ux(e,10);break;case 3:Ux(e,6);break;default:Ux(e,2)}}function Fx(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.l||(n*=2),n*t}function Ux(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=hk(e.pb,e);n||(n=new xw("//www.google.com/images/cleardot.gif"),ik.location&&"http"==ik.location.protocol||Sw(n,"https"),Aw(n)),function(e,t){var n=new Mb;if(ik.Image){var r=new Image;r.onload=dk(nx,n,r,"TestLoadImage: loaded",!0,t),r.onerror=dk(nx,n,r,"TestLoadImage: error",!1,t),r.onabort=dk(nx,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=dk(nx,n,r,"TestLoadImage: timeout",!1,t),ik.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Wb(2);e.H=0,e.l&&e.l.za(t),Vx(e),Tx(e)}function Vx(e){if(e.H=0,e.pa=[],e.l){var t=Jw(e.h);0==t.length&&0==e.i.length||(gk(e.pa,t),gk(e.pa,e.i),e.h.i.length=0,yk(e.i),e.i.length=0),e.l.ya()}}function Bx(e,t,n){var r=n instanceof xw?Iw(n):new xw(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Ew(r,r.m);else{var i=ik.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new xw(null,void 0);r&&Sw(a,r),t&&(a.g=t),i&&Ew(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&Tw(r,n,t),Tw(r,"VER",e.qa),Nx(e,r),r}function zx(e,t,n){if(t&&!e.I)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new lx(new rx({ob:!0})):new lx(e.va)).Oa(e.I),t}function qx(){}function Kx(){if(Nk&&!(10<=Number(zk)))throw Error("Environmental error: no available transport.")}function Wx(e,t){pb.call(this),this.g=new Sx(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!wk(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!wk(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Qx(this)}function Hx(e){tw.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Gx(){nw.call(this),this.status=1}function Qx(e){this.g=e}function $x(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Yx(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Xx(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(ek=lx.prototype).Oa=function(e){this.M=e},ek.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Zb.g(),this.C=this.u?Xb(this.u):Xb(Zb),this.g.onreadystatechange=hk(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void px(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=_(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=ik.FormData&&e instanceof ik.FormData,!(0<=mk(dx,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,l=_(n);try{for(l.s();!(u=l.n()).done;){var f=c(u.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{gx(this),0<this.B&&((this.L=function(e){return Nk&&Tk(Vk,9,(function(){for(var e=0,t=xk(String(Ak)).split("."),n=xk("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Ik(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Ik(0==a[2].length,0==o[2].length)||Ik(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=hk(this.ua,this)):this.A=Nb(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){px(this,s)}},ek.ua=function(){"undefined"!=typeof rk&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vb(this,"timeout"),this.abort(8))},ek.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,vb(this,"complete"),vb(this,"abort"),yx(this))},ek.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yx(this,!0)),lx.$.N.call(this)},ek.La=function(){this.s||(this.G||this.v||this.l?mx(this):this.kb())},ek.kb=function(){mx(this)},ek.da=function(){try{return 2<kx(this)?this.g.status:-1}catch(Ww){return-1}},ek.ja=function(){try{return this.g?this.g.responseText:""}catch(Ww){return""}},ek.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),cx(t)}},ek.Ia=function(){return this.m},ek.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(ek=Sx.prototype).qa=8,ek.H=1,ek.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new iw(this,this.j,e,void 0),n=this.s;if(this.U&&(n?Jk(n=Yk(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Px(this,t,r),Tw(i=Iw(this.G),"RID",e),Tw(i,"CVER",22),this.F&&Tw(i,"X-HTTP-Session-Id",this.F),Nx(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(wx(n)))+"&"+r:this.o&&xx(i,this.o,n)),Yw(this.h,t),this.bb&&Tw(i,"TYPE","init"),this.P?(Tw(i,"$req",r),Tw(i,"SID","null"),t.ba=!0,cw(t,i,null)):cw(t,i,r),this.H=2}}else 3==this.H&&(e?Cx(this,e):0==this.i.length||Gw(this.h)||Cx(this))},ek.Ma=function(){if(this.u=null,Lx(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var e=2*this.S;this.j.info("BP detection timer enabled: "+e),this.B=Gb(hk(this.jb,this),e)}},ek.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Wb(10),_x(this),Lx(this))},ek.ib=function(){null!=this.v&&(this.v=null,_x(this),Dx(this),Wb(19))},ek.pb=function(e){e?(this.j.info("Successfully pinged google.com"),Wb(2)):(this.j.info("Failed to ping google.com"),Wb(1))},(ek=qx.prototype).Ba=function(){},ek.Aa=function(){},ek.za=function(){},ek.ya=function(){},ek.Va=function(){},Kx.prototype.g=function(e,t){return new Wx(e,t)},pk(Wx,pb),Wx.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var e=this.g,t=this.l,n=this.h||void 0;Wb(0),e.Y=t,e.ma=n||{},e.M=e.aa,e.G=Bx(e,null,e.Y),Ax(e)},Wx.prototype.close=function(){Ex(this.g)},Wx.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=yb(e),e=n);t.i.push(new qw(t.fb++,e)),3==t.H&&Ax(t)},Wx.prototype.N=function(){this.g.l=null,delete this.j,Ex(this.g),delete this.g,Wx.$.N.call(this)},pk(Hx,tw),pk(Gx,nw),pk(Qx,qx),Qx.prototype.Ba=function(){vb(this.g,"a")},Qx.prototype.Aa=function(e){vb(this.g,new Hx(e))},Qx.prototype.za=function(e){vb(this.g,new Gx)},Qx.prototype.ya=function(){vb(this.g,"b")},pk($x,(function(){this.blockSize=-1})),$x.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},$x.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Yx(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Yx(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Yx(this,r),i=0;break}}this.h=i,this.i+=t},$x.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Jx={};function Zx(e){return-128<=e&&128>e?Tk(Jx,e,(function(e){return new Xx([0|e],0>e?-1:0)})):new Xx([0|e],0>e?-1:0)}function eI(e){if(isNaN(e)||!isFinite(e))return nI;if(0>e)return sI(eI(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=tI;return new Xx(t,0)}var tI=4294967296,nI=Zx(0),rI=Zx(1),iI=Zx(16777216);function aI(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function oI(e){return-1==e.h}function sI(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Xx(n,~e.h).add(rI)}function uI(e,t){return e.add(sI(t))}function cI(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function lI(e,t){this.g=e,this.h=t}function fI(e,t){if(aI(t))throw Error("division by zero");if(aI(e))return new lI(nI,nI);if(oI(e))return t=fI(sI(e),t),new lI(sI(t.g),sI(t.h));if(oI(t))return t=fI(e,sI(t)),new lI(sI(t.g),t.h);if(30<e.g.length){if(oI(e)||oI(t))throw Error("slowDivide_ only works with positive integers.");for(var n=rI,r=t;0>=r.X(e);)n=hI(n),r=hI(r);var i=dI(n,1),a=dI(r,1);for(r=dI(r,2),n=dI(n,2);!aI(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=dI(r,1),n=dI(n,1)}return t=uI(e,i.R(t)),new lI(i,t)}for(i=nI;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=eI(n)).R(t);oI(o)||0<o.X(e);)o=(a=eI(n-=r)).R(t);aI(a)&&(a=rI),i=i.add(a),e=uI(e,o)}return new lI(i,e)}function hI(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Xx(n,e.h)}function dI(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Xx(i,e.h)}(ek=Xx.prototype).ea=function(){if(oI(this))return-sI(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:tI+r)*t,t*=tI}return e},ek.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(aI(this))return"0";if(oI(this))return"-"+sI(this).toString(e);for(var t=eI(Math.pow(e,6)),n=this,r="";;){var i=fI(n,t).g,a=((0<(n=uI(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(aI(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},ek.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},ek.X=function(e){return oI(e=uI(this,e))?-1:aI(e)?0:1},ek.abs=function(){return oI(this)?sI(this):this},ek.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Xx(n,-2147483648&n[n.length-1]?-1:0)},ek.R=function(e){if(aI(this)||aI(e))return nI;if(oI(this))return oI(e)?sI(this).R(sI(e)):sI(sI(this).R(e));if(oI(e))return sI(this.R(sI(e)));if(0>this.X(iI)&&0>e.X(iI))return eI(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,cI(n,2*r+2*i),n[2*r+2*i+1]+=a*u,cI(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,cI(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,cI(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Xx(n,0)},ek.gb=function(e){return fI(this,e).h},ek.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Xx(n,this.h&e.h)},ek.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Xx(n,this.h|e.h)},ek.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Xx(n,this.h^e.h)},Kx.prototype.createWebChannel=Kx.prototype.g,Wx.prototype.send=Wx.prototype.u,Wx.prototype.open=Wx.prototype.m,Wx.prototype.close=Wx.prototype.close,Qb.NO_ERROR=0,Qb.TIMEOUT=8,Qb.HTTP_ERROR=6,$b.COMPLETE="complete",Jb.EventType=ew,ew.OPEN="a",ew.CLOSE="b",ew.ERROR="c",ew.MESSAGE="d",pb.prototype.listen=pb.prototype.O,lx.prototype.listenOnce=lx.prototype.P,lx.prototype.getLastError=lx.prototype.Sa,lx.prototype.getLastErrorCode=lx.prototype.Ia,lx.prototype.getStatus=lx.prototype.da,lx.prototype.getResponseJson=lx.prototype.Wa,lx.prototype.getResponseText=lx.prototype.ja,lx.prototype.send=lx.prototype.ha,lx.prototype.setWithCredentials=lx.prototype.Oa,$x.prototype.digest=$x.prototype.l,$x.prototype.reset=$x.prototype.reset,$x.prototype.update=$x.prototype.j,Xx.prototype.add=Xx.prototype.add,Xx.prototype.multiply=Xx.prototype.R,Xx.prototype.modulo=Xx.prototype.gb,Xx.prototype.compare=Xx.prototype.X,Xx.prototype.toNumber=Xx.prototype.ea,Xx.prototype.toString=Xx.prototype.toString,Xx.prototype.getBits=Xx.prototype.D,Xx.fromNumber=eI,Xx.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return sI(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=eI(Math.pow(n,8)),i=nI,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=eI(Math.pow(n,o)),i=i.R(o).add(eI(s))):i=(i=i.R(r)).add(eI(s))}return i};var pI=nk.createWebChannelTransport=function(){return new Kx},vI=nk.getStatEventTarget=function(){return Bb()},mI=nk.ErrorCode=Qb,yI=nk.EventType=$b,gI=nk.Event=Ub,kI=nk.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},bI=nk.FetchXmlHttpFactory=rx,wI=nk.WebChannel=Jb,xI=nk.XhrIo=lx,II=nk.Md5=$x,SI=nk.Integer=Xx,EI="@firebase/firestore",_I=function(){function e(t){h(this,e),this.uid=t}return m(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();_I.UNAUTHENTICATED=new _I(null),_I.GOOGLE_CREDENTIALS=new _I("google-credentials-uid"),_I.FIRST_PARTY=new _I("first-party-uid"),_I.MOCK_USER=new _I("mock-user");var TI="9.21.0",AI=new fa("@firebase/firestore");function CI(){return AI.logLevel}function NI(e){if(AI.logLevel<=ia.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(DI);AI.debug.apply(AI,["Firestore (".concat(TI,"): ").concat(e)].concat(f(i)))}}function PI(e){if(AI.logLevel<=ia.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(DI);AI.error.apply(AI,["Firestore (".concat(TI,"): ").concat(e)].concat(f(i)))}}function OI(e){if(AI.logLevel<=ia.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(DI);AI.warn.apply(AI,["Firestore (".concat(TI,"): ").concat(e)].concat(f(i)))}}function DI(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function RI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(TI,") INTERNAL ASSERTION FAILED: ")+e;throw PI(t),new Error(t)}function LI(e,t){e||RI()}function jI(e,t){return e}var MI={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},FI=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return m(n)}(Mi),UI=m((function e(){var t=this;h(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),VI=m((function e(t,n){h(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),BI=function(){function e(){h(this,e)}return m(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(_I.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),zI=function(){function e(t){h(this,e),this.token=t,this.changeListener=null}return m(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),qI=function(){function e(t){h(this,e),this.t=t,this.currentUser=_I.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return m(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new UI;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new UI,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Zi(Xi().mark((function e(){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){NI("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(NI("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new UI)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(NI("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(LI("string"==typeof n.accessToken),new VI(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return LI(null===e||"string"==typeof e),new _I(e)}}]),e}(),KI=function(){function e(t,n,r){h(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=_I.FIRST_PARTY,this.g=new Map}return m(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),WI=function(){function e(t,n,r){h(this,e),this.h=t,this.l=n,this.m=r}return m(e,[{key:"getToken",value:function(){return Promise.resolve(new KI(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(_I.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),HI=m((function e(t){h(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),GI=function(){function e(t){h(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return m(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&NI("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,NI("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){NI("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):NI("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(LI("string"==typeof t.token),e.T=t.token,new HI(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function QI(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var $I=function(){function e(){h(this,e)}return m(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=QI(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function YI(e,t){return e<t?-1:e>t?1:0}function XI(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function JI(e){return e+"\0"}var ZI=function(){function e(t,n){if(h(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new FI(MI.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new FI(MI.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new FI(MI.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new FI(MI.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return m(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?YI(this.nanoseconds,e.nanoseconds):YI(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),eS=function(){function e(t){h(this,e),this.timestamp=t}return m(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new ZI(0,0))}},{key:"max",value:function(){return new e(new ZI(253402300799,999999999))}}]),e}(),tS=function(){function e(t,n,r){h(this,e),void 0===n?n=0:n>t.length&&RI(),void 0===r?r=t.length-n:r>t.length-n&&RI(),this.segments=t,this.offset=n,this.len=r}return m(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),nS=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new FI(MI.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,f(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(tS),rS=/^[_a-zA-Z][_a-zA-Z0-9]*$/,iS=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return rS.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new FI(MI.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new FI(MI.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new FI(MI.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new FI(MI.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(tS),aS=function(){function e(t){h(this,e),this.path=t}return m(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===nS.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(nS.fromString(t))}},{key:"fromName",value:function(t){return new e(nS.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(nS.emptyPath())}},{key:"comparator",value:function(e,t){return nS.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new nS(t.slice()))}}]),e}(),oS=m((function e(t,n,r,i){h(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function sS(e){return e.fields.find((function(e){return 2===e.kind}))}function uS(e){return e.fields.filter((function(e){return 2!==e.kind}))}oS.UNKNOWN_ID=-1;var cS=m((function e(t,n){h(this,e),this.fieldPath=t,this.kind=n}));var lS=function(){function e(t,n){h(this,e),this.sequenceNumber=t,this.offset=n}return m(e,null,[{key:"empty",value:function(){return new e(0,dS.min())}}]),e}();function fS(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=eS.fromTimestamp(1e9===r?new ZI(n+1,0):new ZI(n,r));return new dS(i,aS.empty(),t)}function hS(e){return new dS(e.readTime,e.key,-1)}var dS=function(){function e(t,n,r){h(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return m(e,null,[{key:"min",value:function(){return new e(eS.min(),aS.empty(),-1)}},{key:"max",value:function(){return new e(eS.max(),aS.empty(),-1)}}]),e}();function pS(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=aS.comparator(e.documentKey,t.documentKey))?n:YI(e.largestBatchId,t.largestBatchId)}var vS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",mS=function(){function e(){h(this,e),this.onCommittedListeners=[]}return m(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function yS(e){return gS.apply(this,arguments)}function gS(){return(gS=Zi(Xi().mark((function e(t){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===MI.FAILED_PRECONDITION&&t.message===vS){e.next=2;break}throw t;case 2:NI("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var kS=function(){function e(t){var n=this;h(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return m(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&RI(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=_(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),bS=function(){function e(t,n){var r=this;h(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.R=new UI,this.transaction.oncomplete=function(){r.R.resolve()},this.transaction.onabort=function(){n.error?r.R.reject(new IS(t,n.error)):r.R.resolve()},this.transaction.onerror=function(e){var n=AS(e.target.error);r.R.reject(new IS(t,n))}}return m(e,[{key:"v",get:function(){return this.R.promise}},{key:"abort",value:function(e){e&&this.R.reject(e),this.aborted||(NI("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new ES(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new IS(n,t)}}}]),e}(),wS=function(){function e(t,n,r){h(this,e),this.name=t,this.version=n,this.V=r,12.2===e.S(Pi())&&PI("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return m(e,[{key:"O",value:function(){var e=Zi(Xi().mark((function e(t){var n=this;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return NI("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new IS(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new FI(MI.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new FI(MI.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new IS(t,n))},i.onupgradeneeded=function(e){NI("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.$(t,i.transaction,e.oldVersion,n.version).next((function(){NI("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Zi(Xi().mark((function e(t,n,r,i){var a,o,s,u,c=this;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,s=Xi().mark((function e(){var n,s,u,l;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.O(t);case 4:return c.db=e.sent,n=bS.open(c.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.P(),e})).catch((function(e){return n.abort(e),kS.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.v;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),u=e.t1,l="FirebaseError"!==u.name&&o<3,NI("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(u)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if("object"!==typeof(u=e.t0)){e.next=7;break}return e.abrupt("return",u.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return NI("SimpleDb","Removing database:",e),_S(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!ji())return!1;if(e.C())return!0;var t=Pi(),n=e.S(t),r=0<n&&n<10,i=e.N(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/testrelodfix",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),xS=function(){function e(t){h(this,e),this.L=t,this.q=!1,this.U=null}return m(e,[{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}},{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return _S(this.L.delete())}}]),e}(),IS=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,MI.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return m(n)}(FI);function SS(e){return"IndexedDbTransactionError"===e.name}var ES=function(){function e(t){h(this,e),this.store=t}return m(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(NI("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(NI("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),_S(n)}},{key:"add",value:function(e){return NI("SimpleDb","ADD",this.store.name,e,e),_S(this.store.add(e))}},{key:"get",value:function(e){var t=this;return _S(this.store.get(e)).next((function(n){return void 0===n&&(n=null),NI("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return NI("SimpleDb","DELETE",this.store.name,e),_S(this.store.delete(e))}},{key:"count",value:function(){return NI("SimpleDb","COUNT",this.store.name),_S(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new kS((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new kS((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){NI("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new kS((function(n,r){t.onerror=function(e){var t=AS(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"W",value:function(e,t){var n=[];return new kS((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new xS(i),o=t(i.primaryKey,i.value,a);if(o instanceof kS){var s=o.catch((function(e){return a.done(),kS.reject(e)}));n.push(s)}a.isDone?r():null===a.K?i.continue():i.continue(a.K)}else r()}})).next((function(){return kS.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function _S(e){return new kS((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=AS(e.target.error);n(t)}}))}var TS=!1;function AS(e){var t=wS.S(Pi());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new FI("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return TS||(TS=!0,setTimeout((function(){throw r}),0)),r}}return e}var CS=function(){function e(t,n){h(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return m(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"et",value:function(e){var t=this;NI("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Zi(Xi().mark((function e(){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=NI,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!SS(e.t4)){e.next=17;break}NI("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,yS(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),NS=function(){function e(t,n){h(this,e),this.localStore=t,this.persistence=n}return m(e,[{key:"nt",value:function(){var e=Zi(Xi().mark((function e(){var t,n=this,r=arguments;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.st(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return kS.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return NI("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.rt(i,n)})).next((function(n){return NI("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=hS(t);pS(r,n)>0&&(n=r)})),new dS(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),PS=function(){function e(t,n){var r=this;h(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return m(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function OS(e){return null==e}function DS(e){return 0===e&&1/e==-1/0}function RS(e){return"number"==typeof e&&Number.isInteger(e)&&!DS(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function LS(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=MS(t)),t=jS(e.get(n),t);return MS(t)}function jS(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function MS(e){return e+"\x01\x01"}function FS(e){var t=e.length;if(LI(t>=2),2===t)return LI("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),nS.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&RI(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:RI()}a=o+2}return new nS(r)}PS.ct=-1;var US=["userId","batchId"];function VS(e,t){return[e,LS(t)]}function BS(e,t,n){return[e,LS(t),n]}var zS={},qS=["prefixPath","collectionGroup","readTime","documentId"],KS=["prefixPath","collectionGroup","documentId"],WS=["collectionGroup","readTime","prefixPath","documentId"],HS=["canonicalId","targetId"],GS=["targetId","path"],QS=["path","targetId"],$S=["collectionId","parent"],YS=["indexId","uid"],XS=["uid","sequenceNumber"],JS=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ZS=["indexId","uid","orderedDocumentKey"],eE=["userId","collectionPath","documentId"],tE=["userId","collectionPath","largestBatchId"],nE=["userId","collectionGroup","largestBatchId"],rE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),iE=[].concat(f(rE),["documentOverlays"]),aE=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],oE=aE,sE=[].concat(oE,["indexConfiguration","indexState","indexEntries"]),uE=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).at=e,i.currentSequenceNumber=r,i}return m(n)}(mS);function cE(e,t){var n=jI(e);return wS.M(n.at,t)}function lE(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function fE(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function hE(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var dE=function(){function e(t,n){h(this,e),this.comparator=t,this.root=n||vE.EMPTY}return m(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,vE.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,vE.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new pE(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new pE(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new pE(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new pE(this.root,e,this.comparator,!0)}}]),e}(),pE=function(){function e(t,n,r,i){h(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return m(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),vE=function(){function e(t,n,r,i,a){h(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return m(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw RI();if(this.right.isRed())throw RI();var e=this.left.check();if(e!==this.right.check())throw RI();return e+(this.isRed()?0:1)}}]),e}();vE.EMPTY=null,vE.RED=!0,vE.BLACK=!1,vE.EMPTY=new(function(){function e(){h(this,e),this.size=0}return m(e,[{key:"key",get:function(){throw RI()}},{key:"value",get:function(){throw RI()}},{key:"color",get:function(){throw RI()}},{key:"left",get:function(){throw RI()}},{key:"right",get:function(){throw RI()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new vE(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var mE=function(){function e(t){h(this,e),this.comparator=t,this.data=new dE(this.comparator)}return m(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new yE(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new yE(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),yE=function(){function e(t){h(this,e),this.iter=t}return m(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function gE(e){return e.hasNext()?e.getNext():void 0}var kE=function(){function e(t){h(this,e),this.fields=t,t.sort(iS.comparator)}return m(e,[{key:"unionWith",value:function(t){var n,r=new mE(iS.comparator),i=_(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=_(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=_(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return XI(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),bE=function(e){g(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return m(n)}(S(Error));var wE=function(e){function t(e){h(this,t),this.binaryString=e}return m(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return YI(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new bE("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();wE.EMPTY_BYTE_STRING=new wE("");var xE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function IE(e){if(LI(!!e),"string"==typeof e){var t=0,n=xE.exec(e);if(LI(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:SE(e.seconds),nanos:SE(e.nanos)}}function SE(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function EE(e){return"string"==typeof e?wE.fromBase64String(e):wE.fromUint8Array(e)}function _E(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function TE(e){var t=e.mapValue.fields.__previous_value__;return _E(t)?TE(t):t}function AE(e){var t=IE(e.mapValue.fields.__local_write_time__.timestampValue);return new ZI(t.seconds,t.nanos)}var CE=m((function e(t,n,r,i,a,o,s,u){h(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),NE=function(){function e(t,n){h(this,e),this.projectId=t,this.database=n||"(default)"}return m(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),PE={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},OE={nullValue:"NULL_VALUE"};function DE(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?_E(e)?4:GE(e)?9007199254740991:10:RI()}function RE(e,t){if(e===t)return!0;var n=DE(e);if(n!==DE(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return AE(e).isEqual(AE(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=IE(e.timestampValue),r=IE(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return EE(e.bytesValue).isEqual(EE(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return SE(e.geoPointValue.latitude)===SE(t.geoPointValue.latitude)&&SE(e.geoPointValue.longitude)===SE(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return SE(e.integerValue)===SE(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=SE(e.doubleValue),r=SE(t.doubleValue);return n===r?DS(n)===DS(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return XI(e.arrayValue.values||[],t.arrayValue.values||[],RE);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(lE(n)!==lE(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!RE(n[i],r[i])))return!1;return!0}(e,t);default:return RI()}}function LE(e,t){return void 0!==(e.values||[]).find((function(e){return RE(e,t)}))}function jE(e,t){if(e===t)return 0;var n=DE(e),r=DE(t);if(n!==r)return YI(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return YI(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=SE(e.integerValue||e.doubleValue),r=SE(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ME(e.timestampValue,t.timestampValue);case 4:return ME(AE(e),AE(t));case 5:return YI(e.stringValue,t.stringValue);case 6:return function(e,t){var n=EE(e),r=EE(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=YI(n[i],r[i]);if(0!==a)return a}return YI(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=YI(SE(e.latitude),SE(t.latitude));return 0!==n?n:YI(SE(e.longitude),SE(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=jE(n[i],r[i]);if(a)return a}return YI(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===PE.mapValue&&t===PE.mapValue)return 0;if(e===PE.mapValue)return 1;if(t===PE.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=YI(r[o],a[o]);if(0!==s)return s;var u=jE(n[r[o]],i[a[o]]);if(0!==u)return u}return YI(r.length,a.length)}(e.mapValue,t.mapValue);default:throw RI()}}function ME(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return YI(e,t);var n=IE(e),r=IE(t),i=YI(n.seconds,r.seconds);return 0!==i?i:YI(n.nanos,r.nanos)}function FE(e){return UE(e)}function UE(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=IE(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?EE(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,aS.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=_(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=UE(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=_(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(UE(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):RI();var t,n}function VE(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function BE(e){return!!e&&"integerValue"in e}function zE(e){return!!e&&"arrayValue"in e}function qE(e){return!!e&&"nullValue"in e}function KE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function WE(e){return!!e&&"mapValue"in e}function HE(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return fE(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=HE(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=HE(e.arrayValue.values[r]);return n}return Object.assign({},e)}function GE(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function QE(e){return"nullValue"in e?OE:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?VE(NE.empty(),aS.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:RI()}function $E(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?VE(NE.empty(),aS.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?PE:RI()}function YE(e,t){var n=jE(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function XE(e,t){var n=jE(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var JE=function(){function e(t){h(this,e),this.value=t}return m(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!WE(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=HE(t)}},{key:"setAll",value:function(e){var t=this,n=iS.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=HE(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());WE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return RE(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];WE(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){fE(t,(function(t,n){return e[t]=n}));var r,i=_(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(HE(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function ZE(e){var t=[];return fE(e.fields,(function(e,n){var r=new iS([e]);if(WE(n)){var i=ZE(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=_(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new kE(t)}var e_=function(){function e(t,n,r,i,a,o,s){h(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return m(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(eS.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=JE.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=JE.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=eS.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,eS.min(),eS.min(),eS.min(),JE.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,eS.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,eS.min(),eS.min(),JE.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,eS.min(),eS.min(),JE.empty(),2)}}]),e}(),t_=m((function e(t,n){h(this,e),this.position=t,this.inclusive=n}));function n_(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?aS.comparator(aS.fromName(o.referenceValue),n.key):jE(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function r_(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!RE(e.position[n],t.position[n]))return!1;return!0}var i_=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";h(this,e),this.field=t,this.dir=n}));function a_(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var o_=m((function e(){h(this,e)})),s_=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(jE(t,this.value)):null!==t&&DE(this.value)===DE(t)&&this.matchesComparison(jE(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return RI()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new y_(e,t,r):"array-contains"===t?new w_(e,r):"in"===t?new x_(e,r):"not-in"===t?new I_(e,r):"array-contains-any"===t?new S_(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new g_(e,n):new k_(e,n)}}]),n}(o_),u_=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return m(n,[{key:"matches",value:function(e){return c_(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=_(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(o_);function c_(e){return"and"===e.op}function l_(e){return"or"===e.op}function f_(e){return h_(e)&&c_(e)}function h_(e){var t,n=_(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof u_)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function d_(e){if(e instanceof s_)return e.field.canonicalString()+e.op.toString()+FE(e.value);if(f_(e))return e.filters.map((function(e){return d_(e)})).join(",");var t=e.filters.map((function(e){return d_(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function p_(e,t){return e instanceof s_?function(e,t){return t instanceof s_&&e.op===t.op&&e.field.isEqual(t.field)&&RE(e.value,t.value)}(e,t):e instanceof u_?function(e,t){return t instanceof u_&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&p_(n,t.filters[r])}),!0)}(e,t):void RI()}function v_(e,t){var n=e.filters.concat(t);return u_.create(n,e.op)}function m_(e){return e instanceof s_?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(FE(e.value))}(e):e instanceof u_?function(e){return e.op.toString()+" {"+e.getFilters().map(m_).join(" ,")+"}"}(e):"Filter"}var y_=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,i)).key=aS.fromName(i.referenceValue),a}return m(n,[{key:"matches",value:function(e){var t=aS.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(s_),g_=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"in",r)).keys=b_("in",r),i}return m(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(s_),k_=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"not-in",r)).keys=b_("not-in",r),i}return m(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(s_);function b_(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return aS.fromName(e.referenceValue)}))}var w_=function(e){g(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains",r)}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return zE(t)&&LE(t.arrayValue,this.value)}}]),n}(s_),x_=function(e){g(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"in",r)}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&LE(this.value.arrayValue,t)}}]),n}(s_),I_=function(e){g(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"not-in",r)}return m(n,[{key:"matches",value:function(e){if(LE(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!LE(this.value.arrayValue,t)}}]),n}(s_),S_=function(e){g(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains-any",r)}return m(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!zE(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return LE(t.value.arrayValue,e)}))}}]),n}(s_),E_=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;h(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ft=null}));function __(e){return new E_(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function T_(e){var t=jI(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return d_(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),OS(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return FE(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return FE(e)})).join(",")),t.ft=n}return t.ft}function A_(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!a_(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!p_(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!r_(e.startAt,t.startAt)&&r_(e.endAt,t.endAt)}function C_(e){return aS.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function N_(e,t){return e.filters.filter((function(e){return e instanceof s_&&e.field.isEqual(t)}))}function P_(e,t,n){var r,i=OE,a=!0,o=_(N_(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=OE,c=!0;switch(s.op){case"<":case"<=":u=QE(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=OE}YE({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];YE({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function O_(e,t,n){var r,i=PE,a=!0,o=_(N_(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=PE,c=!0;switch(s.op){case">=":case">":u=$E(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=PE}XE({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];XE({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var D_=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;h(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.dt=null,this._t=null,this.startAt,this.endAt}));function R_(e,t,n,r,i,a,o,s){return new D_(e,t,n,r,i,a,o,s)}function L_(e){return new D_(e)}function j_(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function M_(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function F_(e){var t,n=_(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function U_(e){return null!==e.collectionGroup}function V_(e){var t=jI(e);if(null===t.dt){t.dt=[];var n=F_(t),r=M_(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new i_(n)),t.dt.push(new i_(iS.keyField(),"asc"));else{var i,a=!1,o=_(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.dt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new i_(iS.keyField(),u))}}}return t.dt}function B_(e){var t=jI(e);if(!t._t)if("F"===t.limitType)t._t=__(t.path,t.collectionGroup,V_(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=_(V_(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new i_(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new t_(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new t_(t.startAt.position,t.startAt.inclusive):null;t._t=__(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function z_(e,t){t.getFirstInequalityField(),F_(e);var n=e.filters.concat([t]);return new D_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function q_(e,t,n){return new D_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function K_(e,t){return A_(B_(e),B_(t))&&e.limitType===t.limitType}function W_(e){return"".concat(T_(B_(e)),"|lt:").concat(e.limitType)}function H_(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return m_(e)})).join(", "),"]")),OS(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return FE(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return FE(e)})).join(",")),"Target(".concat(t,")")}(B_(e)),"; limitType=").concat(e.limitType,")")}function G_(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):aS.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=_(V_(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=_(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=n_(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,V_(e),t))&&!(e.endAt&&!function(e,t,n){var r=n_(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,V_(e),t))}(e,t)}function Q_(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function $_(e){return function(t,n){var r,i=!1,a=_(V_(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Y_(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Y_(e,t,n){var r=e.field.isKeyField()?aS.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?jE(r,i):RI()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return RI()}}var X_=function(){function e(t,n){h(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return m(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=_(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){fE(this.inner,(function(t,n){var r,i=_(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return hE(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),J_=new dE(aS.comparator);function Z_(){return J_}var eT=new dE(aS.comparator);function tT(){for(var e=eT,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function nT(e){var t=eT;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function rT(){return aT()}function iT(){return aT()}function aT(){return new X_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var oT=new dE(aS.comparator),sT=new mE(aS.comparator);function uT(){for(var e=sT,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var cT=new mE(YI);function lT(){return cT}function fT(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:DS(t)?"-0":t}}function hT(e){return{integerValue:""+e}}function dT(e,t){return RS(t)?hT(t):fT(e,t)}var pT=m((function e(){h(this,e),this._=void 0}));function vT(e,t,n){return e instanceof gT?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&_E(t)&&(t=TE(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof kT?bT(e,t):e instanceof wT?xT(e,t):function(e,t){var n=yT(e,t),r=ST(n)+ST(e.wt);return BE(n)&&BE(e.wt)?hT(r):fT(e.serializer,r)}(e,t)}function mT(e,t,n){return e instanceof kT?bT(e,t):e instanceof wT?xT(e,t):n}function yT(e,t){return e instanceof IT?BE(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var gT=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n)}(pT),kT=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return m(n)}(pT);function bT(e,t){var n,r=ET(t),i=_(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return RE(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var wT=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return m(n)}(pT);function xT(e,t){var n,r=ET(t),i=_(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!RE(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var IT=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).serializer=e,i.wt=r,i}return m(n)}(pT);function ST(e){return SE(e.integerValue||e.doubleValue)}function ET(e){return zE(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var _T=m((function e(t,n){h(this,e),this.field=t,this.transform=n}));var TT=m((function e(t,n){h(this,e),this.version=t,this.transformResults=n})),AT=function(){function e(t,n){h(this,e),this.updateTime=t,this.exists=n}return m(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function CT(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var NT=m((function e(){h(this,e)}));function PT(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new qT(e.key,AT.none()):new jT(e.key,e.data,AT.none());var n,r=e.data,i=JE.empty(),a=new mE(iS.comparator),o=_(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new MT(e.key,i,new kE(a.toArray()),AT.none())}function OT(e,t,n){e instanceof jT?function(e,t,n){var r=e.value.clone(),i=UT(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof MT?function(e,t,n){if(CT(e.precondition,t)){var r=UT(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(FT(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function DT(e,t,n,r){return e instanceof jT?function(e,t,n,r){if(!CT(e.precondition,t))return n;var i=e.value.clone(),a=VT(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof MT?function(e,t,n,r){if(!CT(e.precondition,t))return n;var i=VT(e.fieldTransforms,r,t),a=t.data;return a.setAll(FT(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return CT(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function RT(e,t){var n,r=null,i=_(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=yT(a.transform,o||null);null!=s&&(null===r&&(r=JE.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function LT(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&XI(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof kT&&t instanceof kT||e instanceof wT&&t instanceof wT?XI(e.elements,t.elements,RE):e instanceof IT&&t instanceof IT?RE(e.wt,t.wt):e instanceof gT&&t instanceof gT}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var jT=function(e){g(n,e);var t=x(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return h(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(NT),MT=function(e){g(n,e);var t=x(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return h(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return m(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(NT);function FT(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function UT(e,t,n){var r=new Map;LI(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,mT(o,s,n[i]))}return r}function VT(e,t,n){var r,i=new Map,a=_(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,vT(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var BT,zT,qT=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(NT),KT=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(NT),WT=function(){function e(t,n,r,i){h(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return m(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&OT(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=_(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=DT(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=_(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=DT(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=iT();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=PT(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(eS.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),uT())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&XI(this.mutations,e.mutations,(function(e,t){return LT(e,t)}))&&XI(this.baseMutations,e.baseMutations,(function(e,t){return LT(e,t)}))}}]),e}(),HT=function(){function e(t,n,r,i){h(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return m(e,null,[{key:"from",value:function(t,n,r){LI(t.mutations.length===r.length);for(var i=oT,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),GT=function(){function e(t,n){h(this,e),this.largestBatchId=t,this.mutation=n}return m(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),QT=m((function e(t,n){h(this,e),this.count=t,this.unchangedNames=n}));function $T(e){switch(e){default:return RI();case MI.CANCELLED:case MI.UNKNOWN:case MI.DEADLINE_EXCEEDED:case MI.RESOURCE_EXHAUSTED:case MI.INTERNAL:case MI.UNAVAILABLE:case MI.UNAUTHENTICATED:return!1;case MI.INVALID_ARGUMENT:case MI.NOT_FOUND:case MI.ALREADY_EXISTS:case MI.PERMISSION_DENIED:case MI.FAILED_PRECONDITION:case MI.ABORTED:case MI.OUT_OF_RANGE:case MI.UNIMPLEMENTED:case MI.DATA_LOSS:return!0}}function YT(e){if(void 0===e)return PI("GRPC error has no .code"),MI.UNKNOWN;switch(e){case BT.OK:return MI.OK;case BT.CANCELLED:return MI.CANCELLED;case BT.UNKNOWN:return MI.UNKNOWN;case BT.DEADLINE_EXCEEDED:return MI.DEADLINE_EXCEEDED;case BT.RESOURCE_EXHAUSTED:return MI.RESOURCE_EXHAUSTED;case BT.INTERNAL:return MI.INTERNAL;case BT.UNAVAILABLE:return MI.UNAVAILABLE;case BT.UNAUTHENTICATED:return MI.UNAUTHENTICATED;case BT.INVALID_ARGUMENT:return MI.INVALID_ARGUMENT;case BT.NOT_FOUND:return MI.NOT_FOUND;case BT.ALREADY_EXISTS:return MI.ALREADY_EXISTS;case BT.PERMISSION_DENIED:return MI.PERMISSION_DENIED;case BT.FAILED_PRECONDITION:return MI.FAILED_PRECONDITION;case BT.ABORTED:return MI.ABORTED;case BT.OUT_OF_RANGE:return MI.OUT_OF_RANGE;case BT.UNIMPLEMENTED:return MI.UNIMPLEMENTED;case BT.DATA_LOSS:return MI.DATA_LOSS;default:return RI()}}(zT=BT||(BT={}))[zT.OK=0]="OK",zT[zT.CANCELLED=1]="CANCELLED",zT[zT.UNKNOWN=2]="UNKNOWN",zT[zT.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zT[zT.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zT[zT.NOT_FOUND=5]="NOT_FOUND",zT[zT.ALREADY_EXISTS=6]="ALREADY_EXISTS",zT[zT.PERMISSION_DENIED=7]="PERMISSION_DENIED",zT[zT.UNAUTHENTICATED=16]="UNAUTHENTICATED",zT[zT.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zT[zT.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zT[zT.ABORTED=10]="ABORTED",zT[zT.OUT_OF_RANGE=11]="OUT_OF_RANGE",zT[zT.UNIMPLEMENTED=12]="UNIMPLEMENTED",zT[zT.INTERNAL=13]="INTERNAL",zT[zT.UNAVAILABLE=14]="UNAVAILABLE",zT[zT.DATA_LOSS=15]="DATA_LOSS";var XT=function(){function e(){h(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return m(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return JT}},{key:"getOrCreateInstance",value:function(){return null===JT&&(JT=new e),JT}}]),e}(),JT=null;function ZT(){return new TextEncoder}var eA=new SI([4294967295,4294967295],0);function tA(e){var t=ZT().encode(e),n=new II;return n.update(t),new Uint8Array(n.digest())}function nA(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new SI([n,r],0),new SI([i,a],0)]}var rA=function(){function e(t,n,r){if(h(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new iA("Invalid padding: ".concat(n));if(r<0)throw new iA("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new iA("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new iA("Invalid padding when bitmap length is 0: ".concat(n));this.yt=8*t.length-n,this.It=SI.fromNumber(this.yt)}return m(e,[{key:"Tt",value:function(e,t,n){var r=e.add(t.multiply(SI.fromNumber(n)));return 1===r.compare(eA)&&(r=new SI([r.getBits(0),r.getBits(1)],0)),r.modulo(this.It).toNumber()}},{key:"Et",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"At",value:function(e){if(0===this.yt)return!1;for(var t=c(nA(tA(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Tt(n,r,i);if(!this.Et(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.yt)for(var t=c(nA(tA(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Tt(n,r,i);this.Rt(a)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),iA=function(e){g(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return m(n)}(S(Error)),aA=function(){function e(t,n,r,i,a){h(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return m(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,oA.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(eS.min(),i,new dE(YI),Z_(),uT())}}]),e}(),oA=function(){function e(t,n,r,i,a){h(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return m(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,uT(),uT(),uT())}}]),e}(),sA=m((function e(t,n,r,i){h(this,e),this.vt=t,this.removedTargetIds=n,this.key=r,this.Pt=i})),uA=m((function e(t,n){h(this,e),this.targetId=t,this.bt=n})),cA=m((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wE.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;h(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),lA=function(){function e(){h(this,e),this.Vt=0,this.St=dA(),this.Dt=wE.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}return m(e,[{key:"current",get:function(){return this.Ct}},{key:"resumeToken",get:function(){return this.Dt}},{key:"Nt",get:function(){return 0!==this.Vt}},{key:"kt",get:function(){return this.xt}},{key:"Mt",value:function(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}},{key:"Ot",value:function(){var e=uT(),t=uT(),n=uT();return this.St.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:RI()}})),new oA(this.Dt,this.Ct,e,t,n)}},{key:"$t",value:function(){this.xt=!1,this.St=dA()}},{key:"Ft",value:function(e,t){this.xt=!0,this.St=this.St.insert(e,t)}},{key:"Bt",value:function(e){this.xt=!0,this.St=this.St.remove(e)}},{key:"Lt",value:function(){this.Vt+=1}},{key:"qt",value:function(){this.Vt-=1}},{key:"Ut",value:function(){this.xt=!0,this.Ct=!0}}]),e}(),fA=function(){function e(t){h(this,e),this.Kt=t,this.Gt=new Map,this.Qt=Z_(),this.jt=hA(),this.zt=new dE(YI)}return m(e,[{key:"Wt",value:function(e){var t,n=_(e.vt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Pt&&e.Pt.isFoundDocument()?this.Ht(r,e.Pt):this.Jt(r,e.key,e.Pt)}}catch(s){n.e(s)}finally{n.f()}var i,a=_(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Jt(o,e.key,e.Pt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Yt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Xt(n);switch(e.state){case 0:t.Zt(n)&&r.Mt(e.resumeToken);break;case 1:r.qt(),r.Nt||r.$t(),r.Mt(e.resumeToken);break;case 2:r.qt(),r.Nt||t.removeTarget(n);break;case 3:t.Zt(n)&&(r.Ut(),r.Mt(e.resumeToken));break;case 4:t.Zt(n)&&(t.te(n),r.Mt(e.resumeToken));break;default:RI()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((function(e,r){n.Zt(r)&&t(r)}))}},{key:"ee",value:function(e){var t,n=e.targetId,r=e.bt.count,i=this.ne(n);if(i){var a=i.target;if(C_(a))if(0===r){var o=new aS(a.path);this.Jt(n,o,e_.newNoDocument(o,eS.min()))}else LI(1===r);else{var s=this.se(n);if(s!==r){var u=this.ie(e,s);if(0!==u){this.te(n);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.zt=this.zt.insert(n,c)}null===(t=XT.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,s,u,c={localCacheCount:t,existenceFilterCount:n.count},l=n.unchangedNames;return l&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==l?void 0:l.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(u=null===(s=null==l?void 0:l.bits)||void 0===s?void 0:s.padding)&&void 0!==u?u:0}),c}(u,s,e.bt))}}}}},{key:"ie",value:function(e,t){var n=e.bt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var a,o,s=r.bits,u=s.bitmap,c=void 0===u?"":u,l=s.padding,f=void 0===l?0:l,h=r.hashCount,d=void 0===h?0:h;try{a=EE(c).toUint8Array()}catch(e){if(e instanceof bE)return OI("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{o=new rA(a,f,d)}catch(e){return OI(e instanceof iA?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===o.yt?1:i!==t-this.re(e.targetId,o)?2:0}},{key:"re",value:function(e,t){var n=this,r=this.Kt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var a=n.Kt.oe(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());t.At(o)||(n.Jt(e,r,null),i++)})),i}},{key:"ue",value:function(e){var t=this,n=new Map;this.Gt.forEach((function(r,i){var a=t.ne(i);if(a){if(r.current&&C_(a.target)){var o=new aS(a.target.path);null!==t.Qt.get(o)||t.ce(i,o)||t.Jt(i,o,e_.newNoDocument(o,e))}r.kt&&(n.set(i,r.Ot()),r.$t())}}));var r=uT();this.jt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ne(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Qt.forEach((function(t,n){return n.setReadTime(e)}));var i=new aA(e,n,this.zt,this.Qt,r);return this.Qt=Z_(),this.jt=hA(),this.zt=new dE(YI),i}},{key:"Ht",value:function(e,t){if(this.Zt(e)){var n=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,n),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}}},{key:"Jt",value:function(e,t,n){if(this.Zt(e)){var r=this.Xt(e);this.ce(e,t)?r.Ft(t,1):r.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),n&&(this.Qt=this.Qt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Gt.delete(e)}},{key:"se",value:function(e){var t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Lt",value:function(e){this.Xt(e).Lt()}},{key:"Xt",value:function(e){var t=this.Gt.get(e);return t||(t=new lA,this.Gt.set(e,t)),t}},{key:"ae",value:function(e){var t=this.jt.get(e);return t||(t=new mE(YI),this.jt=this.jt.insert(e,t)),t}},{key:"Zt",value:function(e){var t=null!==this.ne(e);return t||NI("WatchChangeAggregator","Detected inactive target",e),t}},{key:"ne",value:function(e){var t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}},{key:"te",value:function(e){var t=this;this.Gt.set(e,new lA),this.Kt.getRemoteKeysForTarget(e).forEach((function(n){t.Jt(e,n,null)}))}},{key:"ce",value:function(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}]),e}();function hA(){return new dE(aS.comparator)}function dA(){return new dE(aS.comparator)}var pA={asc:"ASCENDING",desc:"DESCENDING"},vA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mA={and:"AND",or:"OR"},yA=m((function e(t,n){h(this,e),this.databaseId=t,this.useProto3Json=n}));function gA(e,t){return e.useProto3Json||OS(t)?t:{value:t}}function kA(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function bA(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function wA(e,t){return kA(e,t.toTimestamp())}function xA(e){return LI(!!e),eS.fromTimestamp(function(e){var t=IE(e);return new ZI(t.seconds,t.nanos)}(e))}function IA(e,t){return function(e){return new nS(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function SA(e){var t=nS.fromString(e);return LI(GA(t)),t}function EA(e,t){return IA(e.databaseId,t.path)}function _A(e,t){var n=SA(t);if(n.get(1)!==e.databaseId.projectId)throw new FI(MI.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new FI(MI.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new aS(NA(n))}function TA(e,t){return IA(e.databaseId,t)}function AA(e){var t=SA(e);return 4===t.length?nS.emptyPath():NA(t)}function CA(e){return new nS(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function NA(e){return LI(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function PA(e,t,n){return{name:EA(e,t),fields:n.value.mapValue.fields}}function OA(e,t,n){var r=_A(e,t.name),i=xA(t.updateTime),a=t.createTime?xA(t.createTime):eS.min(),o=new JE({mapValue:{fields:t.fields}}),s=e_.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function DA(e,t){return"found"in t?function(e,t){LI(!!t.found),t.found.name,t.found.updateTime;var n=_A(e,t.found.name),r=xA(t.found.updateTime),i=t.found.createTime?xA(t.found.createTime):eS.min(),a=new JE({mapValue:{fields:t.found.fields}});return e_.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){LI(!!t.missing),LI(!!t.readTime);var n=_A(e,t.missing),r=xA(t.readTime);return e_.newNoDocument(n,r)}(e,t):RI()}function RA(e,t){var n;if(t instanceof jT)n={update:PA(e,t.key,t.value)};else if(t instanceof qT)n={delete:EA(e,t.key)};else if(t instanceof MT)n={update:PA(e,t.key,t.data),updateMask:HA(t.fieldMask)};else{if(!(t instanceof KT))return RI();n={verify:EA(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof gT)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof kT)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof wT)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof IT)return{fieldPath:t.field.canonicalString(),increment:n.wt};throw RI()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:wA(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:RI()}(e,t.precondition)),n}function LA(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?AT.updateTime(xA(e.updateTime)):void 0!==e.exists?AT.exists(e.exists):AT.none()}(t.currentDocument):AT.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)LI("REQUEST_TIME"===t.setToServerValue),n=new gT;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new kT(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new wT(i)}else"increment"in t?n=new IT(e,t.increment):RI();var a=iS.fromServerFormat(t.fieldPath);return new _T(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=_A(e,t.update.name),a=new JE({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new kE(t.map((function(e){return iS.fromServerFormat(e)})))}(t.updateMask);return new MT(i,a,o,n,r)}return new jT(i,a,n,r)}if(t.delete){var s=_A(e,t.delete);return new qT(s,n)}if(t.verify){var u=_A(e,t.verify);return new KT(u,n)}return RI()}function jA(e,t){return{documents:[TA(e,t.path)]}}function MA(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=TA(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=TA(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return WA(u_.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:qA(e.field),direction:VA(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=gA(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function FA(e){var t=AA(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){LI(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=UA(e);return t instanceof u_&&f_(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new i_(KA(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return OS(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new t_(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new t_(n,t)}(n.endAt)),R_(t,i,s,o,u,"F",c,l)}function UA(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=KA(e.unaryFilter.field);return s_.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=KA(e.unaryFilter.field);return s_.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=KA(e.unaryFilter.field);return s_.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=KA(e.unaryFilter.field);return s_.create(i,"!=",{nullValue:"NULL_VALUE"});default:return RI()}}(e):void 0!==e.fieldFilter?function(e){return s_.create(KA(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return RI()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return u_.create(e.compositeFilter.filters.map((function(e){return UA(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return RI()}}(e.compositeFilter.op))}(e):RI()}function VA(e){return pA[e]}function BA(e){return vA[e]}function zA(e){return mA[e]}function qA(e){return{fieldPath:e.canonicalString()}}function KA(e){return iS.fromServerFormat(e.fieldPath)}function WA(e){return e instanceof s_?function(e){if("=="===e.op){if(KE(e.value))return{unaryFilter:{field:qA(e.field),op:"IS_NAN"}};if(qE(e.value))return{unaryFilter:{field:qA(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(KE(e.value))return{unaryFilter:{field:qA(e.field),op:"IS_NOT_NAN"}};if(qE(e.value))return{unaryFilter:{field:qA(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qA(e.field),op:BA(e.op),value:e.value}}}(e):e instanceof u_?function(e){var t=e.getFilters().map((function(e){return WA(e)}));return 1===t.length?t[0]:{compositeFilter:{op:zA(e.op),filters:t}}}(e):RI()}function HA(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function GA(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var QA=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:eS.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:eS.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:wE.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;h(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return m(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),$A=m((function e(t){h(this,e),this.le=t}));function YA(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:XA(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:EA(e,t.key),fields:t.data.value.mapValue.fields,updateTime:kA(e,t.version.toTimestamp()),createTime:kA(e,t.createTime.toTimestamp())}}(e.le,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:JA(t.version)};else{if(!t.isUnknownDocument())return RI();r.unknownDocument={path:n.path.toArray(),version:JA(t.version)}}return r}function XA(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function JA(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ZA(e){var t=new ZI(e.seconds,e.nanoseconds);return eS.fromTimestamp(t)}function eC(e,t){for(var n=(t.baseMutations||[]).map((function(t){return LA(e.le,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return LA(e.le,t)})),s=ZI.fromMillis(t.localWriteTimeMs);return new WT(t.batchId,s,n,o)}function tC(e){var t,n,r=ZA(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?ZA(e.lastLimboFreeSnapshotVersion):eS.min();return void 0!==e.query.documents?(LI(1===(n=e.query).documents.length),t=B_(L_(AA(n.documents[0])))):t=function(e){return B_(FA(e))}(e.query),new QA(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,i,wE.fromBase64String(e.resumeToken))}function nC(e,t){var n,r=JA(t.snapshotVersion),i=JA(t.lastLimboFreeSnapshotVersion);n=C_(t.target)?jA(e.le,t.target):MA(e.le,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:T_(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function rC(e){var t=FA({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?q_(t,t.limit,"L"):t}function iC(e,t){return new GT(t.largestBatchId,LA(e.le,t.overlayMutation))}function aC(e,t){var n=t.path.lastSegment();return[e,LS(t.path.popLast()),n]}function oC(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:JA(r.readTime),documentKey:LS(r.documentKey.path),largestBatchId:r.largestBatchId}}var sC=function(){function e(){h(this,e)}return m(e,[{key:"getBundleMetadata",value:function(e,t){return uC(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:ZA(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return uC(e).put({bundleId:(n=t).id,createTime:JA(xA(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return cC(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:rC(t.bundledQuery),readTime:ZA(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return cC(e).put(function(e){return{name:e.name,readTime:JA(xA(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function uC(e){return cE(e,"bundles")}function cC(e){return cE(e,"namedQueries")}var lC=function(){function e(t,n){h(this,e),this.serializer=t,this.userId=n}return m(e,[{key:"getOverlay",value:function(e,t){var n=this;return fC(e).get(aC(this.userId,t)).next((function(e){return e?iC(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=rT();return kS.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new GT(t,a);i.push(r.de(e,o))})),kS.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(LS(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(fC(e).J("collectionPathOverlayIndex",i))})),kS.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=rT(),a=LS(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return fC(e).j("collectionPathOverlayIndex",o).next((function(e){var t,n=_(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=iC(r.serializer,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=rT(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return fC(e).X({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=iC(a.serializer,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"de",value:function(e,t){return fC(e).put(function(e,t,n){var r=c(aC(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:RA(e.le,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"fe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function fC(e){return cE(e,"documentOverlays")}var hC=function(){function e(){h(this,e)}return m(e,[{key:"_e",value:function(e,t){this.we(e,t),t.me()}},{key:"we",value:function(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(SE(e.integerValue));else if("doubleValue"in e){var n=SE(e.doubleValue);isNaN(n)?this.ge(t,13):(this.ge(t,15),DS(n)?t.ye(0):t.ye(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ge(t,20),"string"==typeof r?t.pe(r):(t.pe("".concat(r.seconds||"")),t.ye(r.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(EE(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ge(t,45),t.ye(i.latitude||0),t.ye(i.longitude||0)}else"mapValue"in e?GE(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):RI()}},{key:"Ie",value:function(e,t){this.ge(t,25),this.Pe(e,t)}},{key:"Pe",value:function(e,t){t.pe(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ge(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Ie(a,t),this.we(n[a],t)}}},{key:"ve",value:function(e,t){var n=e.values||[];this.ge(t,50);var r,i=_(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.we(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"Ae",value:function(e,t){var n=this;this.ge(t,37),aS.fromName(e).path.forEach((function(e){n.ge(t,60),n.Pe(e,t)}))}},{key:"ge",value:function(e,t){e.ye(t)}},{key:"Te",value:function(e){e.ye(2)}}]),e}();function dC(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function pC(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=dC(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}hC.be=new hC;var vC=function(){function e(){h(this,e),this.buffer=new Uint8Array(1024),this.position=0}return m(e,[{key:"Ve",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Se(n.value),n=t.next();this.De()}},{key:"Ce",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.xe(n.value),n=t.next();this.Ne()}},{key:"ke",value:function(e){var t,n=_(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Se(i);else if(i<2048)this.Se(960|i>>>6),this.Se(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Se(480|i>>>12),this.Se(128|63&i>>>6),this.Se(128|63&i);else{var a=r.codePointAt(0);this.Se(240|a>>>18),this.Se(128|63&a>>>12),this.Se(128|63&a>>>6),this.Se(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.De()}},{key:"Me",value:function(e){var t,n=_(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.xe(i);else if(i<2048)this.xe(960|i>>>6),this.xe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.xe(480|i>>>12),this.xe(128|63&i>>>6),this.xe(128|63&i);else{var a=r.codePointAt(0);this.xe(240|a>>>18),this.xe(128|63&a>>>12),this.xe(128|63&a>>>6),this.xe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ne()}},{key:"Oe",value:function(e){var t=this.$e(e),n=pC(t);this.Fe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Be",value:function(e){var t=this.$e(e),n=pC(t);this.Fe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Le",value:function(){this.qe(255),this.qe(255)}},{key:"Ue",value:function(){this.Ke(255),this.Ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Fe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Ge",value:function(){return this.buffer.slice(0,this.position)}},{key:"$e",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Se",value:function(e){var t=255&e;0===t?(this.qe(0),this.qe(255)):255===t?(this.qe(255),this.qe(0)):this.qe(t)}},{key:"xe",value:function(e){var t=255&e;0===t?(this.Ke(0),this.Ke(255)):255===t?(this.Ke(255),this.Ke(0)):this.Ke(e)}},{key:"De",value:function(){this.qe(0),this.qe(1)}},{key:"Ne",value:function(){this.Ke(0),this.Ke(1)}},{key:"qe",value:function(e){this.Fe(1),this.buffer[this.position++]=e}},{key:"Ke",value:function(e){this.Fe(1),this.buffer[this.position++]=~e}},{key:"Fe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),mC=function(){function e(t){h(this,e),this.Qe=t}return m(e,[{key:"Ee",value:function(e){this.Qe.Ve(e)}},{key:"pe",value:function(e){this.Qe.ke(e)}},{key:"ye",value:function(e){this.Qe.Oe(e)}},{key:"me",value:function(){this.Qe.Le()}}]),e}(),yC=function(){function e(t){h(this,e),this.Qe=t}return m(e,[{key:"Ee",value:function(e){this.Qe.Ce(e)}},{key:"pe",value:function(e){this.Qe.Me(e)}},{key:"ye",value:function(e){this.Qe.Be(e)}},{key:"me",value:function(){this.Qe.Ue()}}]),e}(),gC=function(){function e(){h(this,e),this.Qe=new vC,this.je=new mC(this.Qe),this.ze=new yC(this.Qe)}return m(e,[{key:"seed",value:function(e){this.Qe.seed(e)}},{key:"We",value:function(e){return 0===e?this.je:this.ze}},{key:"Ge",value:function(){return this.Qe.Ge()}},{key:"reset",value:function(){this.Qe.reset()}}]),e}(),kC=function(){function e(t,n,r,i){h(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return m(e,[{key:"He",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function bC(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=wC(e.arrayValue,t.arrayValue))?n:0!==(n=wC(e.directionalValue,t.directionalValue))?n:aS.comparator(e.documentKey,t.documentKey)}function wC(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var xC=function(){function e(t){h(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Je=t.orderBy,this.Ye=[];var n,r=_(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Xe=i:this.Ye.push(i)}}catch(a){r.e(a)}finally{r.f()}}return m(e,[{key:"Ze",value:function(e){LI(e.collectionGroup===this.collectionId);var t=sS(e);if(void 0!==t&&!this.tn(t))return!1;for(var n=uS(e),r=0,i=0;r<n.length&&this.tn(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Xe){var a=n[r];if(!this.en(this.Xe,a)||!this.nn(this.Je[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Je.length||!this.nn(this.Je[i++],o))return!1}return!0}},{key:"tn",value:function(e){var t,n=_(this.Ye);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.en(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"en",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"nn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function IC(e){var t,n;if(LI(e instanceof s_||e instanceof u_),e instanceof s_){if(e instanceof x_){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return s_.create(e.field,"==",t)})))||[];return u_.create(r,"or")}return e}var i=e.filters.map((function(e){return IC(e)}));return u_.create(i,e.op)}function SC(e){if(0===e.getFilters().length)return[];var t=AC(IC(e));return LI(TC(t)),EC(t)||_C(t)?[t]:t.getFilters()}function EC(e){return e instanceof s_}function _C(e){return e instanceof u_&&f_(e)}function TC(e){return EC(e)||_C(e)||function(e){if(e instanceof u_&&l_(e)){var t,n=_(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!EC(r)&&!_C(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function AC(e){if(LI(e instanceof s_||e instanceof u_),e instanceof s_)return e;if(1===e.filters.length)return AC(e.filters[0]);var t=e.filters.map((function(e){return AC(e)})),n=u_.create(t,e.op);return TC(n=PC(n))?n:(LI(n instanceof u_),LI(c_(n)),LI(n.filters.length>1),n.filters.reduce((function(e,t){return CC(e,t)})))}function CC(e,t){var n;return LI(e instanceof s_||e instanceof u_),LI(t instanceof s_||t instanceof u_),n=e instanceof s_?t instanceof s_?function(e,t){return u_.create([e,t],"and")}(e,t):NC(e,t):t instanceof s_?NC(t,e):function(e,t){if(LI(e.filters.length>0&&t.filters.length>0),c_(e)&&c_(t))return v_(e,t.getFilters());var n=l_(e)?e:t,r=l_(e)?t:e,i=n.filters.map((function(e){return CC(e,r)}));return u_.create(i,"or")}(e,t),PC(n)}function NC(e,t){if(c_(t))return v_(t,e.getFilters());var n=t.filters.map((function(t){return CC(e,t)}));return u_.create(n,"or")}function PC(e){if(LI(e instanceof s_||e instanceof u_),e instanceof s_)return e;var t=e.getFilters();if(1===t.length)return PC(t[0]);if(h_(e))return e;var n=t.map((function(e){return PC(e)})),r=[];return n.forEach((function(t){t instanceof s_?r.push(t):t instanceof u_&&(t.op===e.op?r.push.apply(r,f(t.filters)):r.push(t))})),1===r.length?r[0]:u_.create(r,e.op)}var OC=function(){function e(){h(this,e),this.sn=new DC}return m(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.sn.add(t),kS.resolve()}},{key:"getCollectionParents",value:function(e,t){return kS.resolve(this.sn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return kS.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return kS.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return kS.resolve(null)}},{key:"getIndexType",value:function(e,t){return kS.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return kS.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return kS.resolve(null)}},{key:"getMinOffset",value:function(e,t){return kS.resolve(dS.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return kS.resolve(dS.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return kS.resolve()}},{key:"updateIndexEntries",value:function(e,t){return kS.resolve()}}]),e}(),DC=function(){function e(){h(this,e),this.index={}}return m(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new mE(nS.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new mE(nS.comparator)).toArray()}}]),e}(),RC=new Uint8Array(0),LC=function(){function e(t,n){h(this,e),this.user=t,this.databaseId=n,this.rn=new DC,this.on=new X_((function(e){return T_(e)}),(function(e,t){return A_(e,t)})),this.uid=t.uid||""}return m(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.rn.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.rn.add(t)}));var a={collectionId:r,parent:LS(i)};return jC(e).put(a)}return kS.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[JI(t),""],!1,!0);return jC(e).j(r).next((function(e){var r,i=_(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(FS(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=FC(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=UC(e);return a.next((function(e){o.put(oC(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=FC(e),r=UC(e),i=MC(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=MC(e),i=!0,a=new Map;return kS.forEach(this.un(t),(function(t){return n.cn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=uT(),o=[];return kS.forEach(a,(function(i,a){var s;NI("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(T_(t)));var u=function(e,t){var n=sS(t);if(void 0===n)return null;var r,i=_(N_(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=_(uS(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=_(N_(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=_(uS(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?P_(e,o.fieldPath,e.startAt):O_(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new t_(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=_(uS(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?O_(e,o.fieldPath,e.endAt):P_(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new t_(r,i)}(a,i),h=n.an(i,a,l),d=n.an(i,a,f),p=n.hn(i,a,c),v=n.ln(i.indexId,u,h,l.inclusive,d,f.inclusive,p);return kS.forEach(v,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=aS.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return kS.resolve(null)}))}},{key:"un",value:function(e){var t=this.on.get(e);return t||(t=0===e.filters.length?[e]:SC(u_.create(e.filters,"and")).map((function(t){return __(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.on.set(e,t),t)}},{key:"ln",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],h=function(){var u=t?s.fn(t[d/c]):RC,h=s.dn(e,u,n[d%c],r),p=s._n(e,u,i[d%c],a),v=o.map((function(t){return s.dn(e,u,t,!0)}));l.push.apply(l,f(s.createRange(h,p,v)))},d=0;d<u;++d)h();return l}},{key:"dn",value:function(e,t,n,r){var i=new kC(e,aS.empty(),t,n);return r?i:i.He()}},{key:"_n",value:function(e,t,n,r){var i=new kC(e,aS.empty(),t,n);return r?i.He():i}},{key:"cn",value:function(e,t){var n=new xC(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=_(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Ze(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.un(t);return kS.forEach(i,(function(t){return n.cn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new mE(iS.comparator),r=!1,i=_(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=_(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=_(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"wn",value:function(e,t){var n,r=new gC,i=_(uS(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.We(a.kind);hC.be._e(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Ge()}},{key:"fn",value:function(e){var t=new gC;return hC.be._e(e,t.We(0)),t.Ge()}},{key:"mn",value:function(e,t){var n=new gC;return hC.be._e(VE(this.databaseId,t),n.We(function(e){var t=uS(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ge()}},{key:"hn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new gC);var i,a=0,o=_(uS(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=_(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.gn(t,u.fieldPath)&&zE(c))r=this.yn(r,u,c);else{var h=f.We(u.kind);hC.be._e(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.pn(r)}},{key:"an",value:function(e,t,n){return this.hn(e,t,n.position)}},{key:"pn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Ge();return t}},{key:"yn",value:function(e,t,n){var r,i=f(e),a=[],o=_(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=_(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,h=new gC;h.seed(l.Ge()),hC.be._e(u,h.We(t.kind)),a.push(h)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"gn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof s_&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=FC(e),i=UC(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next((function(e){var t=[];return kS.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new lS(t.sequenceNumber,new dS(ZA(t.readTime),new aS(FS(t.documentKey)),t.largestBatchId)):lS.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new cS(iS.fromServerFormat(n),r)}));return new oS(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:YI(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=FC(e),a=UC(e);return this.In(e).next((function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return kS.forEach(t,(function(t){return a.put(oC(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return kS.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?kS.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),kS.forEach(a,(function(r){return n.Tn(e,t,r).next((function(t){var a=n.En(i,r);return t.isEqual(a)?kS.resolve():n.An(e,i,r,t,a)}))}))}))}))}},{key:"Rn",value:function(e,t,n,r){return MC(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"vn",value:function(e,t,n,r){return MC(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(n,t.key),t.key.path.toArray()])}},{key:"Tn",value:function(e,t,n){var r=MC(e),i=new mE(bC);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.mn(n,t)])},(function(e,r){i=i.add(new kC(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"En",value:function(e,t){var n=new mE(bC),r=this.wn(t,e);if(null==r)return n;var i=sS(t);if(null!=i){var a=e.data.field(i.fieldPath);if(zE(a)){var o,s=_(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new kC(t.indexId,e.key,this.fn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new kC(t.indexId,e.key,RC,r));return n}},{key:"An",value:function(e,t,n,r,i){var a=this;NI("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=gE(a),u=gE(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=gE(o)):l?(i(s),s=gE(a)):(s=gE(a),u=gE(o))}}(r,i,bC,(function(r){o.push(a.Rn(e,t,n,r))}),(function(r){o.push(a.vn(e,t,n,r))})),kS.waitFor(o)}},{key:"In",value:function(e){var t=1;return UC(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return bC(e,t)})).filter((function(e,t,n){return!t||0!==bC(e,n[t-1])}));var r=[];r.push(e);var i,a=_(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=bC(o,e),u=bC(o,t);if(0===s)r[0]=e.He();else if(s>0&&u<0)r.push(o),r.push(o.He());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Pn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,RC,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,RC,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"Pn",value:function(e,t){return bC(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(VC)}},{key:"getMinOffset",value:function(e,t){var n=this;return kS.mapArray(this.un(t),(function(t){return n.cn(e,t).next((function(e){return e||RI()}))})).next(VC)}}]),e}();function jC(e){return cE(e,"collectionParents")}function MC(e){return cE(e,"indexEntries")}function FC(e){return cE(e,"indexConfiguration")}function UC(e){return cE(e,"indexState")}function VC(e){LI(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;pS(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new dS(t.readTime,t.documentKey,n)}var BC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zC=function(){function e(t,n,r){h(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return m(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function qC(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.X({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){LI(1===s)})));var c,l=[],f=_(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=BS(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return kS.waitFor(a).next((function(){return l}))}function KC(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw RI();t=e.noDocument}return JSON.stringify(t).length}zC.DEFAULT_COLLECTION_PERCENTILE=10,zC.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zC.DEFAULT=new zC(41943040,zC.DEFAULT_COLLECTION_PERCENTILE,zC.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zC.DISABLED=new zC(-1,0,0);var WC=function(){function e(t,n,r,i){h(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.bn={}}return m(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return GC(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=QC(e),o=GC(e);return o.add({}).next((function(s){LI("number"==typeof s);var u,c=new WT(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return RA(e.le,t)})),i=n.mutations.map((function(t){return RA(e.le,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new mE((function(e,t){return YI(e.canonicalString(),t.canonicalString())})),d=_(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=BS(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,zS))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.bn[s]=c.keys()})),kS.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return GC(e).get(t).next((function(e){return e?(LI(e.userId===n.userId),eC(n.serializer,e)):null}))}},{key:"Vn",value:function(e,t){var n=this;return this.bn[t]?kS.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.bn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return GC(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(LI(t.batchId>=r),a=eC(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return GC(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return GC(e).j("userMutationsIndex",n).next((function(e){return e.map((function(e){return eC(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=VS(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return QC(e).X({range:i},(function(r,i,o){var s=c(r,3),u=s[0],l=s[1],f=s[2],h=FS(l);if(u===n.userId&&t.path.isEqual(h))return GC(e).get(f).next((function(e){if(!e)throw RI();LI(e.userId===n.userId),a.push(eC(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new mE(YI),i=[];return t.forEach((function(t){var a=VS(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=QC(e).X({range:o},(function(e,i,a){var o=c(e,3),s=o[0],u=o[1],l=o[2],f=FS(u);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),kS.waitFor(i).next((function(){return n.Sn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=VS(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new mE(YI);return QC(e).X({range:o},(function(e,t,a){var o=c(e,3),u=o[0],l=o[1],f=o[2],h=FS(l);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.Sn(e,s)}))}},{key:"Sn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(GC(e).get(t).next((function(e){if(null===e)throw RI();LI(e.userId===n.userId),r.push(eC(n.serializer,e))})))})),kS.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return qC(e.at,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Dn(t.batchId)})),kS.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Dn",value:function(e){delete this.bn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return kS.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return QC(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=FS(e[1]);i.push(a)}else r.done()})).next((function(){LI(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return HC(e,this.userId,t)}},{key:"Cn",value:function(e){var t=this;return $C(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"fe",value:function(t,n,r,i){return LI(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function HC(e,t,n){var r=VS(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return QC(e).X({range:a,Y:!0},(function(e,n,r){var a=c(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function GC(e){return cE(e,"mutations")}function QC(e){return cE(e,"documentMutations")}function $C(e){return cE(e,"mutationQueues")}var YC=function(){function e(t){h(this,e),this.xn=t}return m(e,[{key:"next",value:function(){return this.xn+=2,this.xn}}],[{key:"Nn",value:function(){return new e(0)}},{key:"kn",value:function(){return new e(-1)}}]),e}(),XC=function(){function e(t,n){h(this,e),this.referenceDelegate=t,this.serializer=n}return m(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Mn(e).next((function(n){var r=new YC(n.highestTargetId);return n.highestTargetId=r.next(),t.On(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Mn(e).next((function(e){return eS.fromTimestamp(new ZI(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Mn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Mn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.On(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.$n(e,t).next((function(){return n.Mn(e).next((function(r){return r.targetCount+=1,n.Fn(t,r),n.On(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.$n(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return JC(e).delete(t.targetId)})).next((function(){return n.Mn(e)})).next((function(t){return LI(t.targetCount>0),t.targetCount-=1,n.On(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return JC(e).X((function(o,s){var u=tC(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return kS.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return JC(e).X((function(e,n){var r=tC(n);t(r)}))}},{key:"Mn",value:function(e){return ZC(e).get("targetGlobalKey").next((function(e){return LI(null!==e),e}))}},{key:"On",value:function(e,t){return ZC(e).put("targetGlobalKey",t)}},{key:"$n",value:function(e,t){return JC(e).put(nC(this.serializer,t))}},{key:"Fn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Mn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=T_(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return JC(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=tC(n);A_(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=eN(e);return t.forEach((function(t){var o=LS(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),kS.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=eN(e);return kS.forEach(t,(function(t){var a=LS(t.path);return kS.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=eN(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=eN(e),i=uT();return r.X({range:n,Y:!0},(function(e,t,n){var r=FS(e[1]),a=new aS(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=LS(t.path),r=IDBKeyRange.bound([n],[JI(n)],!1,!0),i=0;return eN(e).X({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"he",value:function(e,t){return JC(e).get(t).next((function(e){return e?tC(e):null}))}}]),e}();function JC(e){return cE(e,"targets")}function ZC(e){return cE(e,"targetGlobal")}function eN(e){return cE(e,"targetDocuments")}function tN(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],s=a[1],u=YI(r,o);return 0===u?YI(i,s):u}var nN=function(){function e(t){h(this,e),this.Bn=t,this.buffer=new mE(tN),this.Ln=0}return m(e,[{key:"qn",value:function(){return++this.Ln}},{key:"Un",value:function(e){var t=[e,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();tN(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),rN=function(){function e(t,n,r){h(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Kn=null}return m(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}},{key:"stop",value:function(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}},{key:"started",get:function(){return null!==this.Kn}},{key:"Gn",value:function(e){var t=this;NI("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Zi(Xi().mark((function e(){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Kn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!SS(e.t0)){e.next=12;break}NI("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,yS(e.t0);case 14:return e.next=16,t.Gn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),iN=function(){function e(t,n){h(this,e),this.Qn=t,this.params=n}return m(e,[{key:"calculateTargetCount",value:function(e,t){return this.Qn.jn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return kS.resolve(PS.ct);var r=new nN(t);return this.Qn.forEachTarget(e,(function(e){return r.Un(e.sequenceNumber)})).next((function(){return n.Qn.zn(e,(function(e){return r.Un(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Qn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Qn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(NI("LruGarbageCollector","Garbage collection skipped; disabled"),kS.resolve(BC)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(NI("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),BC):n.Wn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Qn.getCacheSize(e)}},{key:"Wn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(NI("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),CI()<=ia.DEBUG&&NI("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),kS.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function aN(e,t){return new iN(e,t)}var oN=function(){function e(t,n){h(this,e),this.db=t,this.garbageCollector=aN(this,n)}return m(e,[{key:"jn",value:function(e){var t=this.Hn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Hn",value:function(e){var t=0;return this.zn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"zn",value:function(e,t){return this.Jn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return sN(e,n)}},{key:"removeReference",value:function(e,t,n){return sN(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return sN(e,t)}},{key:"Yn",value:function(e,t){return function(e,t){var n=!1;return $C(e).Z((function(r){return HC(e,r,t).next((function(e){return e&&(n=!0),kS.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Jn(e,(function(o,s){if(s<=t){var u=n.Yn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,eS.min()),eN(e).delete([0,LS(o.path)])}))}));i.push(u)}})).next((function(){return kS.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return sN(e,t)}},{key:"Jn",value:function(e,t){var n,r=eN(e),i=PS.ct;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==PS.ct&&t(new aS(FS(n)),i),i=u,n=s):i=PS.ct})).next((function(){i!==PS.ct&&t(new aS(FS(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function sN(e,t){return eN(e).put(function(e,t){return{targetId:0,path:LS(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var uN=function(){function e(){h(this,e),this.changes=new X_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return m(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,e_.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?kS.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),cN=function(){function e(t){h(this,e),this.serializer=t}return m(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return dN(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return dN(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],XA(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Xn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=e_.newInvalidDocument(t);return dN(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(pN(t))},(function(e,i){r=n.Zn(t,i)})).next((function(){return r}))}},{key:"ts",value:function(e,t){var n=this,r={size:0,document:e_.newInvalidDocument(t)};return dN(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(pN(t))},(function(e,i){r={document:n.Zn(t,i),size:KC(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Z_();return this.es(e,t,(function(e,t){var i=n.Zn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ns",value:function(e,t){var n=this,r=Z_(),i=new dE(aS.comparator);return this.es(e,t,(function(e,t){var a=n.Zn(e,t);r=r.insert(e,a),i=i.insert(e,KC(t))})).next((function(){return{documents:r,ss:i}}))}},{key:"es",value:function(e,t,n){if(t.isEmpty())return kS.resolve();var r=new mE(mN);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(pN(r.first()),pN(r.last())),a=r.getIterator(),o=a.getNext();return dN(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=aS.fromSegments([].concat(f(t.prefixPath),[t.collectionGroup,t.documentId]));o&&mN(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.G(pN(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),XA(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return dN(e).j(IDBKeyRange.bound(o,s,!0)).next((function(e){var n,a=Z_(),o=_(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=i.Zn(aS.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);u.isFoundDocument()&&(G_(t,u)||r.has(u.key))&&(a=a.insert(u.key,u))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Z_(),o=vN(t,n),s=vN(t,dS.max());return dN(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.Zn(aS.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new fN(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return hN(e).get("remoteDocumentGlobalKey").next((function(e){return LI(!!e),e}))}},{key:"Xn",value:function(e,t){return hN(e).put("remoteDocumentGlobalKey",t)}},{key:"Zn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=OA(e.le,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=aS.fromSegments(t.noDocument.path),i=ZA(t.noDocument.readTime);n=e_.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return RI();var a=aS.fromSegments(t.unknownDocument.path),o=ZA(t.unknownDocument.version);n=e_.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new ZI(e[0],e[1]);return eS.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(eS.min()))return n}return e_.newInvalidDocument(e)}}]),e}();function lN(e){return new cN(e)}var fN=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).rs=e,i.trackRemovals=r,i.os=new X_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return m(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new mE((function(e,t){return YI(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.os.get(a);if(n.push(t.rs.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=YA(t.rs.serializer,o);i=i.add(a.path.popLast());var c=KC(u);r+=c-s.size,n.push(t.rs.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=YA(t.rs.serializer,o.convertToNoDocument(eS.min()));n.push(t.rs.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.rs.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.rs.updateMetadata(e,r)),kS.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.rs.ts(e,t).next((function(e){return n.os.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.rs.ns(e,t).next((function(e){var t=e.documents;return e.ss.forEach((function(e,r){n.os.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(uN);function hN(e){return cE(e,"remoteDocumentGlobal")}function dN(e){return cE(e,"remoteDocumentsV14")}function pN(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function vN(e,t){var n=t.documentKey.path.toArray();return[e,XA(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function mN(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=YI(n[a],r[a]))return i;return(i=YI(n.length,r.length))||((i=YI(n[n.length-2],r[r.length-2]))||YI(n[n.length-1],r[r.length-1]))}var yN=m((function e(t,n){h(this,e),this.overlayedDocument=t,this.mutatedFields=n})),gN=function(){function e(t,n,r,i){h(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return m(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&DT(r.mutation,e,kE.empty(),ZI.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,uT()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:uT(),i=rT();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=tT();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=rT();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,uT())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Z_(),a=aT(),o=aT();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof MT)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),DT(o.mutation,t,o.mutation.getFieldMask(),ZI.now())):a.set(t.key,kE.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new yN(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=aT(),i=new dE((function(e,t){return e-t})),a=uT();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=_(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||kE.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||uT()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=iT();c.forEach((function(e){if(!a.has(e)){var n=PT(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return kS.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return aS.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):U_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):kS.resolve(rT()),s=-1,u=a;return o.next((function(t){return kS.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?kS.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,uT())})).next((function(e){return{batchId:s,changes:nT(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new aS(t)).next((function(e){var t=tT();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=tT();return this.indexManager.getCollectionParents(e,i).next((function(o){return kS.forEach(o,(function(o){var s=function(e,t){return new D_(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,e_.newInvalidDocument(r)))}));var n=tT();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&DT(a.mutation,i,kE.empty(),ZI.now()),G_(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),kN=function(){function e(t){h(this,e),this.serializer=t,this.us=new Map,this.cs=new Map}return m(e,[{key:"getBundleMetadata",value:function(e,t){return kS.resolve(this.us.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.us.set(t.id,{id:(n=t).id,version:n.version,createTime:xA(n.createTime)}),kS.resolve()}},{key:"getNamedQuery",value:function(e,t){return kS.resolve(this.cs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.cs.set(t.name,function(e){return{name:e.name,query:rC(e.bundledQuery),readTime:xA(e.readTime)}}(t)),kS.resolve()}}]),e}(),bN=function(){function e(){h(this,e),this.overlays=new dE(aS.comparator),this.hs=new Map}return m(e,[{key:"getOverlay",value:function(e,t){return kS.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=rT();return kS.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.de(e,t,i)})),kS.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.hs.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.hs.delete(n)),kS.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=rT(),i=t.length+1,a=new aS(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return kS.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new dE((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=rT(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=rT(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return kS.resolve(u)}},{key:"de",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.hs.get(r.largestBatchId).delete(n.key);this.hs.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new GT(t,n));var a=this.hs.get(t);void 0===a&&(a=uT(),this.hs.set(t,a)),this.hs.set(t,a.add(n.key))}}]),e}(),wN=function(){function e(){h(this,e),this.ls=new mE(xN.fs),this.ds=new mE(xN._s)}return m(e,[{key:"isEmpty",value:function(){return this.ls.isEmpty()}},{key:"addReference",value:function(e,t){var n=new xN(e,t);this.ls=this.ls.add(n),this.ds=this.ds.add(n)}},{key:"ws",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.gs(new xN(e,t))}},{key:"ys",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ps",value:function(e){var t=this,n=new aS(new nS([])),r=new xN(n,e),i=new xN(n,e+1),a=[];return this.ds.forEachInRange([r,i],(function(e){t.gs(e),a.push(e.key)})),a}},{key:"Is",value:function(){var e=this;this.ls.forEach((function(t){return e.gs(t)}))}},{key:"gs",value:function(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}},{key:"Ts",value:function(e){var t=new aS(new nS([])),n=new xN(t,e),r=new xN(t,e+1),i=uT();return this.ds.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new xN(e,0),n=this.ls.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),xN=function(){function e(t,n){h(this,e),this.key=t,this.Es=n}return m(e,null,[{key:"fs",value:function(e,t){return aS.comparator(e.key,t.key)||YI(e.Es,t.Es)}},{key:"_s",value:function(e,t){return YI(e.Es,t.Es)||aS.comparator(e.key,t.key)}}]),e}(),IN=function(){function e(t,n){h(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.As=1,this.Rs=new mE(xN.fs)}return m(e,[{key:"checkEmpty",value:function(e){return kS.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.As;this.As++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new WT(i,t,n,r);this.mutationQueue.push(a);var o,s=_(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Rs=this.Rs.add(new xN(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return kS.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return kS.resolve(this.vs(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ps(n),i=r<0?0:r;return kS.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return kS.resolve(0===this.mutationQueue.length?-1:this.As-1)}},{key:"getAllMutationBatches",value:function(e){return kS.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new xN(t,0),i=new xN(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.vs(e.Es);a.push(t)})),kS.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new mE(YI);return t.forEach((function(e){var t=new xN(e,0),i=new xN(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.Es)}))})),kS.resolve(this.bs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;aS.isDocumentKey(i)||(i=i.child(""));var a=new xN(new aS(i),0),o=new mE(YI);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Es)),!0)}),a),kS.resolve(this.bs(o))}},{key:"bs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.vs(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;LI(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return kS.forEach(t.mutations,(function(i){var a=new xN(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Dn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new xN(t,0),r=this.Rs.firstAfterOrEqual(n);return kS.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,kS.resolve()}},{key:"Vs",value:function(e,t){return this.Ps(e)}},{key:"Ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"vs",value:function(e){var t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),SN=function(){function e(t){h(this,e),this.Ss=t,this.docs=new dE(aS.comparator),this.size=0}return m(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ss(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return kS.resolve(n?n.document.mutableCopy():e_.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Z_();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():e_.newInvalidDocument(e))})),kS.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Z_(),a=t.path,o=new aS(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||pS(hS(l),n)<=0||(r.has(l.key)||G_(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return kS.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){RI()}},{key:"Ds",value:function(e,t){return kS.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new EN(this)}},{key:"getSize",value:function(e){return kS.resolve(this.size)}}]),e}(),EN=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).rs=e,r}return m(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.rs.addEntry(e,i)):t.rs.removeEntry(r)})),kS.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.rs.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.rs.getEntries(e,t)}}]),n}(uN),_N=function(){function e(t){h(this,e),this.persistence=t,this.Cs=new X_((function(e){return T_(e)}),A_),this.lastRemoteSnapshotVersion=eS.min(),this.highestTargetId=0,this.xs=0,this.Ns=new wN,this.targetCount=0,this.ks=YC.Nn()}return m(e,[{key:"forEachTarget",value:function(e,t){return this.Cs.forEach((function(e,n){return t(n)})),kS.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return kS.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return kS.resolve(this.xs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.ks.next(),kS.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.xs&&(this.xs=t),kS.resolve()}},{key:"$n",value:function(e){this.Cs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ks=new YC(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.$n(t),this.targetCount+=1,kS.resolve()}},{key:"updateTargetData",value:function(e,t){return this.$n(t),kS.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,kS.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Cs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Cs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),kS.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return kS.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Cs.get(t)||null;return kS.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ns.ws(t,n),kS.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ns.ys(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),kS.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ns.ps(t),kS.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ns.Ts(t);return kS.resolve(n)}},{key:"containsKey",value:function(e,t){return kS.resolve(this.Ns.containsKey(t))}}]),e}(),TN=function(){function e(t,n){var r=this;h(this,e),this.Ms={},this.overlays={},this.Os=new PS(0),this.$s=!1,this.$s=!0,this.referenceDelegate=t(this),this.Fs=new _N(this),this.indexManager=new OC,this.remoteDocumentCache=new SN((function(e){return r.referenceDelegate.Bs(e)})),this.serializer=new $A(n),this.Ls=new kN(this.serializer)}return m(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.$s=!1,Promise.resolve()}},{key:"started",get:function(){return this.$s}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new bN,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ms[e.toKey()];return n||(n=new IN(t,this.referenceDelegate),this.Ms[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Fs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ls}},{key:"runTransaction",value:function(e,t,n){var r=this;NI("MemoryPersistence","Starting transaction:",e);var i=new AN(this.Os.next());return this.referenceDelegate.qs(),n(i).next((function(e){return r.referenceDelegate.Us(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ks",value:function(e,t){return kS.or(Object.values(this.Ms).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),AN=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return m(n)}(mS),CN=function(){function e(t){h(this,e),this.persistence=t,this.Gs=new wN,this.Qs=null}return m(e,[{key:"zs",get:function(){if(this.Qs)return this.Qs;throw RI()}},{key:"addReference",value:function(e,t,n){return this.Gs.addReference(n,t),this.zs.delete(n.toString()),kS.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Gs.removeReference(n,t),this.zs.add(n.toString()),kS.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.zs.add(t.toString()),kS.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Gs.ps(t.targetId).forEach((function(e){return n.zs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.zs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"qs",value:function(){this.Qs=new Set}},{key:"Us",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return kS.forEach(this.zs,(function(r){var i=aS.fromPath(r);return t.Ws(e,i).next((function(e){e||n.removeEntry(i,eS.min())}))})).next((function(){return t.Qs=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ws(e,t).next((function(e){e?n.zs.delete(t.toString()):n.zs.add(t.toString())}))}},{key:"Bs",value:function(e){return 0}},{key:"Ws",value:function(e,t){var n=this;return kS.or([function(){return kS.resolve(n.Gs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ks(e,t)}])}}],[{key:"js",value:function(t){return new e(t)}}]),e}(),NN=function(){function e(t){h(this,e),this.serializer=t}return m(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new bS("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",US,{unique:!0}),e.createObjectStore("documentMutations")}(e),PN(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=kS.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),PN(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:eS.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").j().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",US,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return kS.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Js(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ys(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Xs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Zs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ti(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:eE});t.createIndex("collectionPathOverlayIndex",tE,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",nE,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:qS});t.createIndex("documentKeyIndex",KS),t.createIndex("collectionGroupIndex",WS)}(e)})).next((function(){return i.ei(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.ni(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:YS}).createIndex("sequenceNumberIndex",XS,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:JS}).createIndex("documentKeyIndex",ZS,{unique:!1})}(e)}))),o}},{key:"Ys",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=KC(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Js",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next((function(n){return kS.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next((function(r){return kS.forEach(r,(function(r){LI(r.userId===n.userId);var i=eC(t.serializer,r);return qC(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Xs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new nS(n),o=function(e){return[0,LS(e)]}(a);r.push(t.get(o).next((function(n){return n?kS.resolve():function(n){return t.put({targetId:0,path:LS(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return kS.waitFor(r)}))}))}},{key:"Zs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:$S});var n=t.store("collectionParents"),r=new DC,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:LS(i)})}};return t.store("remoteDocuments").X({Y:!0},(function(e,t){var n=new nS(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Y:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],FS(r));return i(a.popLast())}))}))}},{key:"ti",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=tC(r),a=nC(t.serializer,i);return n.put(a)}))}},{key:"ei",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new aS(nS.fromString(i.document.name).popFirst(5)):i.noDocument?aS.fromSegments(i.noDocument.path):i.unknownDocument?aS.fromSegments(i.unknownDocument.path):RI()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return kS.waitFor(r)}))}},{key:"ni",value:function(e,t){var n=this,r=t.store("mutations"),i=lN(this.serializer),a=new TN(CN.js,this.serializer.le);return r.j().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:uT();eC(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),kS.forEach(r,(function(e,r){var o=new _I(r),s=lC.fe(n.serializer,o),u=a.getIndexManager(o),c=WC.fe(o,n.serializer,u,a.referenceDelegate);return new gN(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new uE(t,PS.ct),e).next()}))}))}}]),e}();function PN(e){e.createObjectStore("targetDocuments",{keyPath:GS}).createIndex("documentTargetsIndex",QS,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",HS,{unique:!0}),e.createObjectStore("targetGlobal")}var ON="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",DN=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(h(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.si=a,this.window=o,this.document=s,this.ii=c,this.ri=l,this.oi=f,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=function(e){return Promise.resolve()},!e.D())throw new FI(MI.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new oN(this,i),this.fi=n+"main",this.serializer=new $A(u),this.di=new wS(this.fi,this.oi,new NN(this.serializer)),this.Fs=new XC(this.referenceDelegate,this.serializer),this.remoteDocumentCache=lN(this.serializer),this.Ls=new sC,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===l&&PI("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return m(e,[{key:"start",value:function(){var e=this;return this.wi().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new FI(MI.FAILED_PRECONDITION,ON);return e.mi(),e.gi(),e.yi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Fs.getHighestSequenceNumber(t)}))})).then((function(t){e.Os=new PS(t,e.ii)})).then((function(){e.$s=!0})).catch((function(t){return e.di&&e.di.close(),Promise.reject(t)}))}},{key:"pi",value:function(e){var t=this;return this.li=function(){var n=Zi(Xi().mark((function n(r){return Xi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.di.B(function(){var t=Zi(Xi().mark((function t(n){return Xi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(Zi(Xi().mark((function e(){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.wi();case 4:case"end":return e.stop()}}),e)})))))}},{key:"wi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return LN(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ii(t).next((function(t){t||(e.isPrimary=!1,e.si.enqueueRetryable((function(){return e.li(!1)})))}))})).next((function(){return e.Ti(t)})).next((function(n){return e.isPrimary&&!n?e.Ei(t).next((function(){return!1})):!!n&&e.Ai(t).next((function(){return!0}))}))})).catch((function(t){if(SS(t))return NI("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return NI("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.si.enqueueRetryable((function(){return e.li(t)})),e.isPrimary=t}))}},{key:"Ii",value:function(e){var t=this;return RN(e).get("owner").next((function(e){return kS.resolve(t.Ri(e))}))}},{key:"vi",value:function(e){return LN(e).delete(this.clientId)}},{key:"Pi",value:function(){var e=Zi(Xi().mark((function e(){var t,n,r,i,a=this;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.bi(this.hi,18e5)){e.next=6;break}return this.hi=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=cE(e,"clientMetadata");return t.j().next((function(e){var n=a.Vi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return kS.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._i){n=_(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._i.removeItem(this.Si(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yi",value:function(){var e=this;this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.wi().then((function(){return e.Pi()})).then((function(){return e.yi()}))}))}},{key:"Ri",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ti",value:function(e){var t=this;return this.ri?kS.resolve(!0):RN(e).get("owner").next((function(n){if(null!==n&&t.bi(n.leaseTimestampMs,5e3)&&!t.Di(n.ownerId)){if(t.Ri(n)&&t.networkEnabled)return!0;if(!t.Ri(n)){if(!n.allowTabSynchronization)throw new FI(MI.FAILED_PRECONDITION,ON);return!1}}return!(!t.networkEnabled||!t.inForeground)||LN(e).j().next((function(e){return void 0===t.Vi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&NI("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Zi(Xi().mark((function e(){var t=this;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.$s=!1,this.Ci(),this.ai&&(this.ai.cancel(),this.ai=null),this.xi(),this.Ni(),e.next=7,this.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new uE(e,PS.ct);return t.Ei(n).next((function(){return t.vi(n)}))}));case 7:this.di.close(),this.ki();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vi",value:function(e,t){var n=this;return e.filter((function(e){return n.bi(e.updateTimeMs,t)&&!n.Di(e.clientId)}))}},{key:"Mi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return LN(t).j().next((function(t){return e.Vi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.$s}},{key:"getMutationQueue",value:function(e,t){return WC.fe(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Fs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new LC(e,this.serializer.le.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return lC.fe(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.Ls}},{key:"runTransaction",value:function(e,t,n){var r=this;NI("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.oi)?sE:14===i?oE:13===i?aE:12===i?iE:11===i?rE:void RI();return this.di.runTransaction(e,o,s,(function(i){return a=new uE(i,r.Os?r.Os.next():PS.ct),"readwrite-primary"===t?r.Ii(a).next((function(e){return!!e||r.Ti(a)})).next((function(t){if(!t)throw PI("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.si.enqueueRetryable((function(){return r.li(!1)})),new FI(MI.FAILED_PRECONDITION,vS);return n(a)})).next((function(e){return r.Ai(a).next((function(){return e}))})):r.Oi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Oi",value:function(e){var t=this;return RN(e).get("owner").next((function(e){if(null!==e&&t.bi(e.leaseTimestampMs,5e3)&&!t.Di(e.ownerId)&&!t.Ri(e)&&!(t.ri||t.allowTabSynchronization&&e.allowTabSynchronization))throw new FI(MI.FAILED_PRECONDITION,ON)}))}},{key:"Ai",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return RN(e).put("owner",t)}},{key:"Ei",value:function(e){var t=this,n=RN(e);return n.get("owner").next((function(e){return t.Ri(e)?(NI("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):kS.resolve()}))}},{key:"bi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(PI("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"mi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=function(){e.si.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.wi()}))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}},{key:"xi",value:function(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}},{key:"gi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=function(){t.Ci();var e=/(?:Version|Mobile)\/1[456]/;!Oi()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.si.enterRestrictedMode(!0),t.si.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ui))}},{key:"Ni",value:function(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}},{key:"Di",value:function(e){var t;try{var n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Si(e)));return NI("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return PI("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ci",value:function(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(e){PI("Failed to set zombie client id.",e)}}},{key:"ki",value:function(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch(e){}}},{key:"Si",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return wS.D()}}]),e}();function RN(e){return cE(e,"owner")}function LN(e){return cE(e,"clientMetadata")}function jN(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var MN=function(){function e(t,n,r,i){h(this,e),this.targetId=t,this.fromCache=n,this.$i=r,this.Fi=i}return m(e,null,[{key:"Bi",value:function(t,n){var r,i=uT(),a=uT(),o=_(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),FN=function(){function e(){h(this,e),this.Li=!1}return m(e,[{key:"initialize",value:function(e,t){this.qi=e,this.indexManager=t,this.Li=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ui(e,t).next((function(a){return a||i.Ki(e,t,r,n)})).next((function(n){return n||i.Gi(e,t)}))}},{key:"Ui",value:function(e,t){var n=this;if(j_(t))return kS.resolve(null);var r=B_(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=q_(t,null,"F"),r=B_(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=uT.apply(void 0,f(i));return n.qi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Qi(t,i);return n.ji(t,o,a,r.readTime)?n.Ui(e,q_(t,null,"F")):n.zi(e,o,t,r)}))}))})))}))}},{key:"Ki",value:function(e,t,n,r){var i=this;return j_(t)||r.isEqual(eS.min())?this.Gi(e,t):this.qi.getDocuments(e,n).next((function(a){var o=i.Qi(t,a);return i.ji(t,o,n,r)?i.Gi(e,t):(CI()<=ia.DEBUG&&NI("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),H_(t)),i.zi(e,o,t,fS(r,-1)))}))}},{key:"Qi",value:function(e,t){var n=new mE($_(e));return t.forEach((function(t,r){G_(e,r)&&(n=n.add(r))})),n}},{key:"ji",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Gi",value:function(e,t){return CI()<=ia.DEBUG&&NI("QueryEngine","Using full collection scan to execute query:",H_(t)),this.qi.getDocumentsMatchingQuery(e,t,dS.min())}},{key:"zi",value:function(e,t,n,r){return this.qi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),UN=function(){function e(t,n,r,i){h(this,e),this.persistence=t,this.Wi=n,this.serializer=i,this.Hi=new dE(YI),this.Ji=new X_((function(e){return T_(e)}),A_),this.Yi=new Map,this.Xi=t.getRemoteDocumentCache(),this.Fs=t.getTargetCache(),this.Ls=t.getBundleCache(),this.Zi(r)}return m(e,[{key:"Zi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gN(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Hi)}))}}]),e}();function VN(e,t,n,r){return new UN(e,t,n,r)}function BN(e,t){return zN.apply(this,arguments)}function zN(){return(zN=Zi(Xi().mark((function e(t,n){var r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jI(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Zi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=uT(),u=_(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=_(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=_(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=_(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{tr:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qN(e,t){var n=jI(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Xi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=kS.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);LI(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=uT(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function KN(e){var t=jI(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Fs.getLastRemoteSnapshotVersion(e)}))}function WN(e,t){var n=jI(e),r=t.snapshotVersion,i=n.Hi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Hi;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Fs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Fs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(wE.EMPTY_BYTE_STRING,eS.min()).withLastLimboFreeSnapshotVersion(eS.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Fs.updateTargetData(e,c))}}));var s=Z_(),u=uT();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(HN(e,a,t.documentUpdates).next((function(e){s=e.er,u=e.nr}))),!r.isEqual(eS.min())){var c=n.Fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return kS.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Hi=i,e}))}function HN(e,t,n){var r=uT(),i=uT();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Z_();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(eS.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):NI("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{er:r,nr:i}}))}function GN(e,t){var n=jI(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function QN(e,t){var n=jI(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Fs.getTargetData(e,t).next((function(i){return i?(r=i,kS.resolve(r)):n.Fs.allocateTargetId(e).next((function(i){return r=new QA(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Hi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Hi=n.Hi.insert(e.targetId,e),n.Ji.set(t,e.targetId)),e}))}function $N(e,t,n){return YN.apply(this,arguments)}function YN(){return(YN=Zi(Xi().mark((function e(t,n,r){var i,a,o;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=jI(t),a=i.Hi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),SS(e.t1)){e.next=12;break}throw e.t1;case 12:NI("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Hi=i.Hi.remove(n),i.Ji.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function XN(e,t,n){var r=jI(e),i=eS.min(),a=uT();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=jI(e),i=r.Ji.get(n);return void 0!==i?kS.resolve(r.Hi.get(i)):r.Fs.getTargetData(t,n)}(r,e,B_(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Wi.getDocumentsMatchingQuery(e,t,n?i:eS.min(),n?a:uT())})).next((function(e){return eP(r,Q_(t),e),{documents:e,sr:a}}))}))}function JN(e,t){var n=jI(e),r=jI(n.Fs),i=n.Hi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.he(e,t).next((function(e){return e?e.target:null}))}))}function ZN(e,t){var n=jI(e),r=n.Yi.get(t)||eS.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Xi.getAllFromCollectionGroup(e,t,fS(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return eP(n,t,e),e}))}function eP(e,t,n){var r=e.Yi.get(t)||eS.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Yi.set(t,r)}function tP(e,t,n,r){return nP.apply(this,arguments)}function nP(){return(nP=Zi(Xi().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,d,p;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=jI(t),o=uT(),s=Z_(),u=_(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.ir(l.metadata.name),l.document&&(o=o.add(f)),(h=n.rr(l)).setReadTime(n.ur(l.metadata.readTime)),s=s.insert(f,h)}catch(v){u.e(v)}finally{u.f()}return d=a.Xi.newChangeBuffer({trackRemovals:!0}),e.next=7,QN(a,function(e){return B_(L_(nS.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return HN(e,d,s).next((function(t){return d.apply(e),t})).next((function(t){return a.Fs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Fs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.er,t.nr)})).next((function(){return t.er}))}))})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rP(e,t){return iP.apply(this,arguments)}function iP(){return iP=Zi(Xi().mark((function e(t,n){var r,i,a,o=arguments;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:uT(),e.next=3,QN(t,B_(rC(n.bundledQuery)));case 3:return i=e.sent,a=jI(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=xA(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ls.saveNamedQuery(e,n);var o=i.withResumeToken(wE.EMPTY_BYTE_STRING,t);return a.Hi=a.Hi.insert(o.targetId,o),a.Fs.updateTargetData(e,o).next((function(){return a.Fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ls.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),iP.apply(this,arguments)}function aP(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function oP(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function sP(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var uP=function(){function e(t,n,r,i){h(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return m(e,[{key:"ar",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"cr",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new FI(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(PI("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),cP=function(){function e(t,n,r){h(this,e),this.targetId=t,this.state=n,this.error=r}return m(e,[{key:"ar",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"cr",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new FI(i.error.code,i.error.message))),a?new e(t,i.state,r):(PI("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),lP=function(){function e(t,n){h(this,e),this.clientId=t,this.activeTargetIds=n}return m(e,null,[{key:"cr",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=lT(),o=0;i&&o<r.activeTargetIds.length;++o)i=RS(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(PI("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),fP=function(){function e(t,n){h(this,e),this.clientId=t,this.onlineState=n}return m(e,null,[{key:"cr",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(PI("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),hP=function(){function e(){h(this,e),this.activeTargetIds=lT()}return m(e,[{key:"hr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"ar",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),dP=function(){function e(t,n,r,i,a){h(this,e),this.window=t,this.si=n,this.persistenceKey=r,this.dr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new dE(YI),this.started=!1,this.gr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.yr=aP(this.persistenceKey,this.dr),this.pr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.mr=this.mr.insert(this.dr,new hP),this.Ir=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Tr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Er=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Ar=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}return m(e,[{key:"start",value:function(){var e=Zi(Xi().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Mi();case 2:t=e.sent,n=_(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.dr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(aP(this.persistenceKey,i)))&&(o=lP.cr(i,a))&&(this.mr=this.mr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.vr(),(s=this.storage.getItem(this.Ar))&&(u=this.Pr(s))&&this.br(u),c=_(this.gr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.wr(f)}catch(d){c.e(d)}finally{c.f()}this.gr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.pr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Vr(this.mr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.mr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Sr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Sr(e,t,n),this.Dr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(sP(this.persistenceKey,e));if(n){var r=cP.cr(e,n);r&&(t=r.state)}}return this.Cr.hr(e),this.vr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Cr.lr(e),this.vr()}},{key:"isLocalQueryTarget",value:function(e){return this.Cr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(sP(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Nr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Dr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.kr(e)}},{key:"notifyBundleLoaded",value:function(e){this.Mr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return NI("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){NI("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){NI("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"wr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(NI("SharedClientState","EVENT",n.key,n.newValue),n.key===this.yr)return void PI("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(Zi(Xi().mark((function e(){var r,i,a,o,s,u,c;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Ir.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Or(n.key),e.abrupt("return",t.$r(r,null));case 6:if(!(i=t.Fr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.$r(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Tr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Br(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Lr(a));case 16:e.next=41;break;case 18:if(!t.Er.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.qr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Ur(o));case 23:e.next=41;break;case 25:if(n.key!==t.Ar){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Pr(n.newValue))){e.next=30;break}return e.abrupt("return",t.br(s));case 30:e.next=41;break;case 32:if(n.key!==t.pr){e.next=37;break}u=function(e){var t=PS.ct;if(null!=e)try{var n=JSON.parse(e);LI("number"==typeof n),t=n}catch(e){PI("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==PS.ct&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.Rr){e.next=41;break}return c=t.Kr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Gr(e)})));case 41:e.next=44;break;case 43:t.gr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Cr",get:function(){return this.mr.get(this.dr)}},{key:"vr",value:function(){this.setItem(this.yr,this.Cr.ar())}},{key:"Sr",value:function(e,t,n){var r=new uP(this.currentUser,e,t,n),i=oP(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ar())}},{key:"Dr",value:function(e){var t=oP(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"kr",value:function(e){var t={clientId:this.dr,onlineState:e};this.storage.setItem(this.Ar,JSON.stringify(t))}},{key:"Nr",value:function(e,t,n){var r=sP(this.persistenceKey,e),i=new cP(e,t,n);this.setItem(r,i.ar())}},{key:"Mr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}},{key:"Or",value:function(e){var t=this.Ir.exec(e);return t?t[1]:null}},{key:"Fr",value:function(e,t){var n=this.Or(e);return lP.cr(n,t)}},{key:"Br",value:function(e,t){var n=this.Tr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return uP.cr(new _I(i),r,t)}},{key:"qr",value:function(e,t){var n=this.Er.exec(e),r=Number(n[1]);return cP.cr(r,t)}},{key:"Pr",value:function(e){return fP.cr(e)}},{key:"Kr",value:function(e){return JSON.parse(e)}},{key:"Lr",value:function(){var e=Zi(Xi().mark((function e(t){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Qr(t.batchId,t.state,t.error));case 2:NI("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ur",value:function(e){return this.syncEngine.jr(e.targetId,e.state,e.error)}},{key:"$r",value:function(e,t){var n=this,r=t?this.mr.insert(e,t):this.mr.remove(e),i=this.Vr(this.mr),a=this.Vr(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.zr(o,s).then((function(){n.mr=r}))}},{key:"br",value:function(e){this.mr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Vr",value:function(e){var t=lT();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),pP=function(){function e(){h(this,e),this.Wr=new hP,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return m(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Hr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Wr.lr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Wr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Hr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Wr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Wr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Wr=new hP,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),vP=function(){function e(){h(this,e)}return m(e,[{key:"Jr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),mP=function(){function e(){var t=this;h(this,e),this.Yr=function(){return t.Xr()},this.Zr=function(){return t.eo()},this.no=[],this.so()}return m(e,[{key:"Jr",value:function(e){this.no.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}},{key:"so",value:function(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}},{key:"Xr",value:function(){NI("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=_(this.no);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"eo",value:function(){NI("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=_(this.no);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),yP=null;function gP(){return null===yP?yP=268435456+Math.round(2147483648*Math.random()):yP++,"0x"+yP.toString(16)}var kP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},bP=function(){function e(t){h(this,e),this.io=t.io,this.ro=t.ro}return m(e,[{key:"oo",value:function(e){this.uo=e}},{key:"co",value:function(e){this.ao=e}},{key:"onMessage",value:function(e){this.ho=e}},{key:"close",value:function(){this.ro()}},{key:"send",value:function(e){this.io(e)}},{key:"lo",value:function(){this.uo()}},{key:"fo",value:function(e){this.ao(e)}},{key:"_o",value:function(e){this.ho(e)}}]),e}(),wP="WebChannelConnection",xP=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return m(n,[{key:"Eo",value:function(e,t,n,r){var i=gP();return new Promise((function(a,o){var s=new xI;s.setWithCredentials(!0),s.listenOnce(yI.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case mI.NO_ERROR:var t=s.getResponseJson();NI(wP,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case mI.TIMEOUT:NI(wP,"RPC '".concat(e,"' ").concat(i," timed out")),o(new FI(MI.DEADLINE_EXCEEDED,"Request time out"));break;case mI.HTTP_ERROR:var n=s.getStatus();if(NI(wP,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(MI).indexOf(t)>=0?t:MI.UNKNOWN}(u.status);o(new FI(c,u.message))}else o(new FI(MI.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new FI(MI.UNAVAILABLE,"Connection failed."));break;default:RI()}}finally{NI(wP,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);NI(wP,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=gP(),i=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=pI(),o=vI(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new bI({})),this.To(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var u=i.join("");NI(wP,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),s);var c=a.createWebChannel(u,s),l=!1,f=!1,h=new bP({io:function(t){f?NI(wP,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(l||(NI(wP,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),l=!0),NI(wP,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},ro:function(){return c.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(c,wI.EventType.OPEN,(function(){f||NI(wP,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),d(c,wI.EventType.CLOSE,(function(){f||(f=!0,NI(wP,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.fo())})),d(c,wI.EventType.ERROR,(function(t){f||(f=!0,OI(wP,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.fo(new FI(MI.UNAVAILABLE,"The operation could not be completed")))})),d(c,wI.EventType.MESSAGE,(function(t){var n;if(!f){var i=t.data[0];LI(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){NI(wP,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=BT[e];if(void 0!==t)return YT(t)}(s),l=o.message;void 0===u&&(u=MI.INTERNAL,l="Unknown error status: "+s+" with message "+o.message),f=!0,h.fo(new FI(u,l)),c.close()}else NI(wP,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h._o(i)}})),d(o,gI.STAT_EVENT,(function(t){t.stat===kI.PROXY?NI(wP,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===kI.NOPROXY&&NI(wP,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){h.lo()}),0),h}}]),n}(function(){function e(t){h(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.wo=n+"://"+t.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return m(e,[{key:"yo",get:function(){return!1}},{key:"po",value:function(e,t,n,r,i){var a=gP(),o=this.Io(e,t);NI("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={};return this.To(s,r,i),this.Eo(e,o,s,n).then((function(t){return NI("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw OI("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"Ao",value:function(e,t,n,r,i,a){return this.po(e,t,n,r,i)}},{key:"To",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+TI,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Io",value:function(e,t){var n=kP[e];return"".concat(this.wo,"/v1/").concat(t,":").concat(n)}}]),e}());function IP(){return"undefined"!=typeof window?window:null}function SP(){return"undefined"!=typeof document?document:null}function EP(e){return new yA(e,!0)}var _P=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;h(this,e),this.si=t,this.timerId=n,this.vo=r,this.Po=i,this.bo=a,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}return m(e,[{key:"reset",value:function(){this.Vo=0}},{key:"Co",value:function(){this.Vo=this.bo}},{key:"xo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),i=Math.max(0,n-r);i>0&&NI("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Vo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.So=this.si.enqueueAfterDelay(this.timerId,i,(function(){return t.Do=Date.now(),e()})),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}},{key:"ko",value:function(){null!==this.So&&(this.So.skipDelay(),this.So=null)}},{key:"cancel",value:function(){null!==this.So&&(this.So.cancel(),this.So=null)}},{key:"No",value:function(){return(Math.random()-.5)*this.Vo}}]),e}(),TP=function(){function e(t,n,r,i,a,o,s,u){h(this,e),this.si=t,this.Mo=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new _P(t,n)}return m(e,[{key:"qo",value:function(){return 1===this.state||5===this.state||this.Uo()}},{key:"Uo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Ko()}},{key:"stop",value:function(){var e=Zi(Xi().mark((function e(){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.qo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Go",value:function(){this.state=0,this.Lo.reset()}},{key:"Qo",value:function(){var e=this;this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,(function(){return e.jo()})))}},{key:"zo",value:function(e){this.Wo(),this.stream.send(e)}},{key:"jo",value:function(){var e=Zi(Xi().mark((function e(){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Uo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Wo",value:function(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"close",value:function(){var e=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Wo(),this.Ho(),this.Lo.cancel(),this.$o++,4!==t?this.Lo.reset():n&&n.code===MI.RESOURCE_EXHAUSTED?(PI(n.toString()),PI("Using maximum backoff delay to prevent overloading the backend."),this.Lo.Co()):n&&n.code===MI.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Jo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.co(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Jo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Yo(this.$o),n=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.$o===n&&e.Xo(i,a)}),(function(n){t((function(){var t=new FI(MI.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Zo(t)}))}))}},{key:"Xo",value:function(e,t){var n=this,r=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo((function(){r((function(){return n.state=2,n.Bo=n.si.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Uo()&&(n.state=3),Promise.resolve()})),n.listener.oo()}))})),this.stream.co((function(e){r((function(){return n.Zo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Ko",value:function(){var e=this;this.state=5,this.Lo.xo(Zi(Xi().mark((function t(){return Xi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Zo",value:function(e){return NI("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Yo",value:function(e){var t=this;return function(n){t.si.enqueueAndForget((function(){return t.$o===e?n():(NI("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),AP=function(e){g(n,e);var t=x(n);function n(e,r,i,a,o,s){var u;return h(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return m(n,[{key:"tu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.Lo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:RI()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(LI(void 0===t||"string"==typeof t),wE.fromBase64String(t||"")):(LI(void 0===t||t instanceof Uint8Array),wE.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?MI.UNKNOWN:YT(e.code);return new FI(t,e.message||"")}(o);n=new cA(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=_A(e,u.document.name),l=xA(u.document.updateTime),f=u.document.createTime?xA(u.document.createTime):eS.min(),h=new JE({mapValue:{fields:u.document.fields}}),d=e_.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new sA(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=_A(e,m.document),g=m.readTime?xA(m.readTime):eS.min(),k=e_.newNoDocument(y,g),b=m.removedTargetIds||[];n=new sA([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=_A(e,w.document),I=w.removedTargetIds||[];n=new sA([],I,x,null)}else{if(!("filter"in t))return RI();t.filter;var S=t.filter;S.targetId;var E=S.count,_=void 0===E?0:E,T=S.unchangedNames,A=new QT(_,T),C=S.targetId;n=new uA(C,A)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return eS.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?eS.min():t.readTime?xA(t.readTime):eS.min()}(e);return this.listener.eu(t,n)}},{key:"nu",value:function(e){var t={};t.database=CA(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=C_(r)?{documents:jA(e,r)}:{query:MA(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=bA(e,t.resumeToken);var i=gA(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(eS.min())>0){n.readTime=kA(e,t.snapshotVersion.toTimestamp());var a=gA(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return RI()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.zo(t)}},{key:"su",value:function(e){var t={};t.database=CA(this.serializer),t.removeTarget=e,this.zo(t)}}]),n}(TP),CP=function(e){g(n,e);var t=x(n);function n(e,r,i,a,o,s){var u;return h(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.iu=!1,u}return m(n,[{key:"ru",get:function(){return this.iu}},{key:"start",value:function(){this.iu=!1,this.lastStreamToken=void 0,Ao(k(n.prototype),"start",this).call(this)}},{key:"Jo",value:function(){this.iu&&this.ou([])}},{key:"tu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(LI(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();var t=function(e,t){return e&&e.length>0?(LI(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?xA(e.updateTime):xA(t);return n.isEqual(eS.min())&&(n=xA(t)),new TT(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=xA(e.commitTime);return this.listener.uu(n,t)}return LI(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}},{key:"au",value:function(){var e={};e.database=CA(this.serializer),this.zo(e)}},{key:"ou",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return RA(t.serializer,e)}))};this.zo(n)}}]),n}(TP),NP=function(e){g(n,e);var t=x(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.hu=!1,o}return m(n,[{key:"lu",value:function(){if(this.hu)throw new FI(MI.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"po",value:function(e,t,n){var r=this;return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],s=a[1];return r.connection.po(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===MI.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new FI(MI.UNKNOWN,e.toString())}))}},{key:"Ao",value:function(e,t,n,r){var i=this;return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=c(a,2),s=o[0],u=o[1];return i.connection.Ao(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===MI.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new FI(MI.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.hu=!0}}]),n}(function(){return m((function e(){h(this,e)}))}());var PP=function(){function e(t,n){h(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}return m(e,[{key:"mu",value:function(){var e=this;0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.yu("Backend didn't respond within 10 seconds."),e.gu("Offline"),Promise.resolve()})))}},{key:"pu",value:function(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.gu("Offline")))}},{key:"set",value:function(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}},{key:"gu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"yu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.wu?(PI(t),this.wu=!1):NI("OnlineStateTracker",t)}},{key:"Iu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),OP=m((function e(t,n,r,i,a){var o=this;h(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=a,this.vu.Jr((function(e){r.enqueueAndForget(Zi(Xi().mark((function e(){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=qP(o),!e.t0){e.next=5;break}return NI("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Zi(Xi().mark((function e(t){var n;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=jI(t)).Au.add(4),e.next=4,LP(n);case 4:return n.Pu.set("Unknown"),n.Au.delete(4),e.next=8,DP(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Pu=new PP(r,i)}));function DP(e){return RP.apply(this,arguments)}function RP(){return(RP=Zi(Xi().mark((function e(t){var n,r,i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!qP(t)){e.next=18;break}n=_(t.Ru),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function LP(e){return jP.apply(this,arguments)}function jP(){return(jP=Zi(Xi().mark((function e(t){var n,r,i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=_(t.Ru),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function MP(e,t){var n=jI(e);n.Eu.has(t.targetId)||(n.Eu.set(t.targetId,t),zP(n)?BP(n):gO(n).Uo()&&UP(n,t))}function FP(e,t){var n=jI(e),r=gO(n);n.Eu.delete(t),r.Uo()&&VP(n,t),0===n.Eu.size&&(r.Uo()?r.Qo():qP(n)&&n.Pu.set("Unknown"))}function UP(e,t){if(e.bu.Lt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(eS.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}gO(e).nu(t)}function VP(e,t){e.bu.Lt(t),gO(e).su(t)}function BP(e){e.bu=new fA({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},he:function(t){return e.Eu.get(t)||null},oe:function(){return e.datastore.serializer.databaseId}}),gO(e).start(),e.Pu.mu()}function zP(e){return qP(e)&&!gO(e).qo()&&e.Eu.size>0}function qP(e){return 0===jI(e).Au.size}function KP(e){e.bu=void 0}function WP(e){return HP.apply(this,arguments)}function HP(){return(HP=Zi(Xi().mark((function e(t){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Eu.forEach((function(e,n){UP(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GP(e,t){return QP.apply(this,arguments)}function QP(){return(QP=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:KP(t),zP(t)?(t.Pu.pu(n),BP(t)):t.Pu.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $P(e,t,n){return YP.apply(this,arguments)}function YP(){return YP=Zi(Xi().mark((function e(t,n,r){var i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Pu.set("Online"),!(n instanceof cA&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Zi(Xi().mark((function e(t,n){var r,i,a,o;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=_(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Eu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Eu.delete(o),t.bu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),NI("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,XP(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof sA?t.bu.Wt(n):n instanceof uA?t.bu.ee(n):t.bu.Yt(n),r.isEqual(eS.min())){e.next=29;break}return e.prev=14,e.next=17,KN(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.bu.ue(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Eu.get(r);i&&e.Eu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Eu.get(t);if(r){e.Eu.set(t,r.withResumeToken(wE.EMPTY_BYTE_STRING,r.snapshotVersion)),VP(e,t);var i=new QA(r.target,t,n,r.sequenceNumber);UP(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),NI("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,XP(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),YP.apply(this,arguments)}function XP(e,t,n){return JP.apply(this,arguments)}function JP(){return(JP=Zi(Xi().mark((function e(t,n,r){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(SS(n)){e.next=2;break}throw n;case 2:return t.Au.add(1),e.next=5,LP(t);case 5:t.Pu.set("Offline"),r||(r=function(){return KN(t.localStore)}),t.asyncQueue.enqueueRetryable(Zi(Xi().mark((function e(){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return NI("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Au.delete(1),e.next=6,DP(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ZP(e,t){return t().catch((function(n){return XP(e,n,t)}))}function eO(e){return tO.apply(this,arguments)}function tO(){return(tO=Zi(Xi().mark((function e(t){var n,r,i,a;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=jI(t),r=kO(n),i=n.Tu.length>0?n.Tu[n.Tu.length-1].batchId:-1;case 2:if(!nO(n)){e.next=19;break}return e.prev=3,e.next=6,GN(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Tu.length&&r.Qo(),e.abrupt("break",19);case 10:i=a.batchId,rO(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,XP(n,e.t0);case 17:e.next=2;break;case 19:iO(n)&&aO(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function nO(e){return qP(e)&&e.Tu.length<10}function rO(e,t){e.Tu.push(t);var n=kO(e);n.Uo()&&n.ru&&n.ou(t.mutations)}function iO(e){return qP(e)&&!kO(e).qo()&&e.Tu.length>0}function aO(e){kO(e).start()}function oO(e){return sO.apply(this,arguments)}function sO(){return(sO=Zi(Xi().mark((function e(t){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:kO(t).au();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uO(e){return cO.apply(this,arguments)}function cO(){return(cO=Zi(Xi().mark((function e(t){var n,r,i,a;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=kO(t),r=_(t.Tu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.ou(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lO(e,t,n){return fO.apply(this,arguments)}function fO(){return(fO=Zi(Xi().mark((function e(t,n,r){var i,a;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Tu.shift(),a=HT.from(i,n,r),e.next=3,ZP(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,eO(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hO(e,t){return dO.apply(this,arguments)}function dO(){return dO=Zi(Xi().mark((function e(t,n){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&kO(t).ru,!e.t0){e.next=4;break}return e.next=4,function(){var e=Zi(Xi().mark((function e(t,n){var r,i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$T(i=n.code)||i===MI.ABORTED){e.next=7;break}return r=t.Tu.shift(),kO(t).Go(),e.next=5,ZP(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,eO(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:iO(t)&&aO(t);case 5:case"end":return e.stop()}}),e)}))),dO.apply(this,arguments)}function pO(e,t){return vO.apply(this,arguments)}function vO(){return(vO=Zi(Xi().mark((function e(t,n){var r,i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=jI(t)).asyncQueue.verifyOperationInProgress(),NI("RemoteStore","RemoteStore received new credentials"),i=qP(r),r.Au.add(3),e.next=6,LP(r);case 6:return i&&r.Pu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Au.delete(3),e.next=12,DP(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mO(e,t){return yO.apply(this,arguments)}function yO(){return(yO=Zi(Xi().mark((function e(t,n){var r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jI(t),!n){e.next=7;break}return r.Au.delete(2),e.next=5,DP(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Au.add(2),e.next=12,LP(r);case 12:r.Pu.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gO(e){return e.Vu||(e.Vu=function(e,t,n){var r=jI(e);return r.lu(),new AP(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{oo:WP.bind(null,e),co:GP.bind(null,e),eu:$P.bind(null,e)}),e.Ru.push(function(){var t=Zi(Xi().mark((function t(n){return Xi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Vu.Go(),zP(e)?BP(e):e.Pu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Vu.stop();case 6:KP(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Vu}function kO(e){return e.Su||(e.Su=function(e,t,n){var r=jI(e);return r.lu(),new CP(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{oo:oO.bind(null,e),co:hO.bind(null,e),cu:uO.bind(null,e),uu:lO.bind(null,e)}),e.Ru.push(function(){var t=Zi(Xi().mark((function t(n){return Xi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Su.Go(),t.next=4,eO(e);case 4:t.next=9;break;case 6:return t.next=8,e.Su.stop();case 8:e.Tu.length>0&&(NI("RemoteStore","Stopping write stream with ".concat(e.Tu.length," pending writes")),e.Tu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}var bO=function(){function e(t,n,r,i,a){h(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new UI,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return m(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new FI(MI.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function wO(e,t){if(PI("AsyncQueue","".concat(t,": ").concat(e)),SS(e))return new FI(MI.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var xO=function(){function e(t){h(this,e),this.comparator=t?function(e,n){return t(e,n)||aS.comparator(e.key,n.key)}:function(e,t){return aS.comparator(e.key,t.key)},this.keyedMap=tT(),this.sortedSet=new dE(this.comparator)}return m(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),IO=function(){function e(){h(this,e),this.Du=new dE(aS.comparator)}return m(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Du.get(t);n?0!==e.type&&3===n.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==n.type?this.Du=this.Du.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Du=this.Du.remove(t):1===e.type&&2===n.type?this.Du=this.Du.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):RI():this.Du=this.Du.insert(t,e)}},{key:"Cu",value:function(){var e=[];return this.Du.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),SO=function(){function e(t,n,r,i,a,o,s,u,c){h(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return m(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&K_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,xO.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),EO=m((function e(){h(this,e),this.xu=void 0,this.listeners=[]})),_O=m((function e(){h(this,e),this.queries=new X_((function(e){return W_(e)}),K_),this.onlineState="Unknown",this.Nu=new Set}));function TO(e,t){return AO.apply(this,arguments)}function AO(){return(AO=Zi(Xi().mark((function e(t,n){var r,i,a,o,s;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jI(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new EO),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.xu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=wO(e.t0,"Initialization of query '".concat(H_(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.ku(r.onlineState),o.xu&&n.Mu(o.xu)&&DO(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function CO(e,t){return NO.apply(this,arguments)}function NO(){return(NO=Zi(Xi().mark((function e(t,n){var r,i,a,o,s;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jI(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function PO(e,t){var n,r=jI(e),i=!1,a=_(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=_(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Mu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.xu=o}}}catch(f){a.e(f)}finally{a.f()}i&&DO(r)}function OO(e,t,n){var r=jI(e),i=r.queries.get(t);if(i){var a,o=_(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function DO(e){e.Nu.forEach((function(e){e.next()}))}var RO=function(){function e(t,n,r){h(this,e),this.query=t,this.Ou=n,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=r||{}}return m(e,[{key:"Mu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=_(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new SO(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),a=!0):this.Lu(e,this.onlineState)&&(this.qu(e),a=!0),this.Fu=e,a}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"ku",value:function(e){this.onlineState=e;var t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}},{key:"Lu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Uu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Bu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"qu",value:function(e){e=SO.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}]),e}(),LO=function(){function e(t,n){h(this,e),this.Ku=t,this.byteLength=n}return m(e,[{key:"Gu",value:function(){return"metadata"in this.Ku}}]),e}(),jO=function(){function e(t){h(this,e),this.serializer=t}return m(e,[{key:"ir",value:function(e){return _A(this.serializer,e)}},{key:"rr",value:function(e){return e.metadata.exists?OA(this.serializer,e.document,!1):e_.newNoDocument(this.ir(e.metadata.name),this.ur(e.metadata.readTime))}},{key:"ur",value:function(e){return xA(e)}}]),e}(),MO=function(){function e(t,n,r){h(this,e),this.Qu=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=FO(t)}return m(e,[{key:"ju",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Ku.namedQuery)this.queries.push(e.Ku.namedQuery);else if(e.Ku.documentMetadata){this.documents.push({metadata:e.Ku.documentMetadata}),e.Ku.documentMetadata.exists||++t;var n=nS.fromString(e.Ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Ku.document&&(this.documents[this.documents.length-1].document=e.Ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"zu",value:function(e){var t,n=new Map,r=new jO(this.serializer),i=_(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.ir(a.metadata.name),u=_(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||uT()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Zi(Xi().mark((function e(){var t,n,r,i,a;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tP(this.localStore,new jO(this.serializer),this.documents,this.Qu.id);case 2:t=e.sent,n=this.zu(this.documents),r=_(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,rP(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Wu:this.collectionGroups,Hu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function FO(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var UO=m((function e(t){h(this,e),this.key=t})),VO=m((function e(t){h(this,e),this.key=t})),BO=function(){function e(t,n){h(this,e),this.query=t,this.Ju=n,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=uT(),this.mutatedKeys=uT(),this.Zu=$_(t),this.tc=new xO(this.Zu)}return m(e,[{key:"ec",get:function(){return this.Ju}},{key:"nc",value:function(e,t){var n=this,r=t?t.sc:new IO,i=t?t.tc:this.tc,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=G_(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.ic(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Zu(f,u)>0||c&&n.Zu(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{tc:o,sc:r,ji:s,mutatedKeys:a}}},{key:"ic",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;var a=e.sc.Cu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return RI()}};return n(e)-n(t)}(e.type,t.type)||r.Zu(e.doc,t.doc)})),this.rc(n);var o=t?this.oc():[],s=0===this.Xu.size&&this.current?1:0,u=s!==this.Yu;return this.Yu=s,0!==a.length||u?{snapshot:new SO(this.query,e.tc,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),uc:o}:{uc:o}}},{key:"ku",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new IO,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}},{key:"cc",value:function(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}},{key:"rc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Ju=t.Ju.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Ju=t.Ju.delete(e)})),this.current=e.current)}},{key:"oc",value:function(){var e=this;if(!this.current)return[];var t=this.Xu;this.Xu=uT(),this.tc.forEach((function(t){e.cc(t.key)&&(e.Xu=e.Xu.add(t.key))}));var n=[];return t.forEach((function(t){e.Xu.has(t)||n.push(new VO(t))})),this.Xu.forEach((function(e){t.has(e)||n.push(new UO(e))})),n}},{key:"ac",value:function(e){this.Ju=e.sr,this.Xu=uT();var t=this.nc(e.documents);return this.applyChanges(t,!0)}},{key:"hc",value:function(){return SO.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}]),e}(),zO=m((function e(t,n,r){h(this,e),this.query=t,this.targetId=n,this.view=r})),qO=m((function e(t){h(this,e),this.key=t,this.lc=!1})),KO=function(){function e(t,n,r,i,a,o){h(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.fc={},this.dc=new X_((function(e){return W_(e)}),K_),this._c=new Map,this.wc=new Set,this.mc=new dE(aS.comparator),this.gc=new Map,this.yc=new wN,this.Ic={},this.Tc=new Map,this.Ec=YC.kn(),this.onlineState="Unknown",this.Ac=void 0}return m(e,[{key:"isPrimaryClient",get:function(){return!0===this.Ac}}]),e}();function WO(e,t){return HO.apply(this,arguments)}function HO(){return(HO=Zi(Xi().mark((function e(t,n){var r,i,a,o,s,u;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=FD(t),!(o=r.dc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.hc(),e.next=15;break;case 6:return e.next=8,QN(r.localStore,B_(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,GO(r,n,i,"current"===u,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&MP(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GO(e,t,n,r,i){return QO.apply(this,arguments)}function QO(){return QO=Zi(Xi().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,n,r){return function(){var e=Zi(Xi().mark((function e(t,n,r,i){var a,o,s;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.nc(r),e.t0=a.ji,!e.t0){e.next=6;break}return e.next=5,XN(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.nc(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(pD(t,n.targetId,s.uc),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,XN(t.localStore,n,!0);case 3:return o=e.sent,s=new BO(n,o.sr),u=s.nc(o.documents),c=oA.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),pD(t,r,l.uc),f=new zO(n,r,s),e.abrupt("return",(t.dc.set(n,f),t._c.has(r)?t._c.get(r).push(n):t._c.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),QO.apply(this,arguments)}function $O(e,t){return YO.apply(this,arguments)}function YO(){return(YO=Zi(Xi().mark((function e(t,n){var r,i,a;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jI(t),i=r.dc.get(n),!((a=r._c.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r._c.set(i.targetId,a.filter((function(e){return!K_(e,n)}))),void r.dc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,$N(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),FP(r.remoteStore,i.targetId),hD(r,i.targetId)})).catch(yS);case 9:e.next=14;break;case 11:return hD(r,i.targetId),e.next=14,$N(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function XO(e,t,n){return JO.apply(this,arguments)}function JO(){return(JO=Zi(Xi().mark((function e(t,n,r){var i,a,o;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=UD(t),e.prev=1,e.next=4,function(e,t){var n,r,i=jI(e),a=ZI.now(),o=t.reduce((function(e,t){return e.add(t.key)}),uT());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Z_(),u=uT();return i.Xi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=_(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=RT(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new MT(c.key,l,ZE(l.value.mapValue),AT.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:nT(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ic[e.currentUser.toKey()];r||(r=new dE(YI)),r=r.insert(t,n),e.Ic[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,yD(i,a.changes);case 9:return e.next=11,eO(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=wO(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function ZO(e,t){return eD.apply(this,arguments)}function eD(){return(eD=Zi(Xi().mark((function e(t,n){var r,i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jI(t),e.prev=1,e.next=4,WN(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.gc.get(t);n&&(LI(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.lc=!0:e.modifiedDocuments.size>0?LI(n.lc):e.removedDocuments.size>0&&(LI(n.lc),n.lc=!1))})),e.next=8,yD(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,yS(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function tD(e,t,n){var r=jI(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.dc.forEach((function(e,n){var r=n.view.ku(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=jI(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=_(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ku(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&DO(n)}(r.eventManager,t),i.length&&r.fc.eu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function nD(e,t,n){return rD.apply(this,arguments)}function rD(){return(rD=Zi(Xi().mark((function e(t,n,r){var i,a,o,s,u,c;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=jI(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.gc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new dE(aS.comparator)).insert(o,e_.newNoDocument(o,eS.min())),u=uT().add(o),c=new aA(eS.min(),new Map,new dE(YI),s,u),e.next=9,ZO(i,c);case 9:i.mc=i.mc.remove(o),i.gc.delete(n),mD(i),e.next=16;break;case 14:return e.next=16,$N(i.localStore,n,!1).then((function(){return hD(i,n,r)})).catch(yS);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iD(e,t){return aD.apply(this,arguments)}function aD(){return(aD=Zi(Xi().mark((function e(t,n){var r,i,a;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jI(t),i=n.batch.batchId,e.prev=1,e.next=4,qN(r.localStore,n);case 4:return a=e.sent,fD(r,i,null),lD(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,yD(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,yS(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function oD(e,t,n){return sD.apply(this,arguments)}function sD(){return(sD=Zi(Xi().mark((function e(t,n,r){var i,a;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jI(t),e.prev=1,e.next=4,function(e,t){var n=jI(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return LI(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,fD(i,n,r),lD(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,yD(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,yS(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function uD(e,t){return cD.apply(this,arguments)}function cD(){return(cD=Zi(Xi().mark((function e(t,n){var r,i,a,o;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qP((r=jI(t)).remoteStore)||NI("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=jI(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Tc.get(i)||[]).push(n),r.Tc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=wO(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function lD(e,t){(e.Tc.get(t)||[]).forEach((function(e){e.resolve()})),e.Tc.delete(t)}function fD(e,t,n){var r=jI(e),i=r.Ic[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ic[r.currentUser.toKey()]=i}}function hD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=_(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.dc.delete(a),n&&e.fc.vc(a,n)}}catch(o){i.e(o)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.yc.ps(t).forEach((function(t){e.yc.containsKey(t)||dD(e,t)}))}function dD(e,t){e.wc.delete(t.path.canonicalString());var n=e.mc.get(t);null!==n&&(FP(e.remoteStore,n),e.mc=e.mc.remove(t),e.gc.delete(n),mD(e))}function pD(e,t,n){var r,i=_(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof UO?(e.yc.addReference(a.key,t),vD(e,a)):a instanceof VO?(NI("SyncEngine","Document no longer in limbo: "+a.key),e.yc.removeReference(a.key,t),e.yc.containsKey(a.key)||dD(e,a.key)):RI()}}catch(o){i.e(o)}finally{i.f()}}function vD(e,t){var n=t.key,r=n.path.canonicalString();e.mc.get(n)||e.wc.has(r)||(NI("SyncEngine","New document in limbo: "+n),e.wc.add(r),mD(e))}function mD(e){for(;e.wc.size>0&&e.mc.size<e.maxConcurrentLimboResolutions;){var t=e.wc.values().next().value;e.wc.delete(t);var n=new aS(nS.fromString(t)),r=e.Ec.next();e.gc.set(r,new qO(n)),e.mc=e.mc.insert(n,r),MP(e.remoteStore,new QA(B_(L_(n.path)),r,"TargetPurposeLimboResolution",PS.ct))}}function yD(e,t,n){return gD.apply(this,arguments)}function gD(){return gD=Zi(Xi().mark((function e(t,n,r){var i,a,o,s;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=jI(t),a=[],o=[],s=[],e.t0=i.dc.isEmpty(),e.t0){e.next=9;break}return i.dc.forEach((function(e,t){s.push(i.Rc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=MN.Bi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.fc.eu(a),e.next=9,function(){var e=Zi(Xi().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jI(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return kS.forEach(n,(function(t){return kS.forEach(t.$i,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return kS.forEach(t.Fi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),SS(e.t0)){e.next=10;break}throw e.t0;case 10:NI("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=_(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Hi.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Hi=r.Hi.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),gD.apply(this,arguments)}function kD(e,t){return bD.apply(this,arguments)}function bD(){return(bD=Zi(Xi().mark((function e(t,n){var r,i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=jI(t)).currentUser.isEqual(n)){e.next=11;break}return NI("SyncEngine","User change. New user:",n.toKey()),e.next=5,BN(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Tc.forEach((function(e){e.forEach((function(e){e.reject(new FI(MI.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Tc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,yD(r,i.tr);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wD(e,t){var n=jI(e),r=n.gc.get(t);if(r&&r.lc)return uT().add(r.key);var i=uT(),a=n._c.get(t);if(!a)return i;var o,s=_(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.dc.get(u);i=i.unionWith(c.view.ec)}}catch(l){s.e(l)}finally{s.f()}return i}function xD(e,t){return ID.apply(this,arguments)}function ID(){return(ID=Zi(Xi().mark((function e(t,n){var r,i,a;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jI(t),e.next=3,XN(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ac(i),e.abrupt("return",(r.isPrimaryClient&&pD(r,n.targetId,a.uc),a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SD(e,t){return ED.apply(this,arguments)}function ED(){return(ED=Zi(Xi().mark((function e(t,n){var r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jI(t),e.abrupt("return",ZN(r.localStore,n).then((function(e){return yD(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _D(e,t,n,r){return TD.apply(this,arguments)}function TD(){return(TD=Zi(Xi().mark((function e(t,n,r,i){var a,o;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=jI(t),e.next=3,function(e,t){var n=jI(e),r=jI(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Vn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):kS.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,eO(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(fD(a,n,i||null),lD(a,n),function(e,t){jI(jI(e).mutationQueue).Dn(t)}(a.localStore,n)):RI();case 11:return e.next=13,yD(a,o);case 13:e.next=16;break;case 15:NI("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AD(e,t){return CD.apply(this,arguments)}function CD(){return(CD=Zi(Xi().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(FD(r=jI(t)),UD(r),!0!==n||!0===r.Ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,ND(r,i.toArray());case 5:return a=e.sent,r.Ac=!0,e.next=9,mO(r.remoteStore,!0);case 9:o=_(a);try{for(o.s();!(s=o.n()).done;)u=s.value,MP(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Ac){e.next=25;break}return c=[],l=Promise.resolve(),r._c.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return hD(r,t),$N(r.localStore,t,!0)})),FP(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,ND(r,c);case 21:return function(e){var t=jI(e);t.gc.forEach((function(e,n){FP(t.remoteStore,n)})),t.yc.Is(),t.gc=new Map,t.mc=new dE(aS.comparator)}(r),r.Ac=!1,e.next=25,mO(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ND(e,t,n){return PD.apply(this,arguments)}function PD(){return(PD=Zi(Xi().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p,v,m,y;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=jI(t),a=[],o=[],s=_(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i._c.get(c))||0===f.length){e.next=34;break}return e.next=11,QN(i.localStore,B_(f[0]));case 11:l=e.sent,h=_(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.dc.get(p),e.next=20,xD(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,JN(i.localStore,c);case 36:return y=e.sent,e.next=39,QN(i.localStore,y);case 39:return l=e.sent,e.next=42,GO(i,OD(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.fc.eu(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])})))).apply(this,arguments)}function OD(e){return R_(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function DD(e){var t=jI(e);return jI(jI(t.localStore).persistence).Mi()}function RD(e,t,n,r){return LD.apply(this,arguments)}function LD(){return(LD=Zi(Xi().mark((function e(t,n,r,i){var a,o,s,u;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=jI(t)).Ac){e.next=3;break}return e.abrupt("return",void NI("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a._c.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,ZN(a.localStore,Q_(o[0]));case 10:return s=e.sent,u=aA.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,wE.EMPTY_BYTE_STRING),e.next=14,yD(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,$N(a.localStore,n,!0);case 17:return hD(a,n,i),e.abrupt("break",20);case 19:RI();case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jD(e,t,n){return MD.apply(this,arguments)}function MD(){return(MD=Zi(Xi().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=FD(t)).Ac){e.next=45;break}a=_(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i._c.has(s)){e.next=10;break}return NI("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,JN(i.localStore,s);case 12:return u=e.sent,e.next=15,QN(i.localStore,u);case 15:return c=e.sent,e.next=18,GO(i,OD(u),c.targetId,!1,c.resumeToken);case 18:MP(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=_(r),e.prev=30,h=Xi().mark((function e(){var t;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i._c.has(t),!e.t0){e.next=5;break}return e.next=5,$N(i.localStore,t,!1).then((function(){FP(i.remoteStore,t),hD(i,t)})).catch(yS);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])})))).apply(this,arguments)}function FD(e){var t=jI(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ZO.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=nD.bind(null,t),t.fc.eu=PO.bind(null,t.eventManager),t.fc.vc=OO.bind(null,t.eventManager),t}function UD(e){var t=jI(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=iD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=oD.bind(null,t),t}function VD(e,t,n){var r=jI(e);(function(){var e=Zi(Xi().mark((function e(t,n,r){var i,a,o,s,u;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=jI(e),r=xA(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ls.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(FO(i)),a=new MO(i,t.localStore,n.serializer),e.next=15,n.Pc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.ju(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.Pc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,yD(t,u.Hu,void 0);case 31:return e.next=33,function(e,t){var n=jI(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ls.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Wu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(OI("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var BD=function(){function e(){h(this,e),this.synchronizeTabs=!1}return m(e,[{key:"initialize",value:function(){var e=Zi(Xi().mark((function e(t){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=EP(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return VN(this.persistence,new FN,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new TN(CN.js,this.serializer)}},{key:"createSharedClientState",value:function(e){return new pP}},{key:"terminate",value:function(){var e=Zi(Xi().mark((function e(){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),zD=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).bc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return m(n,[{key:"initialize",value:function(){var e=Zi(Xi().mark((function e(t){var r=this;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ao(k(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.bc.initialize(this,t);case 4:return e.next=6,UD(this.bc.syncEngine);case 6:return e.next=8,eO(this.bc.remoteStore);case 8:return e.next=10,this.persistence.pi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return VN(this.persistence,new FN,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new rN(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new NS(t,this.persistence);return new CS(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=jN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?zC.withCacheSize(this.cacheSizeBytes):zC.DEFAULT;return new DN(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,IP(),SP(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new pP}}]),n}(BD),qD=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r,!1)).bc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return m(n,[{key:"initialize",value:function(){var e=Zi(Xi().mark((function e(t){var r,i=this;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ao(k(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.bc.syncEngine,e.t0=this.sharedClientState instanceof dP,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Qr:_D.bind(null,r),jr:RD.bind(null,r),zr:jD.bind(null,r),Mi:DD.bind(null,r),Gr:SD.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.pi(function(){var e=Zi(Xi().mark((function e(t){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,AD(i.bc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=IP();if(!dP.D(t))throw new FI(MI.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=jN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new dP(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(zD),KD=function(){function e(){h(this,e)}return m(e,[{key:"initialize",value:function(){var e=Zi(Xi().mark((function e(t,n){var r=this;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return tD(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=kD.bind(null,this.syncEngine),e.next=12,mO(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new _O}},{key:"createDatastore",value:function(e){var t,n=EP(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new xP(t));return function(e,t,n,r){return new NP(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return tD(o.syncEngine,e,0)},a=mP.D()?new mP:new vP,new OP(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new KO(e,t,n,r,i,a);return o&&(s.Ac=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Zi(Xi().mark((function e(t){var n;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=jI(t),NI("RemoteStore","RemoteStore shutting down."),n.Au.add(5),e.next=5,LP(n);case 5:n.vu.shutdown(),n.Pu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function WD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Zi(Xi().mark((function r(){var i;return Xi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Zi(Xi().mark((function e(){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var HD=function(){function e(t){h(this,e),this.observer=t,this.muted=!1}return m(e,[{key:"next",value:function(e){this.observer.next&&this.Vc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Vc(this.observer.error,e):PI("Uncaught Error in snapshot listener:",e.toString())}},{key:"Sc",value:function(){this.muted=!0}},{key:"Vc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),GD=function(){function e(t,n){var r=this;h(this,e),this.Dc=t,this.serializer=n,this.metadata=new UI,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then((function(e){e&&e.Gu()?r.metadata.resolve(e.Ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Ku))))}),(function(e){return r.metadata.reject(e)}))}return m(e,[{key:"close",value:function(){return this.Dc.cancel()}},{key:"getMetadata",value:function(){var e=Zi(Xi().mark((function e(){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pc",value:function(){var e=Zi(Xi().mark((function e(){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.xc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){var e=Zi(Xi().mark((function e(){var t,n,r,i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Nc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Cc.decode(t),r=Number(n),isNaN(r)&&this.kc("length string (".concat(n,") is not valid number")),e.next=9,this.Mc(r);case 9:return i=e.sent,e.abrupt("return",new LO(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Nc",value:function(){var e=Zi(Xi().mark((function e(){var t,n;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Oc()<0)){e.next=7;break}return e.next=3,this.$c();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Oc())<0&&this.kc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mc",value:function(){var e=Zi(Xi().mark((function e(t){var n;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.$c();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.kc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Cc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kc",value:function(e){throw this.Dc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"$c",value:function(){var e=Zi(Xi().mark((function e(){var t,n;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Dc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),QD=function(){function e(t){h(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return m(e,[{key:"lookup",value:function(){var e=Zi(Xi().mark((function e(t){var n,r=this;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new FI(MI.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Zi(Xi().mark((function e(t,n){var r,i,a,o,s,u;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jI(t),i=CA(r.serializer)+"/documents",a={documents:n.map((function(e){return EA(r.serializer,e)}))},e.next=5,r.Ao("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=DA(r.serializer,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());LI(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new qT(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Zi(Xi().mark((function e(){var t,n=this;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=aS.fromPath(t);n.mutations.push(new KT(r,n.precondition(r)))})),e.next=7,function(){var e=Zi(Xi().mark((function e(t,n){var r,i,a;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jI(t),i=CA(r.serializer)+"/documents",a={writes:n.map((function(e){return RA(r.serializer,e)}))},e.next=3,r.po("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw RI();t=eS.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new FI(MI.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(eS.min())?AT.exists(!1):AT.updateTime(t):AT.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(eS.min()))throw new FI(MI.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return AT.updateTime(t)}return AT.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),$D=function(){function e(t,n,r,i,a){h(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Fc=r.maxAttempts,this.Lo=new _P(this.asyncQueue,"transaction_retry")}return m(e,[{key:"run",value:function(){this.Fc-=1,this.Bc()}},{key:"Bc",value:function(){var e=this;this.Lo.xo(Zi(Xi().mark((function t(){var n,r;return Xi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new QD(e.datastore),(r=e.Lc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.qc(t)}))}))})).catch((function(t){e.qc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Lc",value:function(e){try{var t=this.updateFunction(e);return!OS(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"qc",value:function(e){var t=this;this.Fc>0&&this.Uc(e)?(this.Fc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Bc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Uc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!$T(t)}return!1}}]),e}(),YD=function(){function e(t,n,r,i){var a=this;h(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=_I.UNAUTHENTICATED,this.clientId=$I.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Zi(Xi().mark((function e(t){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return NI("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return NI("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return m(e,[{key:"getConfiguration",value:function(){var e=Zi(Xi().mark((function e(){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new FI(MI.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new UI;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Zi(Xi().mark((function n(){var r;return Xi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=wO(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function XD(e,t){return JD.apply(this,arguments)}function JD(){return JD=Zi(Xi().mark((function e(t,n){var r,i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),NI("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Zi(Xi().mark((function e(t){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,BN(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),JD.apply(this,arguments)}function ZD(e,t){return eR.apply(this,arguments)}function eR(){return(eR=Zi(Xi().mark((function e(t,n){var r,i;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,nR(t);case 3:return r=e.sent,NI("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return pO(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return pO(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tR(e){return"FirebaseError"===e.name?e.code===MI.FAILED_PRECONDITION||e.code===MI.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function nR(e){return rR.apply(this,arguments)}function rR(){return(rR=Zi(Xi().mark((function e(t){var n;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return NI("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,XD(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),tR(n=e.t0)){e.next=13;break}throw n;case 13:return OI("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,XD(t,new BD);case 16:e.next=21;break;case 18:return NI("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,XD(t,new BD);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function iR(e){return aR.apply(this,arguments)}function aR(){return(aR=Zi(Xi().mark((function e(t){return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return NI("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,ZD(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return NI("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,ZD(t,new KD);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oR(e){return nR(e).then((function(e){return e.persistence}))}function sR(e){return nR(e).then((function(e){return e.localStore}))}function uR(e){return iR(e).then((function(e){return e.remoteStore}))}function cR(e){return iR(e).then((function(e){return e.syncEngine}))}function lR(e){return iR(e).then((function(e){return e.datastore}))}function fR(e){return hR.apply(this,arguments)}function hR(){return(hR=Zi(Xi().mark((function e(t){var n,r;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iR(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=WO.bind(null,n.syncEngine),r.onUnlisten=$O.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new UI;return e.asyncQueue.enqueueAndForget(Zi(Xi().mark((function i(){return Xi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new HD({next:function(a){t.enqueueAndForget((function(){return CO(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new FI(MI.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new FI(MI.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new RO(L_(n.path),a,{includeMetadataChanges:!0,Uu:!0});return TO(e,o)},i.next=3,fR(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function pR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new UI;return e.asyncQueue.enqueueAndForget(Zi(Xi().mark((function i(){return Xi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new HD({next:function(n){t.enqueueAndForget((function(){return CO(e,o)})),n.fromCache&&"server"===r.source?i.reject(new FI(MI.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new RO(n,a,{includeMetadataChanges:!0,Uu:!0});return TO(e,o)},i.next=3,fR(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var vR=new Map;function mR(e,t,n){if(!n)throw new FI(MI.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function yR(e,t,n,r){if(!0===t&&!0===r)throw new FI(MI.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function gR(e){if(!aS.isDocumentKey(e))throw new FI(MI.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function kR(e){if(aS.isDocumentKey(e))throw new FI(MI.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function bR(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":RI()}function wR(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new FI(MI.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=bR(e);throw new FI(MI.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function xR(e,t){if(t<=0)throw new FI(MI.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var IR=function(){function e(t){var n;if(h(this,e),void 0===t.host){if(void 0!==t.ssl)throw new FI(MI.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new FI(MI.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}yR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling||void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!1:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams}return m(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),SR=function(){function e(t,n,r,i){h(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IR({}),this._settingsFrozen=!1}return m(e,[{key:"app",get:function(){if(!this._app)throw new FI(MI.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new FI(MI.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IR(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new BI;switch(e.type){case"firstParty":return new WI(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new FI(MI.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=vR.get(e);t&&(NI("ComponentProvider","Removing Datastore"),vR.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function ER(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=wR(e,SR))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&OI("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=_I.MOCK_USER;else{o=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Si(JSON.stringify({alg:"none",type:"JWT"})),Si(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new FI(MI.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new _I(u)}e._authCredentials=new zI(new VI(o,s))}}var _R=function(){function e(t,n,r){h(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return m(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new AR(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),TR=function(){function e(t,n,r){h(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return m(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),AR=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,L_(i)))._path=i,a.type="collection",a}return m(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new _R(this.firestore,null,new aS(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(TR);function CR(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Yi(e),mR("collection","path",t),e instanceof SR){var a=nS.fromString.apply(nS,[t].concat(r));return kR(a),new AR(e,null,a)}if(!(e instanceof _R||e instanceof AR))throw new FI(MI.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(nS.fromString.apply(nS,[t].concat(r)));return kR(o),new AR(e.firestore,null,o)}function NR(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Yi(e),1===arguments.length&&(t=$I.A()),mR("doc","path",t),e instanceof SR){var a=nS.fromString.apply(nS,[t].concat(r));return gR(a),new _R(e,null,new aS(a))}if(!(e instanceof _R||e instanceof AR))throw new FI(MI.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(nS.fromString.apply(nS,[t].concat(r)));return gR(o),new _R(e.firestore,e instanceof AR?e.converter:null,new aS(o))}function PR(e,t){return e=Yi(e),t=Yi(t),(e instanceof _R||e instanceof AR)&&(t instanceof _R||t instanceof AR)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function OR(e,t){return e=Yi(e),t=Yi(t),e instanceof TR&&t instanceof TR&&e.firestore===t.firestore&&K_(e._query,t._query)&&e.converter===t.converter}var DR=function(){function e(){var t=this;h(this,e),this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new _P(this,"async_queue_retry"),this.Yc=function(){var e=SP();e&&NI("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Lo.ko()};var n=SP();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Yc)}return m(e,[{key:"isShuttingDown",get:function(){return this.Qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Xc(),this.Zc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;var t=SP();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Xc(),this.Qc)return new Promise((function(){}));var n=new UI;return this.Zc((function(){return t.Qc&&t.Hc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Gc.push(e),t.ta()}))}},{key:"ta",value:function(){var e=Zi(Xi().mark((function e(){var t=this;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Gc.length){e.next=14;break}return e.prev=1,e.next=4,this.Gc[0]();case 4:this.Gc.shift(),this.Lo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),SS(e.t0)){e.next=12;break}throw e.t0;case 12:NI("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Gc.length>0&&this.Lo.xo((function(){return t.ta()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t=this,n=this.Kc.then((function(){return t.Wc=!0,e().catch((function(e){t.zc=e,t.Wc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw PI("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Wc=!1,e}))}));return this.Kc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);var i=bO.createAndSchedule(this,e,t,n,(function(e){return r.ea(e)}));return this.jc.push(i),i}},{key:"Xc",value:function(){this.zc&&RI()}},{key:"verifyOperationInProgress",value:function(){}},{key:"na",value:function(){var e=Zi(Xi().mark((function e(){var t;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Kc,e.next=3,t;case 3:if(t!==this.Kc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sa",value:function(e){var t,n=_(this.jc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ia",value:function(e){var t=this;return this.na().then((function(){t.jc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=_(t.jc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.na()}))}},{key:"ra",value:function(e){this.Jc.push(e)}},{key:"ea",value:function(e){var t=this.jc.indexOf(e);this.jc.splice(t,1)}}]),e}();function RR(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=_(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var LR=function(){function e(){h(this,e),this._progressObserver={},this._taskCompletionResolver=new UI,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return m(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),jR=function(e){g(n,e);var t=x(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new DR,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return m(n,[{key:"_terminate",value:function(){return this._firestoreClient||FR(this),this._firestoreClient.terminate()}}]),n}(SR);function MR(e){return e._firestoreClient||FR(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function FR(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new CE(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new YD(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function UR(e,t,n){var r=new UI;return e.asyncQueue.enqueue(Zi(Xi().mark((function i(){var a;return Xi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,XD(e,n);case 3:return i.next=5,ZD(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),tR(a=i.t0)){i.next=13;break}throw a;case 13:OI("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function VR(e){return function(e){return e.asyncQueue.enqueue(Zi(Xi().mark((function t(){var n,r;return Xi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oR(e);case 2:return n=t.sent,t.next=5,uR(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=jI(e);return t.Au.delete(0),DP(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(MR(e=wR(e,jR)))}function BR(e){return function(e){return e.asyncQueue.enqueue(Zi(Xi().mark((function t(){var n,r;return Xi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oR(e);case 2:return n=t.sent,t.next=5,uR(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Zi(Xi().mark((function e(t){var n;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=jI(t)).Au.add(0),e.next=4,LP(n);case 4:n.Pu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(MR(e=wR(e,jR)))}function zR(e,t){var n=MR(e=wR(e,jR)),r=new LR;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new GD(e,t)}(function(e,t){if(e instanceof Uint8Array)return WD(e,t);if(e instanceof ArrayBuffer)return WD(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?ZT().encode(e):e),t)}(n,EP(t));e.asyncQueue.enqueueAndForget(Zi(Xi().mark((function t(){return Xi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=VD,t.next=3,cR(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function qR(e,t){return function(e,t){return e.asyncQueue.enqueue(Zi(Xi().mark((function n(){return Xi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=jI(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ls.getNamedQuery(e,t)}))},n.next=3,sR(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(MR(e=wR(e,jR)),t).then((function(t){return t?new TR(e,null,t.query):null}))}function KR(e){if(e._initialized||e._terminated)throw new FI(MI.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var WR=function(){function e(t){h(this,e),this._byteString=t}return m(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(wE.fromBase64String(t))}catch(t){throw new FI(MI.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(wE.fromUint8Array(t))}}]),e}(),HR=function(){function e(){h(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new FI(MI.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new iS(n)}return m(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var GR=m((function e(t){h(this,e),this._methodName=t})),QR=function(){function e(t,n){if(h(this,e),!isFinite(t)||t<-90||t>90)throw new FI(MI.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new FI(MI.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return m(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return YI(this._lat,e._lat)||YI(this._long,e._long)}}]),e}(),$R=/^__.*__$/,YR=function(){function e(t,n,r){h(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return m(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new MT(e,this.data,this.fieldMask,t,this.fieldTransforms):new jT(e,this.data,t,this.fieldTransforms)}}]),e}(),XR=function(){function e(t,n,r){h(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return m(e,[{key:"toMutation",value:function(e,t){return new MT(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function JR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw RI()}}var ZR=function(){function e(t,n,r,i,a,o){h(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.oa(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return m(e,[{key:"path",get:function(){return this.settings.path}},{key:"ua",get:function(){return this.settings.ua}},{key:"ca",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"aa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ca({path:n,ha:!1});return r.la(e),r}},{key:"fa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ca({path:n,ha:!1});return r.oa(),r}},{key:"da",value:function(e){return this.ca({path:void 0,ha:!0})}},{key:"_a",value:function(e){return kL(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"oa",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.la(this.path.get(e))}},{key:"la",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(JR(this.ua)&&$R.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),eL=function(){function e(t,n,r){h(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||EP(t)}return m(e,[{key:"ga",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ZR({ua:e,methodName:t,ma:n,path:iS.emptyPath(),ha:!1,wa:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function tL(e){var t=e._freezeSettings(),n=EP(e._databaseId);return new eL(e._databaseId,!!t.ignoreUndefinedProperties,n)}function nL(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ga(a.merge||a.mergeFields?2:0,t,n,i);vL("Data must be an object, but it was:",o,r);var s,u,c=dL(r,o);if(a.merge)s=new kE(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=_(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=mL(t,l.value,n);if(!o.contains(d))throw new FI(MI.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));bL(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}s=new kE(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new YR(new JE(c),s,u)}var rL=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ua)throw 1===e.ua?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(GR);function iL(e,t,n){return new ZR({ua:3,ma:t.settings.ma,methodName:e._methodName,ha:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var aL=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"_toFieldTransform",value:function(e){return new _T(e.path,new gT)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(GR),oL=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).ya=r,i}return m(n,[{key:"_toFieldTransform",value:function(e){var t=iL(this,e,!0),n=this.ya.map((function(e){return hL(e,t)})),r=new kT(n);return new _T(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(GR),sL=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).ya=r,i}return m(n,[{key:"_toFieldTransform",value:function(e){var t=iL(this,e,!0),n=this.ya.map((function(e){return hL(e,t)})),r=new wT(n);return new _T(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(GR),uL=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).pa=r,i}return m(n,[{key:"_toFieldTransform",value:function(e){var t=new IT(e.serializer,dT(e.serializer,this.pa));return new _T(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(GR);function cL(e,t,n,r){var i=e.ga(1,t,n);vL("Data must be an object, but it was:",i,r);var a=[],o=JE.empty();fE(r,(function(e,r){var s=gL(t,e,n);r=Yi(r);var u=i.fa(s);if(r instanceof rL)a.push(s);else{var c=hL(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new kE(a);return new XR(o,s,i.fieldTransforms)}function lL(e,t,n,r,i,a){var o=e.ga(1,t,n),s=[mL(t,r,n)],u=[i];if(a.length%2!=0)throw new FI(MI.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(mL(t,a[c])),u.push(a[c+1]);for(var l=[],f=JE.empty(),h=s.length-1;h>=0;--h)if(!bL(l,s[h])){var d=s[h],p=u[h];p=Yi(p);var v=o.fa(d);if(p instanceof rL)l.push(d);else{var m=hL(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new kE(l);return new XR(f,y,o.fieldTransforms)}function fL(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return hL(n,e.ga(r?4:3,t))}function hL(e,t){if(pL(e=Yi(e)))return vL("Unsupported field value:",t,e),dL(e,t);if(e instanceof GR)return function(e,t){if(!JR(t.ua))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ha&&4!==t.ua)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=_(e);try{for(a.s();!(n=a.n()).done;){var o=hL(n.value,t.da(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Yi(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return dT(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=ZI.fromDate(e);return{timestampValue:kA(t.serializer,n)}}if(e instanceof ZI){var r=new ZI(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:kA(t.serializer,r)}}if(e instanceof QR)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof WR)return{bytesValue:bA(t.serializer,e._byteString)};if(e instanceof _R){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t._a("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:IA(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(bR(e)))}(e,t)}function dL(e,t){var n={};return hE(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fE(e,(function(e,r){var i=hL(r,t.aa(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function pL(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ZI||e instanceof QR||e instanceof WR||e instanceof _R||e instanceof GR)}function vL(e,t,n){if(!pL(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=bR(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function mL(e,t,n){if((t=Yi(t))instanceof HR)return t._internalPath;if("string"==typeof t)return gL(e,t);throw kL("Field path arguments must be of type string or ",e,!1,void 0,n)}var yL=new RegExp("[~\\*/\\[\\]]");function gL(e,t,n){if(t.search(yL)>=0)throw kL("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return I(HR,f(t.split(".")))._internalPath}catch(r){throw kL("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function kL(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new FI(MI.INVALID_ARGUMENT,s+e+u)}function bL(e,t){return e.some((function(e){return e.isEqual(t)}))}var wL=function(){function e(t,n,r,i,a){h(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return m(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new _R(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new xL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(IL("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),xL=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(){return Ao(k(n.prototype),"data",this).call(this)}}]),n}(wL);function IL(e,t){return"string"==typeof t?gL(e,t):t instanceof HR?t._internalPath:t._delegate._internalPath}function SL(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new FI(MI.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var EL=m((function e(){h(this,e)})),_L=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n)}(EL);function TL(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof EL&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof CL})).length,n=e.filter((function(e){return e instanceof AL})).length;if(t>1||t>0&&n>0)throw new FI(MI.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=_(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var AL=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return m(n,[{key:"_apply",value:function(e){var t=this._parse(e);return BL(e._query,t),new TR(e.firestore,e.converter,z_(e._query,t))}},{key:"_parse",value:function(e){var t=tL(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new FI(MI.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){VL(o,a);var u,c=[],l=_(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(UL(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=UL(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||VL(o,a),s=fL(n,"where",o,"in"===a||"not-in"===a);return s_.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(_L);var CL=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return m(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:u_.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=_(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;BL(r,a),r=z_(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new TR(e.firestore,e.converter,z_(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(EL);var NL=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return m(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new FI(MI.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new FI(MI.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new i_(t,n);return function(e,t){if(null===M_(e)){var n=F_(e);null!==n&&zL(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new TR(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new D_(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(_L);var PL=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return m(n,[{key:"_apply",value:function(e){return new TR(e.firestore,e.converter,q_(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(_L);var OL=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return m(n,[{key:"_apply",value:function(e){var t=FL(e,this.type,this._docOrFields,this._inclusive);return new TR(e.firestore,e.converter,function(e,t){return new D_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(_L);function DL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return OL._create("startAt",t,!0)}function RL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return OL._create("startAfter",t,!1)}var LL=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return m(n,[{key:"_apply",value:function(e){var t=FL(e,this.type,this._docOrFields,this._inclusive);return new TR(e.firestore,e.converter,function(e,t){return new D_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(_L);function jL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return LL._create("endBefore",t,!1)}function ML(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return LL._create("endAt",t,!0)}function FL(e,t,n,r){if(n[0]=Yi(n[0]),n[0]instanceof wL)return function(e,t,n,r,i){if(!r)throw new FI(MI.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=_(V_(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(VE(t,r.key));else{var c=r.data.field(u.field);if(_E(c))throw new FI(MI.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new FI(MI.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new t_(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=tL(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new FI(MI.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new FI(MI.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!U_(e)&&-1!==c.indexOf("/"))throw new FI(MI.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(nS.fromString(c));if(!aS.isDocumentKey(l))throw new FI(MI.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new aS(l);s.push(VE(t,f))}else{var h=fL(n,r,c);s.push(h)}}return new t_(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function UL(e,t,n){if("string"==typeof(n=Yi(n))){if(""===n)throw new FI(MI.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!U_(t)&&-1!==n.indexOf("/"))throw new FI(MI.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(nS.fromString(n));if(!aS.isDocumentKey(r))throw new FI(MI.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return VE(e,new aS(r))}if(n instanceof _R)return VE(e,n._key);throw new FI(MI.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(bR(n),"."))}function VL(e,t){if(!Array.isArray(e)||0===e.length)throw new FI(MI.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function BL(e,t){if(t.isInequality()){var n=F_(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new FI(MI.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=M_(e);null!==i&&zL(e,r,i)}var a=function(e,t){var n,r=_(e);try{for(r.s();!(n=r.n()).done;){var i,a=_(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new FI(MI.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new FI(MI.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function zL(e,t,n){if(!n.isEqual(t))throw new FI(MI.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var qL=function(){function e(){h(this,e)}return m(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(DE(e)){case 0:return null;case 1:return e.booleanValue;case 2:return SE(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(EE(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw RI()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return fE(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new QR(SE(e.latitude),SE(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=TE(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(AE(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=IE(e);return new ZI(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=nS.fromString(e);LI(GA(n));var r=new NE(n.get(1),n.get(3)),i=new aS(n.popFirst(5));return r.isEqual(t)||PI("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function KL(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var WL=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return m(n,[{key:"convertBytes",value:function(e){return new WR(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new _R(this.firestore,null,t)}}]),n}(qL);var HL=function(){function e(t,n){h(this,e),this.hasPendingWrites=t,this.fromCache=n}return m(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),GL=function(e){g(n,e);var t=x(n);function n(e,r,i,a,o,s){var u;return h(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return m(n,[{key:"exists",value:function(){return Ao(k(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new QL(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(IL("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(wL),QL=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ao(k(n.prototype),"data",this).call(this,e)}}]),n}(GL),$L=function(){function e(t,n,r,i){h(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new HL(i.hasPendingWrites,i.fromCache),this.query=r}return m(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new QL(n._firestore,n._userDataWriter,r.key,r,new HL(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new FI(MI.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new QL(e._firestore,e._userDataWriter,t.doc.key,t.doc,new HL(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new QL(e._firestore,e._userDataWriter,t.doc.key,t.doc,new HL(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:YL(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function YL(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return RI()}}function XL(e,t){return e instanceof GL&&t instanceof GL?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof $L&&t instanceof $L&&e._firestore===t._firestore&&OR(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var JL=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return m(n,[{key:"convertBytes",value:function(e){return new WR(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new _R(this.firestore,null,t)}}]),n}(qL);function ZL(e){e=wR(e,_R);var t=wR(e.firestore,jR),n=MR(t),r=new JL(t);return function(e,t){var n=new UI;return e.asyncQueue.enqueueAndForget(Zi(Xi().mark((function r(){return Xi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Zi(Xi().mark((function e(t,n,r){var i,a;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=jI(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new FI(MI.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=wO(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,sR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new GL(t,r,e._key,n,new HL(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function ej(e){e=wR(e,TR);var t=wR(e.firestore,jR),n=MR(t),r=new JL(t);return function(e,t){var n=new UI;return e.asyncQueue.enqueueAndForget(Zi(Xi().mark((function r(){return Xi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Zi(Xi().mark((function e(t,n,r){var i,a,o,s,u;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,XN(t,n,!0);case 3:i=e.sent,a=new BO(n,i.sr),o=a.nc(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=wO(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,sR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new $L(t,r,e,n)}))}function tj(e,t,n){e=wR(e,_R);var r=wR(e.firestore,jR),i=KL(e.converter,t,n);return aj(r,[nL(tL(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,AT.none())])}function nj(e,t,n){e=wR(e,_R);for(var r=wR(e.firestore,jR),i=tL(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return aj(r,[("string"==typeof(t=Yi(t))||t instanceof HR?lL(i,"updateDoc",e._key,t,n,o):cL(i,"updateDoc",e._key,t)).toMutation(e._key,AT.exists(!0))])}function rj(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Yi(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||RR(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(RR(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof _R)l=wR(e.firestore,jR),f=L_(e._key.path),c={next:function(t){n[u]&&n[u](oj(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=wR(e,TR);l=wR(p.firestore,jR),f=p._query;var v=new JL(l);c={next:function(e){n[u]&&n[u](new $L(l,v,p,e))},error:n[u+1],complete:n[u+2]},SL(e._query)}return function(e,t,n,r){var i=new HD(r),a=new RO(t,i,n);return e.asyncQueue.enqueueAndForget(Zi(Xi().mark((function t(){return Xi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=TO,t.next=3,fR(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Sc(),e.asyncQueue.enqueueAndForget(Zi(Xi().mark((function t(){return Xi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=CO,t.next=3,fR(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(MR(l),f,h,c)}function ij(e,t){return function(e,t){var n=new HD(t);return e.asyncQueue.enqueueAndForget(Zi(Xi().mark((function t(){return Xi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){jI(e).Nu.add(t),t.next()},t.next=3,fR(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Sc(),e.asyncQueue.enqueueAndForget(Zi(Xi().mark((function t(){return Xi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){jI(e).Nu.delete(t)},t.next=3,fR(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(MR(e=wR(e,jR)),RR(t)?t:{next:t})}function aj(e,t){return function(e,t){var n=new UI;return e.asyncQueue.enqueueAndForget(Zi(Xi().mark((function r(){return Xi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=XO,r.next=3,cR(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(MR(e),t)}function oj(e,t,n){var r=n.docs.get(t._key),i=new JL(e);return new GL(e,i,t._key,r,new HL(n.hasPendingWrites,n.fromCache),t.converter)}var sj={maxAttempts:5},uj=function(){function e(t,n){h(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=tL(t)}return m(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=cj(e,this._firestore),i=KL(r.converter,t,n),a=nL(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,AT.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=cj(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Yi(t))||t instanceof HR?lL(this._dataReader,"WriteBatch.update",i._key,t,n,o):cL(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,AT.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=cj(e,this._firestore);return this._mutations=this._mutations.concat(new qT(t._key,AT.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new FI(MI.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function cj(e,t){if((e=Yi(e)).firestore!==t)throw new FI(MI.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var lj=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r))._firestore=e,i}return m(n,[{key:"get",value:function(e){var t=this,r=cj(e,this._firestore),i=new JL(this._firestore);return Ao(k(n.prototype),"get",this).call(this,e).then((function(e){return new GL(t._firestore,i,r._key,e._document,new HL(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){h(this,e),this._firestore=t,this._transaction=n,this._dataReader=tL(t)}return m(e,[{key:"get",value:function(e){var t=this,n=cj(e,this._firestore),r=new WL(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return RI();var i=e[0];if(i.isFoundDocument())return new wL(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new wL(t._firestore,r,n._key,null,n.converter);throw RI()}))}},{key:"set",value:function(e,t,n){var r=cj(e,this._firestore),i=KL(r.converter,t,n),a=nL(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=cj(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Yi(t))||t instanceof HR?lL(this._dataReader,"Transaction.update",i._key,t,n,o):cL(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=cj(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function fj(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new oL("arrayUnion",t)}function hj(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new sL("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){TI=e}(Qa),Ba(new ea("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new jR(new qI(e.getProvider("auth-internal")),new GI(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new FI(MI.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new NE(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),eo(EI,"3.11.0",e),eo(EI,"3.11.0","esm2017")}();function dj(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new FI("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function pj(){if("undefined"===typeof Uint8Array)throw new FI("unimplemented","Uint8Arrays are not available in this environment.")}function vj(){if("undefined"==typeof atob)throw new FI("unimplemented","Blobs are unavailable in Firestore in this environment.")}var mj=function(){function e(t){h(this,e),this._delegate=t}return m(e,[{key:"toBase64",value:function(){return vj(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return pj(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return vj(),new e(WR.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return pj(),new e(WR.fromUint8Array(t))}}]),e}();function yj(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=_(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var gj=function(){function e(){h(this,e)}return m(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){KR(e=wR(e,jR));var n=MR(e);if(n._uninitializedComponentsProvider)throw new FI(MI.FAILED_PRECONDITION,"SDK cache is already specified.");OI("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new KD;return UR(n,i,new zD(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){KR(e=wR(e,jR));var t=MR(e);if(t._uninitializedComponentsProvider)throw new FI(MI.FAILED_PRECONDITION,"SDK cache is already specified.");OI("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new KD;return UR(t,r,new qD(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new FI(MI.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new UI;return e._queue.enqueueAndForgetEvenWhileRestricted(Zi(Xi().mark((function n(){return Xi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Zi(Xi().mark((function e(t){var n;return Xi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(wS.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,wS.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(jN(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),kj=function(){function e(t,n,r){var i=this;h(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof NE||(this._appCompat=t)}return m(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||OI("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ER(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return VR(this._delegate)}},{key:"disableNetwork",value:function(){return BR(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&yR("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){var t=new UI;return e.asyncQueue.enqueueAndForget(Zi(Xi().mark((function n(){return Xi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=uD,n.next=3,cR(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(MR(wR(this._delegate,jR)))}},{key:"onSnapshotsInSync",value:function(e){return ij(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new FI("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new Dj(this,CR(this._delegate,e))}catch(MF){throw Ej(MF,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new Sj(this,NR(this._delegate,e))}catch(MF){throw Ej(MF,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new Nj(this,function(e,t){if(e=wR(e,SR),mR("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new FI(MI.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new TR(e,null,function(e){return new D_(nS.emptyPath(),e)}(t))}(this._delegate,e))}catch(MF){throw Ej(MF,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=wR(e,jR);var r=Object.assign(Object.assign({},sj),n);return function(e){if(e.maxAttempts<1)throw new FI(MI.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new UI;return e.asyncQueue.enqueueAndForget(Zi(Xi().mark((function i(){var a;return Xi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,lR(e);case 2:a=i.sent,new $D(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(MR(e),(function(n){return t(new lj(e,n))}),r)}(this._delegate,(function(n){return e(new wj(t,n))}))}},{key:"batch",value:function(){var e=this;return MR(this._delegate),new xj(new uj(this._delegate,(function(t){return aj(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return zR(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return qR(this._delegate,e).then((function(e){return e?new Nj(t,e):null}))}}]),e}(),bj=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return m(n,[{key:"convertBytes",value:function(e){return new mj(new WR(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Sj.forKey(t,this.firestore,null)}}]),n}(qL);var wj=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new bj(t)}return m(e,[{key:"get",value:function(e){var t=this,n=Rj(e);return this._delegate.get(n).then((function(e){return new Aj(t._firestore,new GL(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=Rj(e);return n?(dj("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=Rj(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Rj(e);return this._delegate.delete(t),this}}]),e}(),xj=function(){function e(t){h(this,e),this._delegate=t}return m(e,[{key:"set",value:function(e,t,n){var r=Rj(e);return n?(dj("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=Rj(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Rj(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),Ij=function(){function e(t,n,r){h(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return m(e,[{key:"fromFirestore",value:function(e,t){var n=new QL(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Cj(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new bj(t),n),i.set(n,a)),a}}]),e}();Ij.INSTANCES=new WeakMap;var Sj=function(){function e(t,n){h(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new bj(t)}return m(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new Dj(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new Dj(this.firestore,CR(this._delegate,e))}catch(MF){throw Ej(MF,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Yi(e))instanceof _R&&PR(this._delegate,e)}},{key:"set",value:function(e,t){t=dj("DocumentReference.set",t);try{return t?tj(this._delegate,e,t):tj(this._delegate,e)}catch(MF){throw Ej(MF,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?nj(this._delegate,e):nj.apply(void 0,[this._delegate,e,t].concat(r))}catch(MF){throw Ej(MF,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return aj(wR((e=this._delegate).firestore,jR),[new qT(e._key,AT.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=_j(n),a=Tj(n,(function(t){return new Aj(e.firestore,new GL(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return rj(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?ZL(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=wR(e,_R);var t=wR(e.firestore,jR);return dR(MR(t),e._key,{source:"server"}).then((function(n){return oj(t,e,n)}))}(this._delegate):function(e){e=wR(e,_R);var t=wR(e.firestore,jR);return dR(MR(t),e._key).then((function(n){return oj(t,e,n)}))}(this._delegate)).then((function(e){return new Aj(t.firestore,new GL(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Ij.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new FI("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new _R(n._delegate,r,new aS(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new _R(n._delegate,r,t))}}]),e}();function Ej(e,t,n){return e.message=e.message.replace(t,n),e}function _j(e){var t,n=_(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!yj(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function Tj(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=yj(e[0])?e[0]:yj(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Aj=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return m(e,[{key:"ref",get:function(){return new Sj(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return XL(this._delegate,e._delegate)}}]),e}(),Cj=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return void 0!==t||RI(),t}}]),n}(Aj),Nj=function(){function e(t,n){h(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new bj(t)}return m(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,TL(this._delegate,function(e,t,n){var r=t,i=IL("where",e);return AL._create(i,r,n)}(t,n,r)))}catch(MF){throw Ej(MF,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,TL(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=IL("orderBy",e);return NL._create(n,t)}(t,n)))}catch(MF){throw Ej(MF,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,TL(this._delegate,(xR("limit",n=t),PL._create("limit",n,"F"))))}catch(MF){throw Ej(MF,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,TL(this._delegate,(xR("limitToLast",n=t),PL._create("limitToLast",n,"L"))))}catch(MF){throw Ej(MF,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,TL(this._delegate,DL.apply(void 0,arguments)))}catch(MF){throw Ej(MF,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,TL(this._delegate,RL.apply(void 0,arguments)))}catch(MF){throw Ej(MF,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,TL(this._delegate,jL.apply(void 0,arguments)))}catch(MF){throw Ej(MF,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,TL(this._delegate,ML.apply(void 0,arguments)))}catch(MF){throw Ej(MF,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return OR(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?ej(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=wR(e,TR);var t=wR(e.firestore,jR),n=MR(t),r=new JL(t);return pR(n,e._query,{source:"server"}).then((function(n){return new $L(t,r,e,n)}))}(this._delegate):function(e){e=wR(e,TR);var t=wR(e.firestore,jR),n=MR(t),r=new JL(t);return SL(e._query),pR(n,e._query).then((function(n){return new $L(t,r,e,n)}))}(this._delegate)).then((function(e){return new Oj(t.firestore,new $L(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=_j(n),a=Tj(n,(function(t){return new Oj(e.firestore,new $L(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return rj(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Ij.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),Pj=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return m(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new Cj(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),Oj=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return m(e,[{key:"query",get:function(){return new Nj(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new Cj(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Pj(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Cj(n._firestore,r))}))}},{key:"isEqual",value:function(e){return XL(this._delegate,e._delegate)}}]),e}(),Dj=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return m(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new Sj(this.firestore,e):null}},{key:"doc",value:function(e){try{return new Sj(this.firestore,void 0===e?NR(this._delegate):NR(this._delegate,e))}catch(MF){throw Ej(MF,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=wR(e.firestore,jR),r=NR(e),i=KL(e.converter,t);return aj(n,[nL(tL(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,AT.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Sj(t.firestore,e)}))}},{key:"isEqual",value:function(e){return PR(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(Ij.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(Nj);function Rj(e){return wR(e,_R)}var Lj=function(){function e(){h(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=I(HR,n)}return m(e,[{key:"isEqual",value:function(e){return(e=Yi(e))instanceof HR&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(iS.keyField().canonicalString())}}]),e}(),jj=function(){function e(t){h(this,e),this._delegate=t}return m(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new aL("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new rL("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=fj.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=hj.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new uL("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),Mj={Firestore:kj,GeoPoint:QR,Timestamp:ZI,Blob:mj,Transaction:wj,WriteBatch:xj,DocumentReference:Sj,DocumentSnapshot:Aj,Query:Nj,QueryDocumentSnapshot:Cj,QuerySnapshot:Oj,CollectionReference:Dj,FieldPath:Lj,FieldValue:jj,setLogLevel:function(e){var t;t=e,AI.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new ea("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Mj)))}(e,(function(e,t){return new kj(e,t,new gj)})),e.registerVersion("@firebase/firestore-compat","0.3.8")}(To);var Fj=function(){var e=c((0,r.useState)(""),2),t=e[0],n=e[1],i=c((0,r.useState)(""),2),a=i[0],o=i[1];To.initializeApp({apiKey:"AIzaSyDuuO3Qvj_guTliM6iPgV3_5dF0OWOLi-0",authDomain:"proj-15d75.firebaseapp.com",projectId:"proj-15d75",storageBucket:"proj-15d75.appspot.com",messagingSenderId:"1096734466692",appId:"1:1096734466692:web:c7cbf5f3fd67c3bf7c58d1",measurementId:"G-WWLTRVX79F"});var s=To.auth(),u=new To.auth.GoogleAuthProvider;return(0,st.jsxs)("div",{className:"login",children:[(0,st.jsx)("div",{className:"login",children:(0,st.jsx)("img",{src:bi})}),(0,st.jsxs)("div",{className:"login-info",children:[(0,st.jsxs)("h2",{className:"header",children:["Welcome to Ekin, ",t]}),(0,st.jsx)("div",{className:"forms",children:(0,st.jsxs)(fn.Group,{controlId:"formBasicEmail",children:[(0,st.jsx)(fn.Control,{className:"forms",type:"email",placeholder:"Email or Username"}),(0,st.jsx)(fn.Control,{type:"password",placeholder:"Password"})]})}),(0,st.jsxs)("div",{className:"middle-buttons",children:[(0,st.jsx)("div",{children:(0,st.jsx)(yn,{className:"button",children:"LOGIN NOW"})}),(0,st.jsx)("h6",{children:"Forgot your password?"}),(0,st.jsx)("div",{children:(0,st.jsx)(yn,{onClick:function(){s.signInWithPopup(u);var e=To.auth().currentUser;null!=(null===e||void 0===e?void 0:e.displayName)&&n(e.displayName),null!=(null===e||void 0===e?void 0:e.photoURL)&&o(e.photoURL),console.log(e)},children:"Sign in with Google"})})]}),(0,st.jsxs)("div",{className:"last-buttons",children:[(0,st.jsx)(yn,{children:"Make account"}),(0,st.jsx)(yn,{children:"Log in as Admin"})]})]}),(0,st.jsx)("h2",{children:(0,st.jsx)("img",{src:a,alt:""})})]})};var Uj=function(){var e=c((0,r.useState)(0),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){return n(Math.floor(100*Math.random()))}),[]),(0,st.jsx)("img",{src:"https://avatars.dicebear.com/api/human/".concat(t,".svg")})};var Vj=function(){return(0,st.jsxs)("div",{className:"App",children:[(0,st.jsx)("div",{className:"profile",children:(0,st.jsx)(Uj,{})}),(0,st.jsx)("div",{className:"forms",children:(0,st.jsxs)(fn.Group,{controlId:"formBasicEmail",children:[(0,st.jsx)(fn.Control,{className:"forms",type:"email",placeholder:"Please Enter Email"}),(0,st.jsx)(fn.Control,{className:"forms",type:"email",placeholder:"Name"}),(0,st.jsx)(fn.Control,{className:"forms",type:"email",placeholder:"Qualities"}),(0,st.jsx)(fn.Control,{className:"forms",type:"email",placeholder:"Age"})]})}),(0,st.jsx)(yn,{className:"button",children:"UPDATE"})]})};function Bj(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var zj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},qj=r.createContext&&r.createContext(zj),Kj=function(){return Kj=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Kj.apply(this,arguments)},Wj=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Hj(e){return e&&e.map((function(e,t){return r.createElement(e.tag,Kj({key:t},e.attr),Hj(e.child))}))}function Gj(e){return function(t){return r.createElement(Qj,Kj({attr:Kj({},e.attr)},t),Hj(e.child))}}function Qj(e){var t=function(t){var n,i=e.attr,a=e.size,o=e.title,s=Wj(e,["attr","size","title"]),u=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",Kj({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,s,{className:n,style:Kj(Kj({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==qj?r.createElement(qj.Consumer,null,(function(e){return t(e)})):t(zj)}var $j=n(441),Yj=n(613),Xj=n.n(Yj);var Jj=function(e){function t(e,r,u,c,h){for(var d,p,v,m,b,x=0,I=0,S=0,E=0,_=0,O=0,R=v=d=0,j=0,M=0,F=0,U=0,V=u.length,B=V-1,z="",q="",K="",W="";j<V;){if(p=u.charCodeAt(j),j===B&&0!==I+E+S+x&&(0!==I&&(p=47===I?10:47),E=S=x=0,V++,B++),0===I+E+S+x){if(j===B&&(0<M&&(z=z.replace(f,"")),0<z.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:z+=u.charAt(j)}p=59}switch(p){case 123:for(d=(z=z.trim()).charCodeAt(0),v=1,U=++j;j<V;){switch(p=u.charCodeAt(j)){case 123:v++;break;case 125:v--;break;case 47:switch(p=u.charCodeAt(j+1)){case 42:case 47:e:{for(R=j+1;R<B;++R)switch(u.charCodeAt(R)){case 47:if(42===p&&42===u.charCodeAt(R-1)&&j+2!==R){j=R+1;break e}break;case 10:if(47===p){j=R+1;break e}}j=R}}break;case 91:p++;case 40:p++;case 34:case 39:for(;j++<B&&u.charCodeAt(j)!==p;);}if(0===v)break;j++}if(v=u.substring(U,j),0===d&&(d=(z=z.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<M&&(z=z.replace(f,"")),p=z.charCodeAt(1)){case 100:case 109:case 115:case 45:M=r;break;default:M=P}if(U=(v=t(r,M,v,p,h+1)).length,0<D&&(b=s(3,v,M=n(P,z,F),r,A,T,U,p,h,c),z=M.join(""),void 0!==b&&0===(U=(v=b.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:z=z.replace(w,o);case 100:case 109:case 45:v=z+"{"+v+"}";break;case 107:v=(z=z.replace(y,"$1 $2"))+"{"+v+"}",v=1===N||2===N&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=z+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,z,F),v,c,h+1);K+=v,v=F=M=R=d=0,z="",p=u.charCodeAt(++j);break;case 125:case 59:if(1<(U=(z=(0<M?z.replace(f,""):z).trim()).length))switch(0===R&&(d=z.charCodeAt(0),45===d||96<d&&123>d)&&(U=(z=z.replace(" ",":")).length),0<D&&void 0!==(b=s(1,z,r,e,A,T,q.length,c,h,c))&&0===(U=(z=b.trim()).length)&&(z="\0\0"),d=z.charCodeAt(0),p=z.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){W+=z+u.charAt(j);break}default:58!==z.charCodeAt(U-1)&&(q+=i(z,d,p,z.charCodeAt(2)))}F=M=R=d=0,z="",p=u.charCodeAt(++j)}}switch(p){case 13:case 10:47===I?I=0:0===1+d&&107!==c&&0<z.length&&(M=1,z+="\0"),0<D*L&&s(0,z,r,e,A,T,q.length,c,h,c),T=1,A++;break;case 59:case 125:if(0===I+E+S+x){T++;break}default:switch(T++,m=u.charAt(j),p){case 9:case 32:if(0===E+x+I)switch(_){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===E+I+x&&(M=F=1,m="\f"+m);break;case 108:if(0===E+I+x+C&&0<R)switch(j-R){case 2:112===_&&58===u.charCodeAt(j-3)&&(C=_);case 8:111===O&&(C=O)}break;case 58:0===E+I+x&&(R=j);break;case 44:0===I+S+E+x&&(M=1,m+="\r");break;case 34:case 39:0===I&&(E=E===p?0:0===E?p:E);break;case 91:0===E+I+S&&x++;break;case 93:0===E+I+S&&x--;break;case 41:0===E+I+x&&S--;break;case 40:if(0===E+I+x){if(0===d)if(2*_+3*O===533);else d=1;S++}break;case 64:0===I+S+E+x+R+v&&(v=1);break;case 42:case 47:if(!(0<E+x+S))switch(I){case 0:switch(2*p+3*u.charCodeAt(j+1)){case 235:I=47;break;case 220:U=j,I=42}break;case 42:47===p&&42===_&&U+2!==j&&(33===u.charCodeAt(U+2)&&(q+=u.substring(U,j+1)),m="",I=0)}}0===I&&(z+=m)}O=_,_=p,j++}if(0<(U=q.length)){if(M=r,0<D&&(void 0!==(b=s(2,q,M,e,A,T,U,c,h,c))&&0===(q=b).length))return W+q+K;if(q=M.join(",")+"{"+q+"}",0!==N*C){switch(2!==N||a(q,2)||(C=0),C){case 111:q=q.replace(k,":-moz-$1")+q;break;case 112:q=q.replace(g,"::-webkit-input-$1")+q.replace(g,"::-moz-$1")+q.replace(g,":-ms-input-$1")+q}C=0}}return W+q+K}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var s=0;for(e=0===o?"":e[0]+" ";s<a;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<a;++s)for(var c=0;c<o;++c)t[u++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",s=2*t+3*n+4*r;if(944===s){e=o.indexOf(":",9)+1;var u=o.substring(e,o.length-1).trim();return u=o.substring(0,e).trim()+u+";",1===N||2===N&&a(u,1)?"-webkit-"+u+u:u}if(0===N||2===N&&!a(o,1))return o;switch(s){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(_,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(u=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+u+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(u=o.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=o.replace(b,"tb");break;case 232:u=o.replace(b,"tb-rl");break;case 220:u=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+u+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,s=(u=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:o=o.replace(u,"-webkit-"+u)+";"+o;break;case 207:case 102:o=o.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+o.replace(u,"-webkit-"+u)+";"+o.replace(u,"-ms-"+u+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return u=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+u+"-ms-flex-"+u+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(I,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(I,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===E.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(u,"-webkit-"+u)+o.replace(u,"-moz-"+u.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),R(2!==t?r:r.replace(S,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,a,o,s,u,l){for(var f,h=0,d=t;h<D;++h)switch(f=O[h].call(c,e,d,n,r,i,a,o,s,u,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function u(e){return void 0!==(e=e.prefix)&&(R=null,e?"function"!==typeof e?N=1:(N=2,R=e):N=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<D){var i=s(-1,n,r,r,A,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(P,r,n,0,0);return 0<D&&(void 0!==(i=s(-2,a,r,r,A,T,a.length,0,0,0))&&(a=i)),"",C=0,T=A=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,k=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,I=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,E=/stretch|:\s*\w+\-(?:conte|avail)/,_=/([^-])(image-set\()/,T=1,A=1,C=0,N=1,P=[],O=[],D=0,R=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:D=O.length=0;break;default:if("function"===typeof t)O[D++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=u,void 0!==e&&u(e),c},Zj={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var eM=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},tM=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,nM=eM((function(e){return tM.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),rM=n(110),iM=n.n(rM);function aM(){return(aM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var oM=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},sM=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,$j.typeOf)(e)},uM=Object.freeze([]),cM=Object.freeze({});function lM(e){return"function"==typeof e}function fM(e){return e.displayName||e.name||"Component"}function hM(e){return e&&"string"==typeof e.styledComponentId}var dM="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/testrelodfix",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&({NODE_ENV:"production",PUBLIC_URL:"/testrelodfix",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/testrelodfix",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",pM="undefined"!=typeof window&&"HTMLElement"in window,vM=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/testrelodfix",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&(void 0!=={NODE_ENV:"production",PUBLIC_URL:"/testrelodfix",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/testrelodfix",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/testrelodfix",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/testrelodfix",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:void 0!=={NODE_ENV:"production",PUBLIC_URL:"/testrelodfix",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/testrelodfix",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/testrelodfix",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/testrelodfix",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)));function mM(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var yM=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&mM(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(o,t[s])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),gM=new Map,kM=new Map,bM=1,wM=function(e){if(gM.has(e))return gM.get(e);for(;kM.has(bM);)bM++;var t=bM++;return gM.set(e,t),kM.set(t,e),t},xM=function(e){return kM.get(e)},IM=function(e,t){t>=bM&&(bM=t+1),gM.set(e,t),kM.set(t,e)},SM="style["+dM+'][data-styled-version="5.3.9"]',EM=new RegExp("^"+dM+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),_M=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},TM=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var s=o.match(EM);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(IM(c,u),_M(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(o)}}},AM=function(){return n.nc},CM=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(dM))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(dM,"active"),r.setAttribute("data-styled-version","5.3.9");var o=AM();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},NM=function(){function e(e){var t=this.element=CM(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}mM(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),PM=function(){function e(e){var t=this.element=CM(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),OM=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),DM=pM,RM={isServer:!pM,useCSSOMInjection:!vM},LM=function(){function e(e,t,n){void 0===e&&(e=cM),void 0===t&&(t={}),this.options=aM({},RM,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&pM&&DM&&(DM=!1,function(e){for(var t=document.querySelectorAll(SM),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(dM)&&(TM(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return wM(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(aM({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new OM(i):r?new NM(i):new PM(i),new yM(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(wM(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(wM(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(wM(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=xM(i);if(void 0!==a){var o=e.names.get(a),s=t.getGroup(i);if(o&&s&&o.size){var u=dM+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),jM=/(a)(d)/gi,MM=function(e){return String.fromCharCode(e+(e>25?39:97))};function FM(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=MM(t%52)+n;return(MM(t%52)+n).replace(jM,"$1-$2")}var UM=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},VM=function(e){return UM(5381,e)};function BM(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(lM(n)&&!hM(n))return!1}return!0}var zM=VM("5.3.9"),qM=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&BM(e),this.componentId=t,this.baseHash=UM(zM,t),this.baseStyle=n,LM.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=sF(this.rules,e,t,n).join(""),o=FM(UM(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var s=n(a,"."+o,void 0,r);t.insertRules(r,o,s)}i.push(o),this.staticRulesId=o}else{for(var u=this.rules.length,c=UM(this.baseHash,n.hash),l="",f=0;f<u;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=sF(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=UM(c,p+f),l+=p}}if(l){var v=FM(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),KM=/^\s*\/\/.*$/gm,WM=[":","[",".","#"];function HM(e){var t,n,r,i,a=void 0===e?cM:e,o=a.options,s=void 0===o?cM:o,u=a.plugins,c=void 0===u?uM:u,l=new Jj(s),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,s,u,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==WM.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,s){void 0===s&&(s="&");var u=e.replace(KM,""),c=a&&o?o+" "+a+" { "+u+" }":u;return t=s,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||mM(15),UM(e,t.name)}),5381).toString():"",p}var GM=r.createContext(),QM=(GM.Consumer,r.createContext()),$M=(QM.Consumer,new LM),YM=HM();function XM(){return(0,r.useContext)(GM)||$M}function JM(){return(0,r.useContext)(QM)||YM}function ZM(e){var t=(0,r.useState)(e.stylisPlugins),n=t[0],i=t[1],a=XM(),o=(0,r.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),s=(0,r.useMemo)((function(){return HM({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,r.useEffect)((function(){Xj()(n,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),r.createElement(GM.Provider,{value:o},r.createElement(QM.Provider,{value:s},e.children))}var eF=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=YM);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return mM(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=YM),this.name+e.hash},e}(),tF=/([A-Z])/,nF=/([A-Z])/g,rF=/^ms-/,iF=function(e){return"-"+e.toLowerCase()};function aF(e){return tF.test(e)?e.replace(nF,iF).replace(rF,"-ms-"):e}var oF=function(e){return null==e||!1===e||""===e};function sF(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,s=e.length;o<s;o+=1)""!==(i=sF(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return oF(e)?"":hM(e)?"."+e.styledComponentId:lM(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:sF(e(t),t,n,r):e instanceof eF?n?(e.inject(n,r),e.getName(r)):e:sM(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!oF(t[o])&&(Array.isArray(t[o])&&t[o].isCss||lM(t[o])?a.push(aF(o)+":",t[o],";"):sM(t[o])?a.push.apply(a,e(t[o],o)):a.push(aF(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in Zj?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var u}var uF=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function cF(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return lM(e)||sM(e)?uF(sF(oM(uM,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:uF(sF(oM(e,n)))}new Set;var lF=function(e,t,n){return void 0===n&&(n=cM),e.theme!==n.theme&&e.theme||t||n.theme},fF=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,hF=/(^-|-$)/g;function dF(e){return e.replace(fF,"-").replace(hF,"")}var pF=function(e){return FM(VM(e)>>>0)};function vF(e){return"string"==typeof e&&!0}var mF=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},yF=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function gF(e,t,n){var r=e[n];mF(t)&&mF(r)?kF(r,t):e[n]=t}function kF(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(mF(o))for(var s in o)yF(s)&&gF(e,o[s],s)}return e}var bF=r.createContext();bF.Consumer;var wF={};function xF(e,t,n){var i=hM(e),a=!vF(e),o=t.attrs,s=void 0===o?uM:o,u=t.componentId,c=void 0===u?function(e,t){var n="string"!=typeof e?"sc":dF(e);wF[n]=(wF[n]||0)+1;var r=n+"-"+pF("5.3.9"+n+wF[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):u,l=t.displayName,f=void 0===l?function(e){return vF(e)?"styled."+e:"Styled("+fM(e)+")"}(e):l,h=t.displayName&&t.componentId?dF(t.displayName)+"-"+t.componentId:t.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,p=t.shouldForwardProp;i&&e.shouldForwardProp&&(p=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var v,m=new qM(n,h,i?e.componentStyle:void 0),y=m.isStatic&&0===s.length,g=function(e,t){return function(e,t,n,i){var a=e.attrs,o=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=cM);var r=aM({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in lM(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(lF(t,(0,r.useContext)(bF),s)||cM,t,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=XM(),a=JM();return t?e.generateAndInjectStyles(cM,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,d),m=n,y=p.$as||t.$as||p.as||t.as||f,g=vF(y),k=p!==t?aM({},t,{},p):t,b={};for(var w in k)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?b.as=k[w]:(c?c(w,nM,y):!g||nM(w))&&(b[w]=k[w]));return t.style&&p.style!==t.style&&(b.style=aM({},t.style,{},p.style)),b.className=Array.prototype.concat(u,l,v!==l?v:null,t.className,p.className).filter(Boolean).join(" "),b.ref=m,(0,r.createElement)(y,b)}(v,e,t,y)};return g.displayName=f,(v=r.forwardRef(g)).attrs=d,v.componentStyle=m,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):uM,v.styledComponentId=h,v.target=i?e.target:e,v.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),a=r&&r+"-"+(vF(e)?e:dF(fM(e)));return xF(e,aM({},i,{attrs:d,componentId:a}),n)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?kF({},e.defaultProps,t):t}}),Object.defineProperty(v,"toString",{value:function(){return"."+v.styledComponentId}}),a&&iM()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var IF=function(e){return function e(t,n,r){if(void 0===r&&(r=cM),!(0,$j.isValidElementType)(n))return mM(1,String(n));var i=function(){return t(n,r,cF.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,aM({},r,{},i))},i.attrs=function(i){return e(t,n,aM({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(xF,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){IF[e]=IF(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=BM(e),LM.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(sF(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&LM.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=AM();return"<style "+[n&&'nonce="'+n+'"',dM+'="true"','data-styled-version="5.3.9"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?mM(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return mM(2);var n=((t={})[dM]="",t["data-styled-version"]="5.3.9",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),i=AM();return i&&(n.nonce=i),[r.createElement("style",aM({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new LM({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?mM(2):r.createElement(ZM,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return mM(3)}}();var SF,EF,_F,TF,AF=IF,CF=AF.nav(SF||(SF=Bj(["\n    background: #add8e6;\n    height: 85px;\n    display: flex;\n    justify-content: space-between;\n    padding: 0.2rem calc((100vw - 1000px) / 2);\n    z-index: 12;\n"]))),NF=AF($e)(EF||(EF=Bj(["\n    color: #808080;\n    display: flex;\n    align-items: center;\n    text-decoration: none;\n    padding: 0 1rem;\n    height: 100%;\n    cursor: pointer;\n    &.active {\n        color: #4d4dff;\n    }\n"]))),PF=(AF((function(e){return Gj({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(e)}))(_F||(_F=Bj(["\n    display: none;\n    color: #808080;\n    @media screen and (max-width: 768px) {\n        display: block;\n        position: absolute;\n        top: 0;\n        right: 0;\n        transform: translate(-100%, 75%);\n        font-size: 1.8rem;\n        cursor: pointer;\n    }\n"]))),AF.div(TF||(TF=Bj(["\n    display: flex;\n    align-items: center;\n    margin-right: -24px;\n    /* Second Nav */\n    /* margin-right: 24px; */\n    /* Third Nav */\n    /* width: 100vw;\nwhite-space: nowrap; */\n    @media screen and (max-width: 768px) {\n        display: none;\n    }\n"])))),OF=function(){return(0,st.jsx)(st.Fragment,{children:(0,st.jsxs)(CF,{children:[(0,st.jsx)(Uj,{}),(0,st.jsxs)(PF,{children:[(0,st.jsx)(NF,{to:"/Login",children:"Login"}),(0,st.jsx)(NF,{to:"/Landing",children:"Landing"}),(0,st.jsx)(NF,{to:"/Makeaccount",children:"Account"}),(0,st.jsx)(NF,{to:"/Checkout",children:"Checkout"}),(0,st.jsx)(NF,{to:"/Admin",children:"Admin"}),(0,st.jsx)(NF,{to:"/Admininventory",children:"Admin inventory"})]})]})})},DF=n.p+"static/media/messi.b40cf5032a7263e37cab.jpeg";var RF=function(){return(0,st.jsxs)("div",{className:"login",children:[(0,st.jsx)("div",{className:"Messi",children:(0,st.jsx)("img",{src:DF})}),(0,st.jsxs)("div",{className:"login-info",children:[(0,st.jsx)("h2",{className:"header",children:"Welcome to Ekin"}),(0,st.jsx)("h5",{className:"sign-in",children:"ADMIN Sign in"}),(0,st.jsx)("div",{className:"forms",children:(0,st.jsxs)(fn.Group,{controlId:"formBasicEmail",children:[(0,st.jsx)(fn.Control,{className:"forms",type:"email",placeholder:"Email or Username"}),(0,st.jsx)(fn.Control,{type:"password",placeholder:"Password"})]})}),(0,st.jsxs)("div",{className:"middle-buttons",children:[(0,st.jsx)("div",{children:(0,st.jsx)(yn,{className:"button",children:"LOGIN NOW"})}),(0,st.jsx)("h6",{children:"Forgot your password?"})]})]})]})};var LF=function(){return(0,st.jsx)("div",{className:"App",children:(0,st.jsxs)(We,{children:[(0,st.jsx)(OF,{}),(0,st.jsxs)(Fe,{children:[(0,st.jsx)(je,{path:"/login",element:(0,st.jsx)(Fj,{})}),(0,st.jsx)(je,{path:"/Landing",element:(0,st.jsx)(ki,{})}),(0,st.jsx)(je,{path:"/Makeaccount",element:(0,st.jsx)(Vj,{})}),(0,st.jsx)(je,{path:"/Checkout",element:(0,st.jsx)(xn,{})}),(0,st.jsx)(je,{path:"/Admin",element:(0,st.jsx)(RF,{})}),(0,st.jsx)(je,{path:"/Admininventory",element:(0,st.jsx)(wn,{})})]})]})})},jF=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.render((0,st.jsx)(r.StrictMode,{children:(0,st.jsx)(LF,{})}),document.getElementById("root")),jF()}()}();
//# sourceMappingURL=main.fddd7c07.js.map